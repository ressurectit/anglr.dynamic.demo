(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9913],{9913:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RelationsComplexModule:()=>Bt});var a=n(14392),o=n(27052),r=n(48659),i=n(88382),s=n(89001),l=n(38707),u=n(35648),c=n(97212),d=n(66888),p=n(94761),g=n(8477),m=n(89651),h=n(97149),v=n(40921),y=n(56454),_=n(22804),f=n(17505),b=n(44055),w=n(45529),x=n(56179),C=n(99043),k=n(57489),M=n(79842),D=n(26159),T=n(30688),P=n(57466),F=n(27049),I=n(85638),N=n(89952),O=n(77653),R=n(40043),q=n(79440),U=n(77842),Z=n(73379),Y=n(76405),Q=n(41853),L=n(72891),z=n(66794),j=n(73301),A=n(84967),E=n(80239),S=n(41348),X=n(80285),B=n(71298);let J=class{get emptyMetadata(){return{id:`stackPanel-${(0,P.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}constructor(t,e){this._store=t,this.history=e,this._metadata=null}_getMetadata(t){return{layout:t}}_loadDemo(){this._metadata=I.F.demoRelationsComplexLayout}_loadRestDemo(){this._metadata=I.F.complexDemoRestLayout}_loadFullDemo(){this._metadata=I.F.complexDemoFullLayout}};J.ɵfac=function(t){return new(t||J)(q.Y(N.U),q.Y(m.dB))},J.ɵcmp=U.Xp({type:J,selectors:[["layout-editor-view"]],features:[Z._([y.z,{provide:g.qO,useFactory:t=>new _.I((e=>t.getData(e)?.layout)),deps:[N.U]},(0,h._)(),(0,T.iS)(),(0,v.rj)(),(0,w.m_)(),(0,x.vQ)(),(0,C.gJ)(),(0,k.hd)(),(0,M.Wh)([],R._),{provide:f.L,useClass:O.y},{provide:R._,useExisting:D.t},{provide:m.dK,useFactory:t=>t.registeredChange,deps:[R._],multi:!0}])],decls:18,vars:6,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","history","componentMarking","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"button",1)(2,"span"),Q._(3,"go back"),Y.qZ()(),Y.Tg(4,"load-save-new",2),L.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),Y.qZ(),Y.Tg(5,"button",3),L.N("click",(function(){return e._loadDemo()})),Y.Tg(6,"span"),Q._(7,"demo"),Y.qZ()(),Y.Tg(8,"button",3),L.N("click",(function(){return e._loadRestDemo()})),Y.Tg(9,"span"),Q._(10,"demo rest"),Y.qZ()(),Y.Tg(11,"button",3),L.N("click",(function(){return e._loadFullDemo()})),Y.Tg(12,"span"),Q._(13,"demo full"),Y.qZ()(),Y.Tg(14,"debug-data",4)(15,"div",5),Q._(16,"metadata"),Y.qZ()()(),Y._U(17,"layout-editor",6)),2&t&&(z.x(4),j.Q("store",e._store)("getMetadataCallback",e._getMetadata)("history",e.history)("componentMarking",!0),z.x(10),j.Q("copyClick",e._metadata),z.x(3),j.Q("metadata",e._metadata))},dependencies:[A.v,S.Z,X.v,E.o,B.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([F.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Object]),(0,a.w6)("design:returntype",Object)],J.prototype,"_getMetadata",null),J=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[N.U,b.Y])],J);var G=n(10618),V=n(15467),W=n(70625),K=n(20809),H=n(75990),$=n(68623),tt=n(15686),et=n(4477),nt=n(94727),at=n(6427),ot=n(32361),rt=n(12311),it=n(77470),st=n(27635),lt=n(4489),ut=n(81287),ct=n(31686),dt=n(60405),pt=n(68961),gt=n(36759),mt=n(67626),ht=n(86485),vt=n(6552);function yt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}const _t=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(9678),n.e(9776)]).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){yt(r,a,o,i,s,"next",t)}function s(t){yt(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var ft,bt=n(82568),wt=n(49280),xt=n(70983);function Ct(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let kt=ft=class{static get relationsId(){return"static-input"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new W.NI(""),this.booleanForm=new W.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(ft.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(ft.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){Ct(r,a,o,i,s,"next",t)}function s(t){Ct(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(ft.relationsId),this._componentManager.unregisterComponent(ft.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function Mt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}kt.ɵfac=function(t){return new(t||kt)(q.Y(pt.s),q.Y(mt.v),q.Y(ht.s))},kt.ɵcmp=U.Xp({type:kt,selectors:[["static-input"]],standalone:!0,features:[bt.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(Y.Tg(0,"div"),Q._(1,"INPUT:"),Y.qZ(),Y.Tg(2,"div",0),Y._U(3,"input",1)(4,"input",2),Y.qZ()),2&t&&(z.x(3),j.Q("formControl",e.stringForm),z.x(1),j.Q("formControl",e.booleanForm))},dependencies:[r.U,wt.Fj,xt.W,it.JJ,st.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,gt.A)(),(0,a.w6)("design:type",String)],kt.prototype,"stringOutput",void 0),(0,a.gn)([(0,gt.A)(),(0,a.w6)("design:type",Boolean)],kt.prototype,"booleanOutput",void 0),kt=ft=(0,a.gn)([(0,vt.i)(_t),(0,a.w6)("design:paramtypes",[pt.s,mt.v,ht.s])],kt);const Dt=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(9678),n.e(7863)]).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){Mt(r,a,o,i,s,"next",t)}function s(t){Mt(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();function Tt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}var Pt;let Ft=Pt=class{static get relationsId(){return"static-output"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(Pt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(Pt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){Tt(r,a,o,i,s,"next",t)}function s(t){Tt(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(Pt.relationsId),this._componentManager.unregisterComponent(Pt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function It(t,e){if(1&t&&Y._U(0,"ng-option",11),2&t){const t=e.$implicit;j.Q("value",t)("text",t)}}Ft.ɵfac=function(t){return new(t||Ft)(q.Y(pt.s),q.Y(mt.v),q.Y(ht.s))},Ft.ɵcmp=U.Xp({type:Ft,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[bt.j],decls:7,vars:2,template:function(t,e){1&t&&(Y.Tg(0,"div"),Q._(1,"OUTPUT:"),Y.qZ(),Y.Tg(2,"div")(3,"div"),Q._(4),Y.qZ(),Y.Tg(5,"div"),Q._(6),Y.qZ()()),2&t&&(z.x(4),at.hi("string: ",e.stringInput,""),z.x(2),at.hi("boolean: ",e.booleanInput,""))},dependencies:[r.U],encapsulation:2,changeDetection:0}),Ft=Pt=(0,a.gn)([(0,vt.i)(Dt),(0,a.w6)("design:paramtypes",[pt.s,mt.v,ht.s])],Ft);const Nt=function(t){return["/relationsComplex/layout",t]},Ot=function(t){return["/relationsComplex/relations",t]};let Rt=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new W.NI(""),this._metadata=null,this.selectedMetadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this.selectedMetadata=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this.selectedMetadata=null,this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};Rt.ɵfac=function(t){return new(t||Rt)(q.Y(N.U),q.Y(G.F0),q.Y(H.N),q.Y(V.gz))},Rt.ɵcmp=U.Xp({type:Rt,selectors:[["layout-preview-view"]],features:[Z._([{provide:g.qO,useFactory:t=>new _.I((e=>t.getData(e)?.layout)),deps:[N.U]},{provide:K.te,useFactory:t=>new _.I((e=>t.getData(e)?.relations)),deps:[N.U]},(0,M.Fy)(),(0,T.I1)(),(0,v.mi)(),(0,w.Ur)(),(0,x.WH)(),(0,C.qN)(),(0,k.ag)(),(0,$.cg)()])],decls:15,vars:11,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"a",1),Q._(2,"layout"),Y.qZ(),Y.Tg(3,"a",1),Q._(4,"relations"),Y.qZ(),Y.Tg(5,"ng-select",2),tt.Y(6,It,1,2,"ng-option",3),Y.qZ(),Y.Tg(7,"debug-data",4)(8,"div",5),Q._(9),Y.qZ()()(),Y.Tg(10,"div",6),Y._U(11,"static-input",7),Y.Tg(12,"div",8),et.Gk(13,9),Y.qZ(),Y._U(14,"static-output",10),Y.qZ()),2&t&&(z.x(1),j.Q("routerLink",nt.VK(7,Nt,e._available.value)),z.x(2),j.Q("routerLink",nt.VK(9,Ot,e._available.value)),z.x(2),j.Q("formControl",e._available),z.x(1),j.Q("ngForOf",e._availableNames),z.x(1),j.Q("copyClick",e.selectedMetadata),z.x(2),at.Oq(e._available.value),z.x(4),j.Q("layoutComponentRenderer",e._metadata))},dependencies:[rt.sg,it.JJ,st.oH,ot.r,lt.x,ut.w,ct.v,dt.i,X.v,E.o,kt,Ft],encapsulation:2,changeDetection:0}),Rt=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[N.U,G.F0,H.N,V.gz])],Rt);var qt=n(91861),Ut=n(80734),Zt=n(54870),Yt=n(43801),Qt=n(38327);class Lt extends Zt.w{getDefinedTypes(){const t={};return t[kt.relationsId]=kt,t[Ft.relationsId]=Ft,t}}Lt.ɵfac=function(){let t;return function(e){return(t||(t=Yt.n5(Lt)))(e||Lt)}}(),Lt.ɵprov=Qt.Yz({token:Lt,factory:Lt.ɵfac});var zt=n(31166),jt=n(71674);let At=class{get emptyMetadata(){return[]}constructor(t,e,n){this._store=t,this.history=e,this._layoutManager=n,this._metadata=[]}_getMetadata(t){return{relations:t}}_loadDemo(){this._metadata=I.F.demoRelationsComplexRelations}_loadRestDemo(){this._metadata=I.F.complexDemoRestRelations}_loadFullDemo(){this._metadata=I.F.complexDemoFullRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};At.ɵfac=function(t){return new(t||At)(q.Y(N.U),q.Y(qt.nR),q.Y(Ut.n))},At.ɵcmp=U.Xp({type:At,selectors:[["relations-editor-view"]],features:[Z._([y.z,{provide:K.te,useFactory:t=>new _.I((e=>t.getData(e)?.relations)),deps:[N.U]},(0,T.pS)(),(0,v.qm)(),(0,k.vu)(),(0,w.Od)(),(0,$.xb)(),(0,C.Rn)(),(0,x.El)(),(0,M.Kc)((0,M.Sf)(Lt),R._),{provide:f.L,useClass:zt.d}])],decls:15,vars:5,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","layoutControls","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"button",1)(2,"span"),Q._(3,"go back"),Y.qZ()(),Y.Tg(4,"load-save-new",2),L.N("metadataChange",(function(t){return e.setMetadata(t)})),Y.qZ(),Y.Tg(5,"button",3),L.N("click",(function(){return e._loadDemo()})),Y.Tg(6,"span"),Q._(7,"demo"),Y.qZ()(),Y.Tg(8,"button",3),L.N("click",(function(){return e._loadRestDemo()})),Y.Tg(9,"span"),Q._(10,"demo rest"),Y.qZ()(),Y.Tg(11,"button",3),L.N("click",(function(){return e._loadFullDemo()})),Y.Tg(12,"span"),Q._(13,"demo full"),Y.qZ()()(),Y._U(14,"relations-editor",4)),2&t&&(z.x(4),j.Q("store",e._store)("getMetadataCallback",e._getMetadata)("layoutControls",!1)("history",e.history),z.x(10),j.Q("metadata",e._metadata))},dependencies:[A.v,jt.Y,B.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([F.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Array]),(0,a.w6)("design:returntype",Object)],At.prototype,"_getMetadata",null),At=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[N.U,b.Y,Ut.n])],At);const Et=[J,At,Rt];var St=n(18567),Xt=n(53245);let Bt=class{};Bt.ɵfac=function(t){return new(t||Bt)},Bt.ɵmod=U.oA({type:Bt}),Bt.ɵinj=Qt.cJ({providers:[(0,Xt.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,r.U,i.Bz,u.A,c.p,d.W,l.s,St.Qw,kt,Ft]}),Bt=(0,a.gn)([(0,s.P)(Et)],Bt)},68623:(t,e,n)=>{"use strict";n.d(e,{cg:()=>_,xb:()=>y,Gc:()=>v});var a=n(14389),o=n(91861),r=n(20809),i=n(46480),s=n(11776),l=n(38327);function u(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}class c{constructor(t){this._logger=t}tryToGet(t){var e,a=this;return(e=function*(){try{return a._logger?.debug("RestDynamicModuleRelationsProvider: trying to get relations types for module {@module}",{moduleName:t.package}),"rest-components"===t.package?yield n.e(7867).then(n.bind(n,27867)):null}catch(e){a._logger?.debug("RestDynamicModuleRelationsProvider: module {@module} was not found, reason: "+e,{moduleName:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(t){u(r,a,o,i,s,"next",t)}function s(t){u(r,a,o,i,s,"throw",t)}i(void 0)}))})()}}function d(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}c.ɵfac=function(t){return new(t||c)(s.LF(i.bZ,8))},c.ɵprov=l.Yz({token:c,factory:c.ɵfac});class p{constructor(t){this._logger=t}tryToGet(t){var e,a=this;return(e=function*(){if("rest-components"!==t.package)return null;try{return a._logger?.debug("RestDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),yield n(2721)(`./${t.name}/type`)}catch(e){a._logger?.debug("RestDynamicModuleItemsProvider: item {@item} was not found, reason: "+e,{name:t.name,package:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(t){d(r,a,o,i,s,"next",t)}function s(t){d(r,a,o,i,s,"throw",t)}i(void 0)}))})()}}p.ɵfac=function(t){return new(t||p)(s.LF(i.bZ,8))},p.ɵprov=l.Yz({token:p,factory:p.ɵfac});const g={provide:o.GP,useClass:c,multi:!0},m={provide:o.n7,useClass:p,multi:!0},h={provide:r.B6,useClass:p,multi:!0};function v(){return[g,m,(0,a.XW)("rest-components")]}function y(){return[...v()]}function _(){return[h]}},2721:(t,e,n)=>{var a={"./rest/type":[20309,309]};function o(t){if(!n.o(a,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],o=e[0];return n.e(e[1]).then((()=>n(o)))}o.keys=()=>Object.keys(a),o.id=2721,t.exports=o}}]);
//# sourceMappingURL=9913.chunk.a53b776e8c1f70105542.js.map