"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[128],{69307:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(13691),r=n(82568);class a{}a.ɵfac=function(e){return new(e||a)},a.ɵcmp=o.Xp({type:a,selectors:[["layout-editor-drag-placeholder"]],standalone:!0,features:[r.j],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background: #0096cca2;\n    min-height: 10px;\n    width: 85%;\n    margin-left: auto;\n    margin-right: auto;\n    border-radius: 4px;\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}"],changeDetection:0})},53015:(e,t,n)=>{n.d(t,{s:()=>l});var o=n(13691),r=n(82568),a=n(80827),i=n(41853),s=n(66794),c=n(47286);class l{}l.ɵfac=function(e){return new(e||l)},l.ɵcmp=o.Xp({type:l,selectors:[["layout-editor-drag-preview"]],inputs:{editorMetadata:"editorMetadata",layoutMetadata:"layoutMetadata"},standalone:!0,features:[r.j],decls:4,vars:2,consts:[[1,"semi-bold"],[1,"margin-left-extra-small","small-text"]],template:function(e,t){if(1&e&&(a.Tg(0,"span",0),i._(1),a.qZ(),a.Tg(2,"span",1),i._(3),a.qZ()),2&e){let e;s.x(1),c.Oq(null!==(e=null==t.editorMetadata||null==t.editorMetadata.metaInfo?null:t.editorMetadata.metaInfo.name)&&void 0!==e?e:null==t.layoutMetadata?null:t.layoutMetadata.name),s.x(2),c.hi("#",(null==t.layoutMetadata?null:t.layoutMetadata.displayName)||(null==t.layoutMetadata?null:t.layoutMetadata.id),"")}},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background-color: #eee;\n    border-radius: 6px;\n    padding: 3px 8px;\n}"],changeDetection:0})},63152:(e,t,n)=>{n.d(t,{z:()=>l});var o=n(38223),r=n(22294),a=n(79440),i=n(13691),s=n(99055),c=n(83434);class l{constructor(e,t){this._cdkDropList=e,this._manager=t,this._initSubscriptions=new o.w,this._connectDropListsPrefix=""}set connectDropListsPrefix(e){this._connectDropListsPrefix=e,this._setConnectedTo()}get connectDropListsPrefix(){return this._connectDropListsPrefix??""}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.pipe((0,r.b)(12)).subscribe((()=>this._setConnectedTo()))),this._setConnectedTo()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}_setConnectedTo(){const e=this._manager.flatTree.filter((e=>e.component.canDrop())).map((e=>this.connectDropListsPrefix+e.component.id)).reverse().filter((e=>e!=this._cdkDropList.id));this._cdkDropList.connectedTo=e}}l.ɵfac=function(e){return new(e||l)(a.Y(s.W),a.Y(c.t))},l.ɵdir=i.lG({type:l,selectors:[["","cdkDropList","","connectDropLists",""]],inputs:{connectDropListsPrefix:"connectDropListsPrefix"},exportAs:["connectDropLists"],standalone:!0})},85902:(e,t,n)=>{n.d(t,{T:()=>c});var o=n(46480),r=n(11776),a=n(38327),i=n(12193);function s(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class c{constructor(e,t){this._loader=e,this._logger=t,this._cache={}}extractMetadata(e){var t,n=this;return(t=function*(){const t=`${e.package}-${e.name}`;if(n._cache[t])return n._cache[t];const o=yield n._loader.loadItem(e);if(!o)return null;const r=o.type;if(!r.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:e.package,name:e.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:e.package,name:e.name});const a=yield r.layoutEditorMetadata;return Object.freeze(a),n._cache[t]=a,a},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){s(a,o,r,i,c,"next",e)}function c(e){s(a,o,r,i,c,"throw",e)}i(void 0)}))})()}}c.ɵfac=function(e){return new(e||c)(r.LF(i.S),r.LF(o.bZ,8))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac,providedIn:"root"})},83434:(e,t,n)=>{n.d(t,{t:()=>c});var o=n(46480),r=n(43939),a=n(53682),i=n(11776),s=n(38327);class c{constructor(e){this._logger=e,this._components={},this._rootComponentId=null,this._selectedComponent=null,this._highlightedComponent=null,this._layoutChange=new a.xQ,this._selectedChange=new a.xQ,this._highlightedChange=new a.xQ,this._displayNameChanges=new a.xQ,this._flatTree=null}get selectedComponent(){return this._selectedComponent}get highlightedComponent(){return this._highlightedComponent}get root(){return(0,r.fp)(this._rootComponentId)?null:this._components[this._rootComponentId]}get layoutChange(){return this._layoutChange.asObservable()}get selectedChange(){return this._selectedChange.asObservable()}get highlightedChange(){return this._highlightedChange.asObservable()}get displayNameChange(){return this._displayNameChanges.asObservable()}get flatTree(){return this._flatTree??(this._flatTree=this._buildFlatTree())}selectComponent(e){this._selectedComponent=e??null,this._selectedChange.next()}unselectComponent(){this._selectedComponent=null,this._selectedChange.next()}highlightComponent(e){this._highlightedComponent=e??null,this._highlightedChange.next()}cancelHighlightedComponent(){this._highlightedComponent=null,this._highlightedChange.next()}registerLayoutDesignerComponent(e,t,n){if((0,r.fp)(n)&&(this._rootComponentId=t),this._components[t])return this._logger?.error(`LayoutEditorMetadataManager: Component with id ${t} is already registered!`),!1;const o=n?this._components[n]:null,a={component:e,parent:o,children:[]};return this._components[t]=a,o&&o.children.splice(o.children.length,0,a),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Registering component {@id}",t),!0}getComponent(e){return this._components[e]?.component??null}getParent(e){return this._components[e]?.parent?.component??null}unregisterLayoutDesignerComponent(e){const t=this._components[e];if(delete this._components[e],t?.parent){const e=t.parent.children.indexOf(t);t.parent.children.splice(e,1)}e===this._rootComponentId&&(this._rootComponentId=null),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Unregistering component {@id}",e)}displayNameUpdated(){this._displayNameChanges.next()}getMetadata(){return(0,r.fp)(this._rootComponentId)||!this._components[this._rootComponentId]?null:this._components[this._rootComponentId].component.options?.typeMetadata??null}_buildFlatTree(){if((0,r.fp)(this._rootComponentId))return[];const e=this._components[this._rootComponentId];return e?this._buildFlatTreeForComponent(e):[]}_buildFlatTreeForComponent(e){let t=[e];for(const n of e.children)t=t.concat(this._buildFlatTreeForComponent(n));return t}}c.ɵfac=function(e){return new(e||c)(i.LF(o.bZ,8))},c.ɵprov=s.Yz({token:c,factory:c.ɵfac})},60405:(e,t,n)=>{n.d(t,{i:()=>w});var o,r=n(74445),a=n(95176),i=n(46480),s=n(49891),c=n(87606),l=n(43939);!function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}));class d{constructor(e){this.missingTypeBehavior=o.ShowNotFound,(0,l.EN)(e)&&(this.missingTypeBehavior=e)}}var h=n(13691),p=n(82568),u=n(80827),m=n(41853);class g{}g.ɵfac=function(e){return new(e||g)},g.ɵcmp=h.Xp({type:g,selectors:[["not-found-layout-type"]],standalone:!0,features:[p.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,t){1&e&&(u.Tg(0,"div"),u._U(1,"span",0),u.Tg(2,"span"),m._(3,"NOT FOUND"),u.qZ(),u._U(4,"span",0),u.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var _=n(8477),f=n(79440),y=n(15783),C=n(73379),v=n(36973),x=n(12193);function b(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class w{constructor(e,t,n,o,a,i){this._viewContainerRef=e,this._loader=t,this._childExtensions=n,this._options=o,this._metadataTransformer=a,this._logger=i,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new r.v,this._options&&this._options instanceof d||(this._options=new d)}get component(){return this._componentRef?this._componentRef.instance:null}get componentRef(){return this._componentRef}ngOnChanges(e){var t,n=this;return(t=function*(){if(n._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:n.componentMetadata?.id}),n.ngOnDestroy(),n._viewContainerRef.clear(),(0,s.$)("componentMetadata")in e&&n.componentMetadata){const e=n.customInjector||n._viewContainerRef.injector;let t=n.componentMetadata;n._metadataTransformer&&!n.disableTransformer&&(t=n._metadataTransformer(n.componentMetadata,e));const r=yield n._loader.loadItem(t);if(!r){switch(n._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:t.name,package:t.package}),n._options?.missingTypeBehavior){default:n._viewContainerRef.createComponent(g);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${t.name} Package: ${t.package}`)}return}const i=a.z.create({parent:e,providers:[{provide:_.X,useValue:r.childExtensions}]});n._componentRef=n._viewContainerRef.createComponent(r.type,{injector:i}),n._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:t?.id}),n.componentChange.next(n._componentRef),n.component&&(n.component.registerExtensions([...n._childExtensions?.map((e=>new e))??[],...r?.extensions?.map((e=>new e))??[]]),n._logger?.debug("LayoutComponentRendererSADirective: initializing component with options {@id}",{id:t?.id}),yield(0,c.K)(n.component.initialize?.(t.options)),n._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:t?.id}),n.component?.invalidateVisuals())}},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){b(a,o,r,i,s,"next",e)}function s(e){b(a,o,r,i,s,"throw",e)}i(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}w.ɵfac=function(e){return new(e||w)(f.Y(y.s_),f.Y(x.S),f.Y(_.X,12),f.Y(d,8),f.Y(_.x,8),f.Y(i.bZ,8))},w.ɵdir=h.lG({type:w,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[C._([{provide:_.X,useValue:null}]),v.T]})},12193:(e,t,n)=>{n.d(t,{S:()=>d});var o=n(46480),r=n(87606),a=n(43939),i=n(13457),s=n(11776),c=n(38327);function l(e,t,n,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class d{constructor(e,t,n,o){this._providers=e,this._extractors=t,this._extensionsExtractors=n,this._logger=o,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[]),Array.isArray(this._extensionsExtractors)||(this._logger?.error("DynamicItemLoader: missing extensions extractors!"),this._extensionsExtractors=[])}loadItem(e){var t,n=this;return(t=function*(){let t=null;const o=`${e.package}-${e.name}`;if(n._cachedDynamicItems[o])return n._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:e.name,package:e.package}),n._cachedDynamicItems[o];for(const o of n._providers){const n=o.tryToGet(e);if(t=n?yield(0,r.K)(n):null,t)break}if(!t)return n._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:e.name,package:e.package}),null;let i=null;for(const e of n._extractors){const r=e.tryToExtract(t);if(r&&(0,a.P9)(r)){n._cachedDynamicItems[o]=i={type:r};break}}if(!i)return n._logger?.debug("DynamicItemLoader: Failed to extract dynamic type {@source}",{name:e.name,package:e.package}),null;for(const e of n._extensionsExtractors){const n=e.tryToExtract(t);if(n){i.extensions=n.extensions,i.childExtensions=n.childExtensions;break}}return i},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){l(a,o,r,i,s,"next",e)}function s(e){l(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}d.ɵfac=function(e){return new(e||d)(s.LF(i.iD),s.LF(i.WU),s.LF(i.ix),s.LF(o.bZ,8))},d.ɵprov=c.Yz({token:d,factory:d.ɵfac,providedIn:"root"})}}]);
//# sourceMappingURL=128.chunk.105009df0213fdd7c81a.js.map