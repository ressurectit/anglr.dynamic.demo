"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[49],{49:(e,n,t)=>{t.r(n),t.d(n,{default:()=>D});var o=t(2032),r=t(27052),i=t(53867),a=t(49308),s=t(17714),c=t(57466),l=t(94596);function d(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}class p extends l.X{_getInstance(){return(e=function*(){return new((yield t.e(169).then(t.bind(t,14169))).GridPanelLayoutEditorMetadata)},function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){d(i,o,r,a,s,"next",e)}function s(e){d(i,o,r,a,s,"throw",e)}a(void 0)}))})();var e}}var u=t(4477),m=t(15686),f=t(66794),h=t(73301),g=t(43801),y=t(77842),_=t(47098),v=t(82568),w=t(12311);function C(e,n){}function R(e,n){if(1&e&&(u.yn(0),m.Y(1,C,0,0,"ng-template",1),u.BQ()),2&e){const e=n.$implicit;f.x(1),h.Q("layoutComponentRenderer",e)}}let b=class extends i.N{_optionsSet(){this._fixCells();const e=this._element.nativeElement.style;let n="",t="";if(this._options?.rows&&Array.isArray(this._options?.rows))for(const e of this._options.rows)n+=`${e.height} `;if(this._options?.columns&&Array.isArray(this._options?.columns))for(const e of this._options.columns)t+=`${e.width} `;e.gridTemplateRows=n.trim(),e.gridTemplateColumns=t.trim()}_fixCells(){var e;if(!this._options)return;(e=this._options).cells??(e.cells=[]);const n=[];for(let e=0;e<(this._options.rows??[]).length;e++)for(let t=0;t<(this._options.columns??[]).length;t++)n[e]??(n[e]=[]),n[e][t]="";for(const e of this._options.cells){e.package="basic-components",e.name="gridPanelCell";for(let t=e.options?.gridRowStart??1;t<(e.options?.gridRowEnd??2);t++)for(let o=e.options?.gridColumnStart??1;o<(e.options?.gridColumnEnd??2);o++){const r=t-1,i=o-1;""===n[r][i]&&(n[r][i]=e.id)}}for(let e=1;e<=(this._options.rows??[]).length;e++)for(let t=1;t<=(this._options.columns??[]).length;t++)""===n[e-1][t-1]&&this._options.cells.push({id:`${(0,c.Ox)(6)}-r${e}-${e+1}-c${t}-${t+1}`,package:"basic-components",name:"gridPanelCell",options:{gridRowStart:e,gridRowEnd:e+1,gridColumnStart:t,gridColumnEnd:t+1}})}};b.ɵfac=function(){let e;return function(n){return(e||(e=g.n5(b)))(n||b)}}(),b.ɵcmp=y.Xp({type:b,selectors:[["grid-panel"]],standalone:!0,features:[_.q,v.j],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"layoutComponentRenderer"]],template:function(e,n){1&e&&m.Y(0,R,2,1,"ng-container",0),2&e&&h.Q("ngForOf",null==n.options?null:n.options.cells)},dependencies:[r.e,w.s,a.i],styles:["[_nghost-%COMP%]\n{\n    display: grid;\n}"],changeDetection:0}),b=(0,o.gn)([(0,s.w)(p)],b);const D=b},49308:(e,n,t)=>{t.d(n,{i:()=>v});var o=t(74445),r=t(46480),i=t(49891),a=t(78950),s=t(31918),c=t(77842),l=t(82568),d=t(80827),p=t(41853);class u{}u.ɵfac=function(e){return new(e||u)},u.ɵcmp=c.Xp({type:u,selectors:[["not-found-layout-type"]],standalone:!0,features:[l.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,n){1&e&&(d.Tg(0,"div"),d._U(1,"span",0),d.Tg(2,"span"),p._(3,"NOT FOUND"),d.qZ(),d._U(4,"span",0),d.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var m=t(8477),f=t(79440),h=t(8215),g=t(36973),y=t(12193);function _(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}class v{constructor(e,n,t,r,i){this._viewContainerRef=e,this._loader=n,this._options=t,this._metadataTransformer=r,this._logger=i,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new o.v,this._options&&this._options instanceof a.W||(this._options=new a.W)}get component(){return this._componentRef?this._componentRef.instance:null}ngOnChanges(e){var n,t=this;return(n=function*(){if(t._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:t.componentMetadata?.id}),t.ngOnDestroy(),t._viewContainerRef.clear(),(0,i.$)("componentMetadata")in e&&t.componentMetadata){const e=t.customInjector||t._viewContainerRef.injector;let n=t.componentMetadata;t._metadataTransformer&&!t.disableTransformer&&(n=t._metadataTransformer(t.componentMetadata,e));const o=yield t._loader.loadItem(n);if(!o){switch(t._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:n.name,package:n.package}),t._options?.missingTypeBehavior){default:t._viewContainerRef.createComponent(u);break;case s.q.Ignore:break;case s.q.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${n.name} Package: ${n.package}`)}return}t._componentRef=t._viewContainerRef.createComponent(o.type,{injector:e}),t._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:n?.id}),t.componentChange.next(t._componentRef),t.component&&(t._logger?.debug("LayoutComponentRendererSADirective: setting component options {@id}",{id:n?.id}),t.component.options=n.options,t._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:n?.id}),t.component?.invalidateVisuals())}},function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function a(e){_(i,o,r,a,s,"next",e)}function s(e){_(i,o,r,a,s,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}v.ɵfac=function(e){return new(e||v)(f.Y(h.s_),f.Y(y.S),f.Y(a.W,8),f.Y(m.x,8),f.Y(r.bZ,8))},v.ɵdir=c.lG({type:v,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[g.T]})},78950:(e,n,t)=>{t.d(n,{W:()=>i});var o=t(43939),r=t(31918);class i{constructor(e){this.missingTypeBehavior=r.q.ShowNotFound,(0,o.EN)(e)&&(this.missingTypeBehavior=e)}}},31918:(e,n,t)=>{var o;t.d(n,{q:()=>o}),function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}))},12193:(e,n,t)=>{t.d(n,{S:()=>d});var o=t(46480),r=t(87606),i=t(43939),a=t(13457),s=t(11776),c=t(38327);function l(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}class d{constructor(e,n,t){this._providers=e,this._extractors=n,this._logger=t,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[])}loadItem(e){var n,t=this;return(n=function*(){let n=null;const o=`${e.package}-${e.name}`;if(t._cachedDynamicItems[o])return t._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:e.name,package:e.package}),t._cachedDynamicItems[o];for(const o of t._providers){const t=o.tryToGet(e);if(n=t?yield(0,r.K)(t):null,n)break}if(!n)return t._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:e.name,package:e.package}),null;for(const e of t._extractors){const r=e.tryToExtract(n);if(r&&(0,i.P9)(r)){const e={type:r};return t._cachedDynamicItems[o]=e}}return t._logger?.debug("DynamicItemLoader: Failed to extract dynamic type {@source}",{name:e.name,package:e.package}),null},function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function a(e){l(i,o,r,a,s,"next",e)}function s(e){l(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}d.ɵfac=function(e){return new(e||d)(s.LF(a.iD),s.LF(a.WU),s.LF(o.bZ,8))},d.ɵprov=c.Yz({token:d,factory:d.ɵfac,providedIn:"root"})},87606:(e,n,t)=>{function o(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function i(e){return a.apply(this,arguments)}function a(){return(a=r((function*(e){return e instanceof Promise?yield e:e}))).apply(this,arguments)}t.d(n,{K:()=>i})}}]);
//# sourceMappingURL=49.chunk.5e90bdc44caf18c39a2c.js.map