"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7618],{18430:(t,n,e)=>{e.d(n,{W:()=>vt});var i=e(97881),o=e(38935),r=e(27398),s=e(29415),a=e(3504),c=e(43444),l=e(16537),d=e(6981),u=e(16201),p=e(46735),g=e(85410),f=e(80354),h=e(5327),y=e(78190);const m={initialItemsPerPage:NaN,initialPage:1,cssClasses:{}};class v extends d.h{firstItemIndex=0;static ɵfac=(()=>{let t;return function(n){return(t||(t=p.n5(v)))(n||v)}})();static ɵcmp=g.Xp({type:v,selectors:[["ng-no-paging"]],standalone:!0,features:[f._([{provide:u.WN,useValue:m}]),h.q,y.j],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0})}var C=e(98258),w=e(12009),S=e(3668);function x(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function D(t){return function(){var n,e=(n=function*(n){n.gridOptions=t,yield n.initOptions(),yield(0,w.n)(n.pluginsOptionsInitialized.pipe((0,S.P)((t=>t))))},function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function s(t){x(r,i,o,s,a,"next",t)}function a(t){x(r,i,o,s,a,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}()}var O=e(73943);function z(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function I(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function P(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var r=t.apply(n,e);function s(t){I(r,i,o,s,a,"next",t)}function a(t){I(r,i,o,s,a,"throw",t)}s(void 0)}))}}const b=function(){var t=P((function*(){return new((yield Promise.all([e.e(9177),e.e(6506)]).then(e.bind(e,89243))).DataTableLayoutEditorMetadata)}));return function(){return t.apply(this,arguments)}}(),R=function(){var t=P((function*(){return(yield e.e(7336).then(e.bind(e,37336))).DataTableDesignerSAComponent}));return function(){return t.apply(this,arguments)}}();var j=e(30891),L=e(31530),k=e(32779),G=e(55940),E=e(17102),T=e(19630),N=e(68339),B=e(81293),F=e(25657),Q=e(31040),$=e(14611),q=e(76311),H=e(44902);let W=class{constructor(){this.row=null}invalidateVisuals(){}};function _(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function V(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var r=t.apply(n,e);function s(t){_(r,i,o,s,a,"next",t)}function a(t){_(r,i,o,s,a,"throw",t)}s(void 0)}))}}(0,i.gn)([(0,q.A)(),(0,i.w6)("design:type",Object)],W.prototype,"row",void 0),W=(0,i.gn)([(0,H.h)({outputs:[(0,O.$0)("row")]})],W);class M{constructor(t){this.relations=new W,this.row=null,this.componentManager=t.get(B.s),this.relationsProcessor=t.get(F.v);const n=t.get(vt).options?.columns.id;if(!n)throw new Error("GridColumnsRelationsHelper: missing component ID!");this.componentId=n,this.register()}dynamicOnChanges(t){var n=this;return V((function*(){(0,O.$0)("row")in t&&(n.relations.row=n.row)}))()}destroy(){this.relationsProcessor.destroyComponent(this.componentId),this.componentManager.unregisterComponent(this.componentId)}register(){var t=this;return V((function*(){t.componentManager.registerComponent(t.componentId,t.relations),yield t.relationsProcessor.initialized,t.relationsProcessor.updateRelations(t.componentId)}))()}}var A=e(52622);const Y={defaults:G.q,cssClasses:{gridContainerClass:"grid-container-css-grid",headerContainerClass:"grid-header-css-grid",contentContainerClass:"grid-body-css-grid",footerContainerClass:"grid-footer-css-grid",headerRowContainerClass:"grid-header-row-css-grid",contentRowContainerClass:"grid-content-row-css-grid",footerRowContainerClass:"grid-footer-row-css-grid"}},X=new j.O("SCOPE_IDENTIFIER");class Z extends E.e{constructor(){super(...arguments),this.injectors=[],this.relationsHelpers=[]}renderContentRowsContainers(){const t=this.currentViewContainer.viewContainer,n=(0,O.Ox)(6),e=this.dataLoader?.result(),i=e?.data?.length??0,o=this.metadataSelector?.metadata();for(const t of this.relationsHelpers)t.destroy();for(const t of this.injectors){const n=t;n.get(B.s).ngOnDestroy(),n.get(F.v).destroyScope(),t.destroy()}this.injectors=[],this.relationsHelpers=[];for(let r=0;r<i;r++){const i=e?.data[r];this.parentInjectorFn=e=>{if(e.get(X,null,{optional:!0})===n)return e;if(this.injectors.length==r+1)return this.injectors[r];const o=L.z.create({providers:[{provide:X,useValue:n},{provide:B.s,useFactory:()=>(0,k.f3)(B.s,{skipSelf:!0}).openScope((0,k.f3)(T.H$))},{provide:F.v,useFactory:()=>(0,k.f3)(F.v,{skipSelf:!0}).openScope((0,k.f3)(T.H$),(0,k.f3)(B.s),(0,k.f3)(L.z))},Q.H,$.t],parent:t?.injector}),s=new M(o),a={};return(0,N.mv)(a,"row",i,null,!0),s.row=i,s.dynamicOnChanges(a),this.injectors[r]=o,this.relationsHelpers[r]=s,o},this.renderRowContainer(o?.contentRowContainer?.length?o?.contentRowContainer:[{template:this.defaultsSafe.contentRowContainer,predicate:null,columns:null}],(t=>t.bodyTemplate),this.renderContentOrFooterCell,((t,n)=>this.getGridDataRowContext(r,i,n)))}this.parentInjectorFn=null}createInjector(t,n=[]){return this.parentInjectorFn&&(t=this.parentInjectorFn(t)),L.z.create({providers:[...n],parent:t})}}Z.ɵfac=(()=>{let t;return function(n){return(t||(t=p.n5(Z)))(n||Z)}})(),Z.ɵcmp=g.Xp({type:Z,selectors:[["div",8,"matrix-content-renderer"]],standalone:!0,features:[f._([{provide:u.WN,useValue:Y},{provide:u.RI,useFactory:()=>({viewContainer:null})}]),h.q,y.j],attrs:["class","matrix-content-renderer"],decls:4,vars:0,consts:[["container",""],["defaults",""]],template:function(t,n){1&t&&A.Gk(0,null,0)(2,null,1)},encapsulation:2,changeDetection:0});var J=e(88809),K=e(46430),U=e(67942),tt=e(57284),nt=e(10065),et=e(77217),it=e(36273),ot=e(31419),rt=e(74431),st=e(60460),at=e(6609);function ct(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function lt(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var r=t.apply(n,e);function s(t){ct(r,i,o,s,a,"next",t)}function a(t){ct(r,i,o,s,a,"throw",t)}s(void 0)}))}}const dt=["grid"];function ut(t,n){1&t&&A.Gk(0)}function pt(t,n){1&t&&A.Gk(0)}function gt(t,n){1&t&&A.Gk(0)}function ft(t,n){if(1&t&&(J.Tg(0,"div"),K.Y(1,gt,1,0,"ng-container",6),J.qZ()),2&t){const t=U.o().$implicit;tt.x(1),nt.Q("layoutComponentRenderer",t.header)}}function ht(t,n){1&t&&A.Gk(0)}function yt(t,n){if(1&t&&(J.Tg(0,"div"),K.Y(1,ht,1,0,"ng-container",6),J.qZ()),2&t){const t=U.o().$implicit;tt.x(1),nt.Q("layoutComponentRenderer",t.content)}}function mt(t,n){if(1&t&&(A.yn(0,3),K.Y(1,ft,2,1,"div",4)(2,yt,2,1,"div",5),A.BQ()),2&t){const t=n.$implicit;nt.Q("matrixGridColumn",t.id)("width",t.width)}}let vt=class extends o.h{constructor(){super(...arguments),this.initializationStatus={dataLoader:!1,paging:!1},this.colsDef=[],this.gridOptions={autoInitialize:!1,plugins:{contentRenderer:{type:Z}}}}get gridSafe(){if(!this.grid)throw new Error("DataTableSAComponent: missing grid instance!");return this.grid}dataLoaderCallback(t){var n=this;return lt((function*(){const e=t,i=e.component?.instance;i.setGridInstance(n.gridSafe),n.gridSafe.execute(D({plugins:{dataLoader:i.pluginDescription}})),n.initializationStatus.dataLoader=!0,n.initializeGrid()}))()}pagingCallback(t){var n=this;return lt((function*(){const e=t,i=e.component?.instance;i.setGridInstance(n.gridSafe),n.gridSafe.execute(D({plugins:{paging:i.pluginDescription}})),n.initializationStatus.paging=!0,n.initializeGrid()}))()}onInit(){for(const t of this.optionsSafe.columns.options?.columns??[]){const n={id:t.id,header:null,content:null,width:t.options?.width??"1fr"};n.header=t.options?.header.options?.content,n.content=t.options?.content.options?.content,this.colsDef.push(n)}this.changeDetector.detectChanges(),this.initializeGrid()}initializeGrid(){var t=this;return lt((function*(){var n,e;t.initializationStatus.dataLoader||t.optionsSafe.dataLoader.options?.plugin||(t.gridSafe.execute(D({plugins:{dataLoader:{options:{data:[]},type:l.g}}})),t.initializationStatus.dataLoader=!0),t.initializationStatus.paging||t.optionsSafe.paging.options?.plugin||(t.gridSafe.execute(D({plugins:{paging:{type:v}}})),t.initializationStatus.paging=!0),t.initializationStatus.dataLoader&&t.initializationStatus.paging&&(yield t.gridSafe.execute(function(){var t,i=(t=function*(t){const i=!!(0,O.jn)(n)&&n,o=e??(0,O.jn)(n)?void 0:n;o&&(t.gridOptions=o),yield t.initOptions(),yield(0,w.n)(t.pluginsOptionsInitialized.pipe((0,S.P)((t=>t)))),yield t.initialize(i)},function(){var n=this,e=arguments;return new Promise((function(i,o){var r=t.apply(n,e);function s(t){z(r,i,o,s,a,"next",t)}function a(t){z(r,i,o,s,a,"throw",t)}s(void 0)}))});return function(t){return i.apply(this,arguments)}}()))}))()}};vt.ɵfac=(()=>{let t;return function(n){return(t||(t=p.n5(vt)))(n||vt)}})(),vt.ɵcmp=g.Xp({type:vt,selectors:[["data-table"]],viewQuery:function(t,n){if(1&t&&et.Gf(dt,7),2&t){let t;et.iG(t=et.CR())&&(n.grid=t.first)}},standalone:!0,features:[h.q,y.j],decls:6,vars:5,consts:[[4,"layoutComponentRenderer","layoutComponentRendererCallback"],["ngGrid","",3,"gridOptions"],["grid",""],[3,"matrixGridColumn","width"],[4,"headerCellTemplate"],[4,"contentCellTemplate"],[4,"layoutComponentRenderer"]],template:function(t,n){1&t&&(K.Y(0,ut,1,0,"ng-container",0)(1,pt,1,0,"ng-container",0),J.Tg(2,"div",1,2),it.Sj(4,mt,3,2,"ng-container",3,it.x6),J.qZ()),2&t&&(nt.Q("layoutComponentRenderer",null==n.options||null==n.options.dataLoader||null==n.options.dataLoader.options?null:n.options.dataLoader.options.plugin)("layoutComponentRendererCallback",n.dataLoaderCallback),tt.x(1),nt.Q("layoutComponentRenderer",null==n.options||null==n.options.paging||null==n.options.paging.options?null:n.options.paging.options.plugin)("layoutComponentRendererCallback",n.pagingCallback),tt.x(1),nt.Q("gridOptions",n.gridOptions),tt.x(2),it.wJ(n.colsDef))},dependencies:[C.z,ot.V,rt.T,st.C,at.R,r.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0}),(0,i.gn)([O.ru,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",Promise)],vt.prototype,"dataLoaderCallback",null),(0,i.gn)([O.ru,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",Promise)],vt.prototype,"pagingCallback",null),vt=(0,i.gn)([(0,s.T)((t=>t?[t.columns,t.paging,t.dataLoader]:[])),(0,a.W)(R),(0,c.w)(b)],vt)},17618:(t,n,e)=>{e.r(n),e.d(n,{default:()=>o,extensions:()=>r});var i=e(28369);const o=e(18430).W,r=[i.O]},3504:(t,n,e)=>{e.d(n,{W:()=>o});var i=e(27834);function o(t){return(0,i.R)(t,"layoutEditorDesignerType")}},43444:(t,n,e)=>{e.d(n,{w:()=>o});var i=e(27834);function o(t){return(0,i.R)(t,"layoutEditorMetadata")}},38935:(t,n,e)=>{e.d(n,{h:()=>p});var i=e(32779),o=e(49276),r=e(25413),s=e(31530),a=e(95127),c=e(73943),l=e(85410);function d(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var r=t.apply(n,e);function s(t){d(r,i,o,s,a,"next",t)}function a(t){d(r,i,o,s,a,"throw",t)}s(void 0)}))}}class p{constructor(){this.extensions=[],this.destroyed=!1,this.changeDetector=(0,i.f3)(o.s),this.componentElement=(0,i.f3)(r.SB),this.injector=(0,i.f3)(s.z),this.logger=(0,i.f3)(a.bZ)}get optionsSafe(){if(!this.options)throw new Error("LayoutComponentBase: missing options");return this.options}get element(){return this.componentElement}get extensionsOptions(){return this.options}ngOnDestroy(){if(this.logger.debug("LayoutComponentBase: destroying component, isDestroyed {{destroyed}}",{destroyed:this.destroyed}),!this.destroyed){this.destroyed=!0;for(const t of this.extensions)t.destroy();this.onDestroy()}}dynamicOnInit(){var t=this;return u((function*(){const n=t.extensionsOptions;if(yield t.onInit(),yield t.onOptionsSet(),n)for(const n of t.extensions)yield n.initialize(t.injector,t.element,t);yield t.afterInit()}))()}dynamicOnChanges(t){var n=this;return u((function*(){if((0,c.$0)("options")in t){t[(0,c.$0)("options")].firstChange||(yield n.onOptionsSet());const e=n.extensionsOptions;if(e)for(const t of n.extensions)yield t.optionsChange(e);if(t[(0,c.$0)("options")].firstChange)return;yield n.onOptionsChange()}delete t[(0,c.$0)("options")],(0,c.Qr)(t)||n.onChanges(t)}))()}registerExtensions(t){this.extensions=t}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(t){}onOptionsSet(){}onDestroy(){}}p.ɵfac=function(t){return new(t||p)},p.ɵdir=l.lG({type:p})},28369:(t,n,e)=>{e.d(n,{O:()=>r});var i=e(91955),o=e(73943);class r extends i.z{onInit(){this.applyStyling()}onOptionsChange(){this.applyStyling()}applyStyling(){const t=this.options,n=this.element?.nativeElement.style;if(this.element){if((0,o.EN)(this.lastCssClass))for(const t of this.lastCssClass.split(" "))t&&this.element.nativeElement.classList.remove(t);if(this.lastCssClass=t?.cssClass,t?.cssClass)for(const n of t.cssClass.split(" "))n&&this.element?.nativeElement.classList.add(n)}(0,o.EN)(n)&&(t?.margin&&(n.marginBottom=t.margin.bottom??"",n.marginRight=t.margin.right??"",n.marginTop=t.margin.top??"",n.marginLeft=t.margin.left??""),t?.padding&&(n.paddingBottom=t.padding.bottom??"",n.paddingRight=t.padding.right??"",n.paddingTop=t.padding.top??"",n.paddingLeft=t.padding.left??""),t?.textStyling&&(n.fontSize=t.textStyling.fontSize??"",n.fontWeight=t.textStyling.fontWeight?.toString()??""))}}},91955:(t,n,e)=>{function i(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}function o(t){return function(){var n=this,e=arguments;return new Promise((function(o,r){var s=t.apply(n,e);function a(t){i(s,o,r,a,c,"next",t)}function c(t){i(s,o,r,a,c,"throw",t)}a(void 0)}))}}e.d(n,{z:()=>r});class r{constructor(t){this.metadata=t,this.initialized=!1}initialize(t,n,e){var i=this;return o((function*(){i.initialized=!0,i.injector=t,i.element=n,i.instance=e,yield i.onInit()}))()}optionsChange(t){var n=this;return o((function*(){n.options=t,n.initialized&&(yield n.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}},16537:(t,n,e)=>{e.d(n,{g:()=>S});var i=e(22299),o=e(73943),r=e(12009),s=e(78682),a=e(93253),c=e(31250),l=e(6095),d=e(16914);const u=(t,n)=>(t.push(n),t);var p=e(60526),g=e(16201),f=e(46524),h=e(80033),y=e(85410),m=e(5327),v=e(78190);function C(t,n,e,i,o,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,o)}const w={autoLoadData:!0,accumulateData:!1,debounceDataCallback:30,data:[],orderData:(t,n)=>n?t.sort(((t,e)=>t[n.orderBy]<e[n.orderBy]?n.orderByDirection==o.eQ.Ascending?-1:1:t[n.orderBy]>e[n.orderBy]?n.orderByDirection==o.eQ.Ascending?1:-1:0)):t};class S extends p.C{ɵresult=(0,i.t)({data:[],totalCount:0});get result(){return this.ɵresult.asReadonly()}constructor(t){super(w,t)}loadGridData(t){var n,e=this;return(n=function*(){if(!t&&!e.checkChanges())return;let n=[...e.ɵoptions.data];e.ɵstate.set(n&&n.length?f.j.DataLoading:f.j.NoDataLoading),e.ɵoptions.orderData&&(n=e.ɵoptions.orderData(n,e.ordering?.ordering()??void 0));const i=e.paging?.page()??1,o=e.paging?.itemsPerPage()??0;n=yield(0,r.n)((0,s.D)(n).pipe((0,a.T)((i-1)*(isNaN(o)?0:o)),isNaN(o)?t=>t:(0,c.q)(o),(0,d.e)(((t,n)=>{(function(t,n){return(0,d.e)((0,l.U)(t,n,arguments.length>=2,!1,!0))})(u,[])(t).subscribe(n)})))),e.ɵstate.set(n&&n.length?f.j.Loaded:f.j.NoData),e.ɵresult.set({data:e.ɵoptions.accumulateData?[...e.ɵresult().data,...n]:n,totalCount:e.ɵoptions.data.length})},function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function s(t){C(r,i,o,s,a,"next",t)}function a(t){C(r,i,o,s,a,"throw",t)}s(void 0)}))})()}static ɵfac=function(t){return new(t||S)(h.Y(g.Kr,8))};static ɵcmp=y.Xp({type:S,selectors:[["ng-sync-data-loader"]],standalone:!0,features:[m.q,v.j],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0})}}}]);
//# sourceMappingURL=7618.chunk.0b76ca8fed1ee5867219.js.map