"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[4403],{64403:(t,e,n)=>{n.r(e),n.d(e,{default:()=>ut});var i=n(27052),o=n(989),a=n(46480),r=n(13691),s=n(38327);class d{}d.ɵfac=function(t){return new(t||d)},d.ɵmod=r.oA({type:d}),d.ɵinj=s.cJ({});var l=n(53633),c=n(60405),p=n(43939),u=n(87606),h=n(38223),g=n(79440),m=n(4905),_=n(55436);class y{constructor(t){this._element=t,this._initSubscriptions=new h.w}ngOnInit(){this._observer=new ResizeObserver((t=>{for(const e of t)this._updatedDimensions(e.contentRect)})),this._initSubscriptions.add(this._layoutComponentRendererDirective?.componentChange.subscribe((t=>{if(!t)return void this._observer?.disconnect();const e=t.hostView.rootNodes[0];this._updatedDimensions(e.getBoundingClientRect()),this._observer?.observe(e)})))}ngOnDestroy(){this._observer?.disconnect(),this._initSubscriptions.unsubscribe()}_updatedDimensions(t){30!=t.height&&(t.height<=0?this._element.nativeElement.style.minHeight="30px":this._element.nativeElement.style.minHeight=""),30!=t.width&&(t.width<=0?this._element.nativeElement.style.minWidth="30px":this._element.nativeElement.style.minWidth="")}}y.ɵfac=function(t){return new(t||y)(g.Y(m.SB))},y.ɵdir=r.lG({type:y,selectors:[["","designerMinWidth",""]],contentQueries:function(t,e,n){if(1&t&&_.Su(n,c.i,7),2&t){let t;_.iG(t=_.CR())&&(e._layoutComponentRendererDirective=t.first)}},standalone:!0});var v=n(85902);function f(t,e,n,i,o,a,r){try{var s=t[a](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,o)}class M{constructor(t,e){this._element=t,this._metadataExtractor=e}get metadata(){return this._metadata}set metadata(t){this._metadata=t,this._copyDesignerStyles()}_copyDesignerStyles(){var t,e=this;return(t=function*(){if(!e._metadata)return;const t=(yield e._metadataExtractor.extractMetadata(e._metadata))?.applyDesignerStyles;t&&t(e._metadata.options,e._element.nativeElement.style)},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){f(a,i,o,r,s,"next",t)}function s(t){f(a,i,o,r,s,"throw",t)}r(void 0)}))})()}}M.ɵfac=function(t){return new(t||M)(g.Y(m.SB),g.Y(v.T))},M.ɵdir=r.lG({type:M,selectors:[["","copyDesignerStyles",""]],inputs:{metadata:["copyDesignerStyles","metadata"]},exportAs:["copyDesignerStyles"],standalone:!0});var D=n(63152),b=n(53015),C=n(69307),E=n(68961),O=n(82568),w=n(80827),x=n(85320),P=n(66794);class k{constructor(t,e){this._element=t,this._changeDetector=e}ngOnInit(){this._observer=new MutationObserver((()=>this._changeDetector.detectChanges())),this._htmlElement=this.layoutComponentRendererDirective?.componentRef?.hostView?.rootNodes?.[0],this._htmlElement&&this._observer?.observe(this._htmlElement,{attributeFilter:["style"]})}ngOnDestroy(){this._observer?.disconnect()}}k.ɵfac=function(t){return new(t||k)(g.Y(m.SB),g.Y(E.s))},k.ɵcmp=r.Xp({type:k,selectors:[["","layoutDesignerOverlayFor",""]],inputs:{layoutComponentRendererDirective:["layoutDesignerOverlayFor","layoutComponentRendererDirective"]},standalone:!0,features:[O.j],attrs:["layoutDesignerOverlayFor",""],decls:12,vars:24,consts:[[1,"margin-top-div"],[1,"margin-bottom-div"],[1,"margin-left-div"],[1,"margin-right-div"],[1,"padding-top-div"],[1,"padding-bottom-div"],[1,"padding-left-div"],[1,"padding-right-div"],[1,"border-top-div"],[1,"border-bottom-div"],[1,"border-left-div"],[1,"border-right-div"]],template:function(t,e){1&t&&w._U(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),2&t&&(x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.marginTop),P.x(1),x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.marginBottom),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.marginLeft),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.marginRight),P.x(1),x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.paddingTop),P.x(1),x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.paddingBottom),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.paddingLeft),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.paddingRight),P.x(1),x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.borderTop),P.x(1),x.Ud("height",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.borderBottom),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.borderLeft),P.x(1),x.Ud("width",null==e._htmlElement||null==e._htmlElement.style?null:e._htmlElement.style.borderRight))},styles:['[_nghost-%COMP%]\n{\n    display: grid;\n\n    grid-template-columns: auto auto auto 1fr auto auto auto;\n    grid-template-rows: auto auto auto 1fr auto auto auto;\n}\n\n[class^="margin"][_ngcontent-%COMP%]\n{\n    background-color: #d0ff0060;\n}\n\n[class^="padding"][_ngcontent-%COMP%]\n{\n    background-color: #613eff60;\n}\n\n[class^="border"][_ngcontent-%COMP%]\n{\n    background-color: #0011ff62;\n}\n\n.margin-top-div[_ngcontent-%COMP%]\n{\n    grid-row: 1/2;\n    grid-column: 1/8;\n}\n\n.margin-bottom-div[_ngcontent-%COMP%]\n{\n    grid-row: 7/8;\n    grid-column: 1/8;\n}\n\n.margin-left-div[_ngcontent-%COMP%]\n{\n    grid-row: 2/7;\n    grid-column: 1/2;\n}\n\n.margin-right-div[_ngcontent-%COMP%]\n{\n    grid-row: 2/7;\n    grid-column: 7/8;\n}\n\n.padding-top-div[_ngcontent-%COMP%]\n{\n    grid-row: 3/4;\n    grid-column: 3/6;\n}\n\n.padding-bottom-div[_ngcontent-%COMP%]\n{\n    grid-row: 5/6;\n    grid-column: 3/6;\n}\n\n.padding-left-div[_ngcontent-%COMP%]\n{\n    grid-row: 4/5;\n    grid-column: 3/4;\n}\n\n.padding-right-div[_ngcontent-%COMP%]\n{\n    grid-row: 4/5;\n    grid-column: 5/6;\n}\n\n.border-top-div[_ngcontent-%COMP%]\n{\n    grid-row: 2/3;\n    grid-column: 2/7;\n}\n\n.border-bottom-div[_ngcontent-%COMP%]\n{\n    grid-row: 6/7;\n    grid-column: 2/7;\n}\n\n.border-left-div[_ngcontent-%COMP%]\n{\n    grid-row: 3/6;\n    grid-column: 2/3;\n}\n\n.border-right-div[_ngcontent-%COMP%]\n{\n    grid-row: 3/6;\n    grid-column: 6/7;\n}'],changeDetection:0});var S=n(6845),T=n(73301),Y=n(84773),R=n(72891),L=n(43870),I=n(41853),z=n(4477),U=n(15686),B=n(11282),Q=n(6427),V=n(95176),F=n(47098),H=n(82973),K=n(94727),G=n(83434),W=n(21651),j=n(74445),A=n(49891),N=n(54214),Z=n(90675),q=n(36973);function $(t,e,n,i,o,a,r){try{var s=t[a](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,o)}class X{constructor(t,e){this._target=t,this._position=e,this.flip=new j.v}get source(){return this._source}set source(t){t instanceof m.SB?this._source=t.nativeElement:this._source=t}get placement(){return this._placement}set placement(t){(0,p.HD)(t)?this._placement=N.X[t]:this._placement=t}ngOnChanges(t){((0,A.$)("source")in t||(0,A.$)("placement")in t)&&(0,p.EN)(this.source)&&this._applyPosition()}_applyPosition(){var t,e=this;return(t=function*(){const t={};e._placement&&(t.placement=e._placement);const n=yield e._position.placeElement(e._target.nativeElement,e._source,t).toPromise();(0,Z.e)(n),n.flip&&e.flip.next()},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){$(a,i,o,r,s,"next",t)}function s(t){$(a,i,o,r,s,"throw",t)}r(void 0)}))})()}}X.ɵfac=function(t){return new(t||X)(g.Y(m.SB),g.Y(a.Vr))},X.ɵdir=r.lG({type:X,selectors:[["","positionTo",""]],inputs:{source:["positionTo","source"],placement:"placement"},outputs:{flip:"flip"},features:[q.T]});var J=n(99055),tt=n(23208),et=n(10866),nt=n(22549);function it(t,e,n,i,o,a,r){try{var s=t[a](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,o)}const ot=["layoutDesigner"];function at(t,e){1&t&&w._U(0,"layout-editor-drag-placeholder",7)}function rt(t,e){if(1&t&&w._U(0,"layout-editor-drag-preview",8),2&t){const t=S.o();T.Q("editorMetadata",t._editorMetadata)("layoutMetadata",t._renderedType)}}function st(t,e){}function dt(t,e){if(1&t){const t=Y.E();w.Tg(0,"div",13),R.N("click",(function(){L.CH(t);const e=S.o(2);return L.Kt(e._remove())})),I._(1,"x"),w.qZ()}}function lt(t,e){if(1&t&&(z.yn(0),w._U(1,"div",9)(2,"div",10),w.Tg(3,"div",11),I._(4),w.qZ(),U.Y(5,dt,2,0,"div",12),z.BQ()),2&t){const t=S.o(),e=B.M(5),n=B.M(1);let i;P.x(2),T.Q("layoutDesignerOverlayFor",e),P.x(1),T.Q("positionTo",n),P.x(1),Q.Oq(null!==(i=null==t._editorMetadata||null==t._editorMetadata.metaInfo?null:t._editorMetadata.metaInfo.name)&&void 0!==i?i:null==t._renderedType?null:t._renderedType.name),P.x(1),T.Q("ngIf",!!t._parent&&(null==t._parent._editorMetadata?null:t._parent._editorMetadata.removeDescendant))}}const ct=function(t,e){return{metadata:t,parentId:e}};class pt extends l.h{constructor(t,e,n,i,o,a,r){super(t,e,n,a),this._metadataExtractor=i,this._layoutEditorMetadataManager=o,this._parent=r,this._initSubscriptions=new h.w,this._canDropValue=!1,this._editorMetadata=null,this._orientation="vertical",this.canDrop=()=>this._canDropValue}get id(){return this.options?.typeMetadata?.id??""}get selected(){return this._layoutEditorMetadataManager.selectedComponent===this.options?.typeMetadata.id}get highlighted(){return this._layoutEditorMetadataManager.highlightedComponent===this.options?.typeMetadata.id}get element(){return this._designerElement}get extensionsOptions(){return this.options?.typeMetadata.options}get dragDisabled(){return!this._parent||!!this._editorMetadata?.metaInfo?.dragDisabled}ngOnDestroy(){this._logger?.debug("LayoutDesignerSAComponent: Destroying component {@data}",{id:this.options?.typeMetadata.id}),this._initSubscriptions.unsubscribe(),super.ngOnDestroy(),this.options&&this._layoutEditorMetadataManager.unregisterLayoutDesignerComponent(this.options.typeMetadata.id)}addDescendant(t){if(!this.options)return;const e=t.item.data.parentId;this._logger?.debug("LayoutDesignerSAComponent: Adding descendant {@data}",{id:t.item.data.metadata.id,parent:this.options.typeMetadata.id}),e&&this._layoutEditorMetadataManager.getComponent(e)?._removeDescendant(t.item.data.metadata.id),this._editorMetadata?.addDescendant?.(t.item.data.metadata,this.options.typeMetadata.options,t.currentIndex),this._canDropValue=this._editorMetadata?.canDropMetadata?.(this.options.typeMetadata.options)??!1,this._renderedType={...this.options.typeMetadata},this._changeDetector.markForCheck()}_removeDescendant(t){this.options&&(this._logger?.debug("LayoutDesignerSAComponent: Removing descendant {@data}",{id:this.options.typeMetadata.id,child:t}),this._editorMetadata?.removeDescendant?.(t,this.options.typeMetadata.options),this._canDropValue=this._editorMetadata?.canDropMetadata?.(this.options.typeMetadata.options)??!1,this._renderedType={...this.options.typeMetadata},this._changeDetector.markForCheck())}_showOverlay(t){this._logger?.verbose("LayoutDesignerComponent: Showing overlay for {@type}",{name:this.options?.typeMetadata.name,id:this.options?.typeMetadata.id}),t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.highlightComponent(this.options?.typeMetadata.id)}_hideOverlay(t){(0,p.EN)(this._parent)||(this._logger?.verbose("LayoutDesignerComponent: Hiding overlay for {@type}",{name:this.options?.typeMetadata.name,id:this.options?.typeMetadata.id}),t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.cancelHighlightedComponent())}_selectComponent(t){t.preventDefault(),t.stopPropagation(),this.options&&this._layoutEditorMetadataManager.selectComponent(this.options.typeMetadata.id)}_unselectComponent(t){t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.unselectComponent()}_remove(){this._parent&&this.options&&this._parent._removeDescendant(this.options.typeMetadata.id)}_onInit(){var t,e=()=>super._onInit,n=this;return(t=function*(){yield(0,u.K)(e().call(n)),n.options&&(n._initSubscriptions.add(n._layoutEditorMetadataManager.selectedChange.subscribe((()=>n._changeDetector.detectChanges()))),n._initSubscriptions.add(n._layoutEditorMetadataManager.highlightedChange.subscribe((()=>n._changeDetector.detectChanges()))),n._editorMetadata=yield n._metadataExtractor.extractMetadata(n.options.typeMetadata),n._canDropValue=n._editorMetadata?.canDropMetadata?.(n.options.typeMetadata.options)??!1,n._layoutEditorMetadataManager.registerLayoutDesignerComponent(n,n.options.typeMetadata.id,n._parent?.options?.typeMetadata.id))},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){it(a,i,o,r,s,"next",t)}function s(t){it(a,i,o,r,s,"throw",t)}r(void 0)}))})()}_onOptionsSet(){this.options&&(this._renderedType={...this.options.typeMetadata},this._orientation=this._editorMetadata?.isHorizontalDrop?.(this.options.typeMetadata.options)?"horizontal":"vertical")}}pt.ɵfac=function(t){return new(t||pt)(g.Y(E.s),g.Y(m.SB),g.Y(V.z),g.Y(v.T),g.Y(G.t),g.Y(a.bZ,8),g.Y(pt,12))},pt.ɵcmp=r.Xp({type:pt,selectors:[["layout-designer-component"]],viewQuery:function(t,e){if(1&t&&_.Gf(ot,7),2&t){let t;_.iG(t=_.CR())&&(e._designerElement=t.first)}},standalone:!0,features:[F.q,O.j],decls:7,vars:12,consts:[["cdkDrag","","cdkDropList","","designerMinWidth","","connectDropLists","",1,"designer-overlay",3,"id","copyDesignerStyles","cdkDragData","cdkDragDisabled","cdkDropListEnterPredicate","cdkDropListOrientation","mouseleave","mouseover","cdkDropListDropped","click","dblclick"],["layoutDesigner",""],["class","mat-elevation-z6",4,"cdkDragPlaceholder"],["class","mat-elevation-z4",3,"editorMetadata","layoutMetadata",4,"cdkDragPreview"],[3,"layoutComponentRenderer","layoutComponentRendererDisableTransformer"],["renderer","layoutComponentRenderer"],[4,"ngIf"],[1,"mat-elevation-z6"],[1,"mat-elevation-z4",3,"editorMetadata","layoutMetadata"],[1,"designer-overlay-border"],[1,"designer-overlay-layout",3,"layoutDesignerOverlayFor"],["placement","TopStart",1,"designer-overlay-title",3,"positionTo"],["class","designer-overlay-remove",3,"click",4,"ngIf"],[1,"designer-overlay-remove",3,"click"]],template:function(t,e){1&t&&(w.Tg(0,"div",0,1),R.N("mouseleave",(function(t){return e._hideOverlay(t)}))("mouseover",(function(t){return e._showOverlay(t)}))("cdkDropListDropped",(function(t){return e.addDescendant(t)}))("click",(function(t){return e._selectComponent(t)}))("dblclick",(function(t){return e._unselectComponent(t)})),U.Y(2,at,1,0,"layout-editor-drag-placeholder",2),U.Y(3,rt,1,2,"layout-editor-drag-preview",3),U.Y(4,st,0,0,"ng-template",4,5,H.W),U.Y(6,lt,6,4,"ng-container",6),w.qZ()),2&t&&(T.Q("id",e.id)("copyDesignerStyles",e._renderedType)("cdkDragData",K.WL(9,ct,e._renderedType,null==e._parent||null==e._parent._renderedType?null:e._parent._renderedType.id))("cdkDragDisabled",e.dragDisabled)("cdkDropListEnterPredicate",e.canDrop)("cdkDropListOrientation",e._orientation),P.x(4),T.Q("layoutComponentRenderer",e._renderedType)("layoutComponentRendererDisableTransformer",!0),P.x(2),T.Q("ngIf",e.highlighted||e.selected))},dependencies:[i.e,W.O,d,X,o._,J.W,tt.Z,et.p,nt.H,b.s,C.a,k,y,M,D.z,c.i],styles:["[_nghost-%COMP%]\n{\n    display: contents;\n}\n\n.designer-overlay[_ngcontent-%COMP%]\n{\n    position: relative;\n}\n\n.designer-overlay-layout[_ngcontent-%COMP%], .designer-overlay-border[_ngcontent-%COMP%]\n{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n.designer-overlay-border[_ngcontent-%COMP%]\n{\n    border: 1px solid #009dd8;\n}\n\n.designer-overlay-title[_ngcontent-%COMP%]\n{\n    position: absolute;\n    background-color: #009dd8;\n    color: white;\n    font-weight: 500;\n    z-index: 500;\n    padding: 2px 6px;\n    pointer-events: none;\n}\n\n.designer-overlay-remove[_ngcontent-%COMP%]\n{\n    position: absolute;\n    right: -6px;\n    top: -6px;\n    border-radius: 50%;\n    background-color: #009dd8;\n    padding: 2px 7px;\n    opacity: .75;\n    color: #fff;\n    cursor: pointer;\n}"],changeDetection:0});const ut=pt},53633:(t,e,n)=>{n.d(e,{h:()=>g});var i=n(46480),o=n(87606),a=n(49891),r=n(79440),s=n(68961),d=n(4905),l=n(95176),c=n(13691),p=n(36973);function u(t,e,n,i,o,a,r){try{var s=t[a](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){u(a,i,o,r,s,"next",t)}function s(t){u(a,i,o,r,s,"throw",t)}r(void 0)}))}}class g{constructor(t,e,n,i){this._changeDetector=t,this._element=e,this._injector=n,this._logger=i,this._extensions=[],this._initialized=!1}get element(){return this._element}get extensionsOptions(){return this.options}ngOnDestroy(){for(const t of this._extensions)t.destroy();this._onDestroy()}ngOnInit(){var t=this;return h((function*(){if(t._initialized)return;t._initialized=!0;const e=t.extensionsOptions;if(yield(0,o.K)(t._onInit()),yield(0,o.K)(t._onOptionsSet()),e)for(const e of t._extensions)yield(0,o.K)(e.initialize(t._injector,t.element,t))}))()}ngOnChanges(t){var e=this;return h((function*(){if((0,a.$)("options")in t){yield(0,o.K)(e._onOptionsSet());const t=e.extensionsOptions;if(t)for(const n of e._extensions)yield(0,o.K)(n.optionsChange(t));if(!e._initialized)return;yield(0,o.K)(e._onOptionsChange())}}))()}registerExtensions(t){this._extensions=t}invalidateVisuals(){this._changeDetector.detectChanges()}_onInit(){}_onOptionsChange(){}_onOptionsSet(){}_onDestroy(){}}g.ɵfac=function(t){return new(t||g)(r.Y(s.s),r.Y(d.SB),r.Y(l.z),r.Y(i.bZ,8))},g.ɵdir=c.lG({type:g,features:[p.T]})},90675:(t,e,n)=>{function i(t){Object.assign(t.target.style,{top:"0",left:"0",transform:`translate(${t.x}px, ${t.y}px)`})}n.d(e,{e:()=>i})}}]);
//# sourceMappingURL=4403.chunk.a68749e8bcd2d85204de.js.map