"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[2195],{87316:(t,e,n)=>{n.d(e,{k:()=>u});var o=n(87606),i=n(79440),a=n(68961),r=n(13691),c=n(85902);function s(t,e,n,o,i,a,r){try{var c=t[a](r),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function r(t){s(a,o,i,r,c,"next",t)}function c(t){s(a,o,i,r,c,"throw",t)}r(void 0)}))}}class u{constructor(t,e){this._changeDetector=t,this._extractor=e,this._initialized=!1,this.propertiesMetadata=null}ngOnInit(){var t=this;return l((function*(){t._initialized||(t._initialized=!0,yield(0,o.K)(t._initialize()))}))()}initialize(){var t=this;return l((function*(){yield(0,o.K)(t.ngOnInit())}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}}u.ɵfac=function(t){return new(t||u)(i.Y(a.s),i.Y(c.T))},u.ɵdir=r.lG({type:u,inputs:{form:"form",propertiesMetadata:"propertiesMetadata"}})},85902:(t,e,n)=>{n.d(e,{T:()=>s});var o=n(8477),i=n(46480),a=n(11776),r=n(38327);function c(t,e,n,o,i,a,r){try{var c=t[a](r),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}class s{constructor(t,e){this._loader=t,this._logger=e,this._cache={}}extractMetadata(t){var e,n=this;return(e=function*(){const e=`${t.package}-${t.name}`;if(n._cache[e])return n._cache[e];const o=yield n._loader.loadItem(t);if(!o)return null;const i=o.data;if(!i.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:t.package,name:t.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:t.package,name:t.name});const a=yield i.layoutEditorMetadata;return Object.freeze(a),n._cache[e]=a,a},function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(t){c(a,o,i,r,s,"next",t)}function s(t){c(a,o,i,r,s,"throw",t)}r(void 0)}))})()}}s.ɵfac=function(t){return new(t||s)(a.LF(o.Vl),a.LF(i.bZ,8))},s.ɵprov=r.Yz({token:s,factory:s.ɵfac})},12195:(t,e,n)=>{n.r(e),n.d(e,{RichTextBlockLayoutEditorMetadata:()=>k});var o=n(70625),i=n(87316),a=n(43939),r=n(44903),c=n(79440),s=n(68961),l=n(13691),u=n(47098),d=n(82568),f=n(80827),h=n(72891),p=n(41853),g=n(85902),v=n(47826);function m(t,e,n,o,i,a,r){try{var c=t[a](r),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,i)}class y extends i.k{constructor(t,e,n){super(t,e),this.dialog=n}showCodeEditor(){var t,e=this;return(t=function*(){const t=yield e.dialog.open(r.D,{title:"Rich text block editor",width:"75vw",height:"75vh",data:e.form?.controls.content.value}).afterClosed().toPromise();if((0,a.EN)(t)){const n=e.form?.controls.content;n instanceof o.NI&&n.setValue(t)}},function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function r(t){m(a,o,i,r,c,"next",t)}function c(t){m(a,o,i,r,c,"throw",t)}r(void 0)}))})()}}y.ɵfac=function(t){return new(t||y)(c.Y(s.s),c.Y(g.T),c.Y(v.J))},y.ɵcmp=l.Xp({type:y,selectors:[["rich-text-block-properties-control"]],standalone:!0,features:[u.q,d.j],decls:3,vars:0,consts:[["type","button",1,"btn","btn-primary","margin-vertical-small",3,"click"]],template:function(t,e){1&t&&(f.Tg(0,"button",0),h.N("click",(function(){return e.showCodeEditor()})),f.Tg(1,"span"),p._(2,"Edit rich text block"),f.qZ()())},styles:["[_nghost-%COMP%]\n{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}"],changeDetection:0});var _=n(57466);class b{constructor(t){this.content="",_.Rl.bind(this)(t)}}class k{constructor(){this.metaInfo={name:"Rich text block",description:"WYSIWYG editor allowing formatting of multiline text",group:"Texts",optionsMetadata:{propertiesMetadata:[{modelType:b,propertiesControls:[y]}]}},Object.freeze(this)}}},44903:(t,e,n)=>{n.d(e,{D:()=>b});var o=n(30621),i=n(9249),a=n(66845),r=n(79440),c=n(13691),s=n(82568),l=n(84773),u=n(80827),d=n(41853),f=n(72891),h=n(43870),p=n(11282),g=n(73301),v=n(66794),m=n(31750),y=n(80943),_=n(96341);class b{constructor(t,e){this.data=t,this.dialog=e,this.content=null,this.content=t}}b.ɵfac=function(t){return new(t||b)(r.Y(i.m),r.Y(m.s))},b.ɵcmp=c.Xp({type:b,selectors:[["rich-text-block-editor-dialog"]],standalone:!0,features:[s.j],decls:9,vars:2,consts:[[3,"initialValue"],["editor",""],[1,"flex-row","flex-end"],["type","button",1,"btn","btn-info",3,"mat-dialog-close"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=l.E();u._U(0,"editor",0,1),u.Tg(2,"div",2)(3,"button",3)(4,"span"),d._(5,"cancel"),u.qZ()(),u.Tg(6,"button",4),f.N("click",(function(){h.CH(t);const n=p.M(1);return e.content=n.editor.getContent(),h.Kt(e.dialog.close(e.content))})),u.Tg(7,"span"),d._(8,"ok"),u.qZ()()()}if(2&t){let t;g.Q("initialValue",null!==(t=e.content)&&void 0!==t?t:""),v.x(3),g.Q("mat-dialog-close",null)}},dependencies:[o.I,y.ZT,a.Z,_.P],encapsulation:2,changeDetection:0})}}]);
//# sourceMappingURL=2195.chunk.61cf2520c320a68a5ee3.js.map