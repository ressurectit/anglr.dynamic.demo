{"version":3,"file":"9589.chunk.bdac329664f9d3550b59.js","mappings":"sUAqBM,MAAOA,EAaTC,YAAkDC,EAC5BC,GAD4B,KAAAD,KAAAA,EAC5B,KAAAC,OAAAA,EAPZ,KAAAC,QAAuB,KAS7BC,KAAKD,QAAUF,CAClB,E,iCAjBQF,GAAoCM,EAAAA,EAazBC,EAAAA,GAAkBD,EAAAA,EAAAA,EAAAA,GAAA,E,kBAb7BN,EAAoCQ,UAAAA,CAAAA,CAAAA,kCAAAC,YAAAA,EAAAC,SAAAA,CAAAA,EAAAA,GAAAC,MAAAA,EAAAC,KAAAA,EAAAC,OAAAA,CAAAA,CAAAA,EAAAA,gBAAAA,CAAAA,SAAAA,IAAAA,CAAAA,EAAAA,WAAAA,YAAAA,CAAAA,OAAAA,SAAAA,EAAAA,MAAAA,WAAAA,EAAAA,oBAAAA,CAAAA,OAAAA,SAAAA,EAAAA,MAAAA,cAAAA,EAAAA,UAAAC,SAAAA,SAAAA,EAAAA,GAAA,Q,cCrBjDR,EAAAA,GAAAA,EAAAA,SAAAA,EAAAA,GAEAA,EAAAA,GAAAA,EAAAA,MAAAA,EAAAA,CAA+B,aAA/BA,CAA+B,UAEjBA,EAAAA,EAAAA,EAAAA,UAAMA,EAAAA,IAAAA,GAGhBA,EAAAA,GAAAA,EAAAA,SAAAA,GAA8CA,EAAAA,EAAC,SAADA,WAAAA,EAAAA,GAAC,GAAD,eAA6C,OAA7CS,EAAAA,QAAmBC,EAAAA,OAAAA,aAA4BV,EAAAA,GAAAA,EAAAA,OAAAA,MAAAA,EAAAA,SAAqB,IAC9GA,EAAAA,GAAAA,EAAAA,QAAMA,EAAAA,EAAAA,EAAAA,MAAEA,EAAAA,IAAAA,I,eARAA,EAAAA,EAAAA,eAAAA,QAAAA,EAAAA,EAAAA,eAAAA,IAAAA,EAAAA,EAAAA,IAG+BA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,mBAAAA,K,iBDavCW,EAAAA,EAAeC,EAAAA,GACfC,EAAAA,EAAYC,EAAAA,GAAAC,cAAAA,EAAAC,gBAAAA,G,gZEQd,MAAOC,UAAsCC,EAAAA,EAG/CvB,YAAYwB,EACAC,EACUvB,GAElBwB,MAAMF,EAAgBC,GAFJ,KAAAvB,OAAAA,CAGrB,CAOeyB,iBAAc,I,EAAA,c,EAAA,YAE1B,MAAMC,QAAeC,EAAAA,EAAAA,GAAc,EAAK3B,OAAO4B,KAAgE/B,EAAAA,EAC/G,CACIgC,MAAO,mBACPC,MAAO,OACPC,OAAQ,OACRhC,KAAM,EAAKiC,UAAUC,kBAAkBhC,SAAW,KACnDiC,gBAEAC,EAAAA,EAAAA,IAAUT,IAEN,EAAKM,UAAUC,mBAEd,EAAKD,SAASC,iBAAiBhC,QAAUyB,EAdvB,E,gLAiB7B,E,iCAhCQN,GAA6BjB,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,EAAAA,GAAA,E,kBAA7BiB,EAA6Bf,UAAAA,CAAAA,CAAAA,0BAAAC,YAAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,EAAAA,GAAAC,MAAAA,GAAAC,KAAAA,EAAAC,OAAAA,CAAAA,CAAAA,OAAAA,mBAAAA,EAAAA,SAAAA,kBAAAA,CAAAA,EAAAA,gBAAAA,CAAAA,EAAAA,kBAAAA,CAAAA,EAAAA,UAAAA,CAAAA,EAAAA,WAAAA,CAAAA,EAAAA,UAAAA,CAAAA,OAAAA,aAAAA,EAAAA,oBAAAA,YAAAA,UAAAA,CAAAA,OAAAA,SAAAA,EAAAA,MAAAA,cAAAA,EAAAA,UAAAC,SAAAA,SAAAA,EAAAA,GAAA,MCzB1CR,EAAAA,GAAAA,EAAAA,wBAAAA,GAEAA,EAAAA,GAAAA,EAAAA,MAAAA,EAAAA,CAA0B,WAElBA,EAAAA,GAAAA,EAAAA,MAAAA,GAGAA,EAAAA,GAAAA,EAAAA,MAAAA,EAAAA,CAAqB,UAArBA,CAAqB,SAERA,EAAAA,EAAAA,EAAAA,eAAWA,EAAAA,KAChBA,EAAAA,GAAAA,EAAAA,uBAAAA,GACJA,EAAAA,IAAAA,KAIRA,EAAAA,GAAAA,EAAAA,SAAAA,GAA8CA,EAAAA,EAAC,SAADA,WAAA,OAASS,EAAAA,gBAAgB,IACnET,EAAAA,GAAAA,GAAAA,QAAMA,EAAAA,EAAAA,GAAAA,WAAOA,EAAAA,IAAAA,M,MAhBEA,EAAAA,EAAAA,SAAAA,EAAAA,CAAe,iBAAAS,EAAAA,gBAUAT,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,oBAAAA,EAAAA,aAAAA,CAAkC,YAAAS,EAAAA,UAAlCT,CAAkC,SAAAS,G,gBDUhEwB,EAAAA,EACAC,EAAAA,GAA6BnB,cAAAA,EAAAC,gBAAAA,IEb/B,MAAOmB,EAoBTxC,cAbO,KAAAyC,SACP,CACIC,KAAM,mBACNC,YAAa,iCACbC,MAAO,SAMJ,KAAAC,eAAsCvB,EAKzCwB,OAAOC,OAAO3C,KACjB,E","sources":["webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextBlock/misc/components/richTextBlockEditorDialog/richTextBlockEditorDialog.component.ts","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextBlock/misc/components/richTextBlockEditorDialog/richTextBlockEditorDialog.component.html","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/node/richTextSourceNode.component.ts","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/node/richTextSourceNode.component.html","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/metadata/richTextSource.relationsMetadata.ts"],"sourcesContent":["import {Component, ChangeDetectionStrategy, Inject} from '@angular/core';\nimport {MatDialogModule, MatDialogRef} from '@angular/material/dialog';\nimport {TITLED_DIALOG_DATA} from '@anglr/common/material';\nimport {EditorModule} from '@tinymce/tinymce-angular';\n\n/**\n * Component used as dialog displaying rich text block editor\n */\n@Component(\n{\n    selector: 'rich-text-block-editor-dialog',\n    templateUrl: 'richTextBlockEditorDialog.component.html',\n    // styleUrls: ['codeEditorDialog.component.scss'],\n    standalone: true,\n    imports:\n    [\n        MatDialogModule,\n        EditorModule,\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RichTextBlockEditorDialogSAComponent\n{\n    //######################### protected properties - template bindings #########################\n\n    /**\n     * Current content of editor\n     */\n    protected content: string|null = null;\n\n    //######################### protected properties - children #########################\n\n\n    //######################### constructor #########################\n    constructor(@Inject(TITLED_DIALOG_DATA) protected data: string,\n                protected dialog: MatDialogRef<RichTextBlockEditorDialogSAComponent, string|null>,)\n    {\n        this.content = data;\n    }\n}","<editor #editor [initialValue]=\"content ?? ''\"></editor>\n\n<div class=\"flex-row flex-end\">\n    <button class=\"btn btn-info\" type=\"button\" [mat-dialog-close]=\"null\">\n        <span>cancel</span>\n    </button>\n\n    <button class=\"btn btn-primary\" type=\"button\" (click)=\"content = editor.editor.getContent(); dialog.close(content)\">\n        <span>ok</span>\n    </button>\n</div>","import {Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef} from '@angular/core';\nimport {RelationsNode, RelationsNodeBase, RelationNodeOutputSAComponent, RelationsNodeHeaderSAComponent} from '@anglr/dynamic/relations-editor';\nimport {TitledDialogService} from '@anglr/common/material';\nimport {isPresent} from '@jscrpt/common';\nimport {lastValueFrom} from 'rxjs';\n\nimport {RichTextSourceRelationsOptions} from '../richTextSource.options';\nimport {RichTextBlockEditorDialogSAComponent} from '../../richTextBlock/misc/components';\n\n/**\n * Relations node component for rich text source\n */\n@Component(\n{\n    selector: 'rich-text-source-node',\n    templateUrl: 'richTextSourceNode.component.html',\n    // styleUrls: ['richTextSourceNode.component.css'],\n    standalone: true,\n    imports:\n    [\n        RelationsNodeHeaderSAComponent,\n        RelationNodeOutputSAComponent,\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RichTextSourceNodeSAComponent extends RelationsNodeBase<RichTextSourceRelationsOptions> implements RelationsNode<RichTextSourceRelationsOptions>\n{\n    //######################### constructor #########################\n    constructor(changeDetector: ChangeDetectorRef,\n                element: ElementRef<HTMLElement>,\n                protected dialog: TitledDialogService,)\n    {\n        super(changeDetector, element);\n    }\n\n    //######################### protected methods - template bindings #########################\n\n    /**\n     * Shows code editor\n     */\n    protected async showCodeEditor(): Promise<void>\n    {\n        const result = await lastValueFrom(this.dialog.open<RichTextBlockEditorDialogSAComponent, string, string|null>(RichTextBlockEditorDialogSAComponent,\n        {\n            title: 'Rich text editor',\n            width: '75vw',\n            height: '75vh',\n            data: this.metadata?.relationsOptions?.content ?? ''\n        }).afterClosed());\n\n        if(isPresent(result))\n        {\n            if(this.metadata?.relationsOptions)\n            {\n                this.metadata.relationsOptions.content = result;\n            }\n        }\n    }\n}","<relations-node-header [parent]=\"this\" [destroySubject]=\"destroySubject\" name=\"rich text source\"></relations-node-header>\n\n<div class=\"node-content\">\n    <div class=\"inputs-outputs\">\n        <div class=\"inputs\">\n        </div>\n    \n        <div class=\"outputs\">\n            <div class=\"output\">\n                <div>html string</div>\n                <relation-node-output [parentCoordiantes]=\"nodePosition\" [zoomLevel]=\"zoomLevel\" name=\"htmlString\" [parent]=\"this\"></relation-node-output>\n            </div>\n        </div>\n    </div>\n\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"showCodeEditor()\">\n        <span>content</span>\n    </button>\n</div>","import {Type} from '@angular/core';\nimport {RelationsEditorMetadataDescriptor, RelationsEditorMetadataInfo, RelationsNode} from '@anglr/dynamic/relations-editor';\n\nimport {RichTextSourceNodeSAComponent} from '../node/richTextSourceNode.component';\n\n/**\n * Rich text source relations metadata\n */\nexport class RichTextSourceRelationsEditorMetadata implements RelationsEditorMetadataDescriptor\n{\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    public metaInfo?: RelationsEditorMetadataInfo =\n    {\n        name: 'Rich text source',\n        description: 'Provides rich text source node',\n        group: 'Texts',\n    };\n\n    /**\n     * @inheritdoc\n     */\n    public nodeDefinition: Type<RelationsNode> = RichTextSourceNodeSAComponent;\n\n    //######################### constructor #########################\n    constructor()\n    {\n        Object.freeze(this);\n    }\n}"],"names":["RichTextBlockEditorDialogSAComponent","constructor","data","dialog","content","this","i0","TITLED_DIALOG_DATA","selectors","standalone","features","decls","vars","consts","template","ctx","_r0","MatDialogModule","i1","EditorModule","i2","encapsulation","changeDetection","RichTextSourceNodeSAComponent","RelationsNodeBase","changeDetector","element","super","showCodeEditor","result","lastValueFrom","open","title","width","height","metadata","relationsOptions","afterClosed","isPresent","RelationsNodeHeaderSAComponent","RelationNodeOutputSAComponent","RichTextSourceRelationsEditorMetadata","metaInfo","name","description","group","nodeDefinition","Object","freeze"],"sourceRoot":""}