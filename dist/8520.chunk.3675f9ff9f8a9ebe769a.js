/*! For license information please see 8520.chunk.3675f9ff9f8a9ebe769a.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[8520],{1299:(t,e,n)=>{n.r(e),n.d(e,{DefaultModule:()=>nt});var o=n(14392),a=n(35375),r=n(989),i=n(89001),s=n(71378),c=n(41733),l=n(21813),u=n(75957),d=n(6258),p=n(36159),f=n(95176),m=n(37943),g=n(15467),h=n(70625),v=n(73612),_=n(43939),y=n(94761),b=n(83434),w=n(79898),x=n(89952),O=n(53245),D=n(80827),k=n(73301),I=n(84773),C=n(72891),F=n(43870),L=n(6845),N=n(4477),V=n(41853),T=n(66794),Y=n(79440),j=n(13691),M=n(73379),P=n(15686),R=n(58323),Q=n(77470),S=n(27635),A=n(86170),q=n(12311),Z=n(21651),z=n(4489),E=n(68965),G=n(31686),J=n(60405);function U(t,e){if(1&t&&D._U(0,"ng-option",3),2&t){const t=e.$implicit;k.Q("value",t)("text",t)}}function $(t,e){if(1&t){const t=I.E();D.Tg(0,"form",4),C.N("ngSubmit",(function(){F.CH(t);const e=L.o();return F.Kt(e._submit())})),D.Tg(1,"div",5)(2,"div",6),N.Gk(3,7),D.qZ()(),D.Tg(4,"button",8),V._(5,"Submit"),D.qZ()()}if(2&t){const t=L.o();k.Q("formGroup",t._formGroup),T.x(3),k.Q("layoutComponentRenderer",t._metadata)("layoutComponentRendererInjector",t._formInjector)}}let B=class{constructor(t,e,n,o,a){this._store=t,this._router=e,this._route=n,this._fb=o,this._injector=a,this._available=new h.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{t&&(this._available.setValue(t),this._metadata=this._store.getData(t),this._formGroup=this._fb.group({checkbox:!0,datepicker:new Date,number:10,period:"202201",radio:null,select:"foo",textarea:"Text in textarea",text:"classic input field"}),this._formInjector=f.z.create({parent:this._injector,providers:[{provide:w.O,useValue:this._formGroup}]})),this._available.valueChanges.subscribe((t=>{this._router.navigate(["/form-preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}_submit(){console.log(this._formGroup.value)}};var H,K;B.ɵfac=function(t){return new(t||B)(Y.Y(x.U),Y.Y(m.F0),Y.Y(g.gz),Y.Y(v.qu),Y.Y(f.z))},B.ɵcmp=j.Xp({type:B,selectors:[["form-preview-view"]],features:[M._([b.t,(0,O.Y)("LAYOUT_DATA")])],decls:4,vars:3,consts:[[3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"value","text"],[3,"formGroup","ngSubmit"],[1,"flex-row","margin-top-big","flex-1"],[1,"flex-1","overflow-vertical-scroll"],[3,"layoutComponentRenderer","layoutComponentRendererInjector"],[1,"button"]],template:function(t,e){1&t&&(D.Tg(0,"div")(1,"ng-select",0),P.Y(2,U,1,2,"ng-option",1),D.qZ()(),P.Y(3,$,6,3,"form",2)),2&t&&(T.x(1),k.Q("formControl",e._available),T.x(1),k.Q("ngForOf",e._availableNames),T.x(1),k.Q("ngIf",e._metadata))},dependencies:[q.s,Z.O,R._,Q.JJ,Q.JL,S.oH,A.s,z.x,E.w,G.v,J.i],encapsulation:2,changeDetection:0}),B=(0,o.gn)([("",H="form-preview",function(t){const e=t;if((0,_.fp)(e.routeValues)&&(0,_.fp)(H))return console.warn("Missing 'ComponentRoute' or wrong order of decorators 'ComponentRoute' and 'ComponentRedirectRoute'!"),t;if((0,_.fp)(H)&&(0,_.EN)(e.routeValues)&&e.routeValues.length>1)return console.warn("Multiple routes defined. Unable to set proper redirect!"),t;const n=t;return(0,_.fp)(n.redirectRouteValues)&&Object.defineProperty(t,"redirectRouteValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),(0,_.fp)(K)&&(K=!0),(0,_.fp)(H)&&(H=e.routeValues[0].path),n.redirectRouteValues.push({path:"",redirectTo:H,pathMatch:K?"full":"prefix"}),t}),(0,y.N)({path:"form-preview"}),(0,y.N)({path:"form-preview/:id"}),(0,o.w6)("design:paramtypes",[x.U,m.F0,g.gz,v.qu,f.z])],B);const X=[B];var W=n(42983),tt=n(18567),et=n(38327);let nt=class{};nt.ɵfac=function(t){return new(t||nt)},nt.ɵmod=j.oA({type:nt}),nt.ɵinj=et.cJ({imports:[W._J,W.No,W.nP,s.D,c.O,l.M,u.F,a.N,tt.Qw,d.E,r._,p.Y]}),nt=(0,o.gn)([(0,i.P)(X)],nt)},79898:(t,e,n)=>{n.d(e,{O:()=>o});const o=new(n(40296).O)("FORM_COMPONENT_CONTROL")},6258:(t,e,n)=>{n.d(e,{E:()=>P});var o=n(27052),a=n(989),r=n(46480),i=n(57466),s=n(38223),c=n(91861),l=n(13691);class u{transform(t,e){const n=`${t.itemSource.name}-${e}`;return{metadata:{id:n,displayName:n,package:t.itemSource.package,name:t.itemSource.name,relationsOptions:(0,i.l7)(!0,{},t.metadata.metaInfo?.defaultOptions),outputs:[],nodeMetadata:{coordinates:{x:0,y:0},options:null}}}}}u.ɵfac=function(t){return new(t||u)},u.ɵpipe=l.Yj({name:"toRelationsDragData",type:u,pure:!0,standalone:!0});var d=n(80827),p=n(41853),f=n(6845),m=n(66794),g=n(6427),h=n(84773),v=n(72891),_=n(43870),y=n(65589),b=n(15686),w=n(73301),x=n(4477),O=n(79440),D=n(68961),k=n(82568),I=n(48397),C=n(12311),F=n(21651),L=n(32434),N=n(99055),V=n(23208);function T(t,e,n,o,a,r,i){try{var s=t[r](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function Y(t,e){if(1&t&&(d.Tg(0,"div",8),p._(1),d.qZ()),2&t){const t=f.o().$implicit;m.x(1),g.Oq(null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function j(t,e){if(1&t){const t=h.E();d.Tg(0,"div",4)(1,"div",5),v.N("cdkDragDropped",(function(){_.CH(t);const e=f.o(2);return _.Kt(e._generateNewId())})),y.AL(2,"toRelationsDragData"),d.Tg(3,"div",6),p._(4),d.qZ(),b.Y(5,Y,2,1,"div",7),d.qZ()()}if(2&t){const t=e.$implicit,n=f.o(2);let o;w.Q("cdkDropListConnectedTo",n.canvasDropList),m.x(1),w.Q("cdkDragData",y.xi(2,4,t,n._newCompnentId)),m.x(3),g.Oq(t.metadata.singleton?t.itemSource.name:null!==(o=null==t.metadata.metaInfo?null:t.metadata.metaInfo.name)&&void 0!==o?o:t.itemSource.name),m.x(1),w.Q("ngIf",null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function M(t,e){if(1&t&&(x.yn(0),d.Tg(1,"div",2),p._(2),d.qZ(),b.Y(3,j,6,7,"div",3),x.BQ()),2&t){const t=e.$implicit;m.x(2),g.hi("",t.key," "),m.x(1),w.Q("ngForOf",t.value)}}class P{constructor(t,e,n,o,a){this._moduleTypesLoader=t,this._nodesLoader=e,this._changeDetector=n,this._metadataManager=o,this._logger=a,this._initSubscriptions=new s.w,this._allItems=[],this._groupedItems={},this._newCompnentId=(0,i.Ox)(16),this._isDragOverPalette=!1}ngOnInit(){var t,e=this;return(t=function*(){var t;for(const t of["basic-components","material-components","static-components","layout-components"]){const n=(yield e._moduleTypesLoader.loadItem({package:t,name:"types"}))?.data??[];for(const o of n){const n={package:t,name:o},a=yield e._nodesLoader.loadItem(n);a?e._allItems.push({itemSource:n,metadata:a}):e._logger?.warn("NodesPaletteSAComponent: Failed to obtain layout editor metadata {@source}",n)}}e._groupedItems[""]=[];for(const n of e._allItems){const o=n.metadata.metaInfo?.group??"";(t=e._groupedItems)[o]??(t[o]=[]),e._groupedItems[o].push(n)}e._changeDetector.detectChanges()},function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){T(r,o,a,i,s,"next",t)}function s(t){T(r,o,a,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}_generateNewId(){this._newCompnentId=(0,i.Ox)(16)}}P.ɵfac=function(t){return new(t||P)(O.Y(c.Bj),O.Y(c.fI),O.Y(D.s),O.Y(I.J),O.Y(r.bZ,8))},P.ɵcmp=l.Xp({type:P,selectors:[["nodes-palette"]],inputs:{canvasDropList:"canvasDropList"},standalone:!0,features:[k.j],decls:3,vars:3,consts:[[1,"flex-column"],[4,"ngFor","ngForOf"],[1,"text-spread","text-small-caps","margin-left-extra-small","margin-horizontal-small","bold"],["cdkDropList","","cdkDropListSortingDisabled","","class","palette-droplist",3,"cdkDropListConnectedTo",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",1,"palette-droplist",3,"cdkDropListConnectedTo"],["cdkDrag","",1,"editor-component","mat-elevation-z2",3,"cdkDragData","cdkDragDropped"],[1,"editor-component-name"],["class","editor-component-description",4,"ngIf"],[1,"editor-component-description"]],template:function(t,e){1&t&&(d.Tg(0,"div",0),b.Y(1,M,4,2,"ng-container",1),y.AL(2,"keyvalue"),d.qZ()),2&t&&(m.x(1),w.Q("ngForOf",y.lc(2,1,e._groupedItems)))},dependencies:[o.e,C.s,F.O,L.N,a._,N.W,V.Z,u],styles:[".editor-component[_ngcontent-%COMP%]\n{\n    margin: 2px 10px;\n    padding: 4px 8px;\n\n    border-radius: 6px;\n    border: 1px solid #F0F0F0;\n    background-color: #FAFAFA;\n}\n\n.editor-component-name[_ngcontent-%COMP%]\n{\n    font-weight: 500;\n}\n\n.editor-component-description[_ngcontent-%COMP%]\n{\n    margin-left: 4px;\n    margin-top: 2px;\n    font-size: .8em;\n}\n\n.palette-droplist[_ngcontent-%COMP%]   layout-editor-drag-placeholder[_ngcontent-%COMP%]\n{\n    display: none;\n}"],changeDetection:0})},36159:(t,e,n)=>{n.d(e,{Y:()=>m});var o=n(989),a=n(6258),r=n(75957),i=n(13691),s=n(82568),c=n(80827),l=n(72891),u=n(11282),d=n(66794),p=n(73301),f=n(99055);class m{constructor(){this.metadata=[]}addNode(t){const e=t.container.element.nativeElement.getBoundingClientRect();t.item.data.metadata.nodeMetadata?.coordinates&&(t.item.data.metadata.nodeMetadata.coordinates.x=t.dropPoint.x-e.x,t.item.data.metadata.nodeMetadata.coordinates.y=t.dropPoint.y-e.y),this.metadata=[...this.metadata,t.item.data.metadata]}}m.ɵfac=function(t){return new(t||m)},m.ɵcmp=i.Xp({type:m,selectors:[["relations-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[s.j],decls:4,vars:2,consts:[[1,"flex-row","flex-1"],[2,"width","250px",3,"canvasDropList"],["cdkDropList","",1,"flex-1",3,"nodeDefinitions","cdkDropListDropped"],["dropList","cdkDropList"]],template:function(t,e){if(1&t&&(c.Tg(0,"div",0),c._U(1,"nodes-palette",1),c.Tg(2,"relations-canvas",2,3),l.N("cdkDropListDropped",(function(t){return e.addNode(t)})),c.qZ()()),2&t){const t=u.M(3);d.x(1),p.Q("canvasDropList",t),d.x(1),p.Q("nodeDefinitions",e.metadata)}},dependencies:[a.E,r.F,o._,f.W],styles:["[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},89402:(t,e,n)=>{function o(t){return!!t.__ɵɵRelationsComponent}function a(){return function(t){return t.__ɵɵRelationsComponent=!0,t}}n.d(e,{H:()=>a,O:()=>o})},92640:(t,e,n)=>{n.d(e,{x:()=>a});var o=n(70625);const a={asyncValidators:[],validators:[],disabled:!1,type:o.NI,childType:o.NI,args:{}}},71791:(t,e,n)=>{n.d(e,{p:()=>m});var o=n(17777),a=n(66398),r=n(70625),i=n(92640);class s{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}class c{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}function l(t,e){if(!t)return new o.cw({});const n=t.ɵControlsMetadata??{},u=t.ɵValidators??[],d=t.ɵAsyncValidators??[],p=t.ɵArgs??{},f=Object.keys(t),m=new o.cw({},{validators:u?.map((t=>t instanceof s?t.valueOf()({...p,...e}):t)).filter((t=>!!t)),asyncValidators:d?.map((t=>t instanceof c?t.valueOf()({...p,...e}):t)).filter((t=>!!t))});for(const u of f){const d=n[u]??i.x,p=t[u];if(void 0===p)continue;const f=d.validators.map((t=>t instanceof s?t.valueOf()({...d.args,...e}):t)).filter((t=>!!t)),g=d.asyncValidators.map((t=>t instanceof c?t.valueOf()({...d.args,...e}):t)).filter((t=>!!t));let h;switch(d.type){case o.cw:h=l(p,e);break;case a.Oe:if(h=new a.Oe([],{validators:f,asyncValidators:g,...d.controlOptions}),p&&Array.isArray(p)){const t=h;for(const n of p)switch(d.childType){case o.cw:t.push(l(n,e));break;case a.Oe:break;default:t.push(new r.NI(n,{validators:f,asyncValidators:g,...d.controlOptions}))}}break;default:h=new r.NI(p,{validators:f,asyncValidators:g,...d.controlOptions})}d.disabled&&h.disable(),m.addControl(u,h)}return m}function u(t,e){return l(t,e)}var d=n(11776),p=n(95176),f=n(38327);class m{constructor(t){this._injector=t}build(t,e){return u(t,{...e,injector:this._injector})}}m.ɵfac=function(t){return new(t||m)(d.LF(p.z))},m.ɵprov=f.Yz({token:m,factory:m.ɵfac})},94761:(t,e,n)=>{n.d(e,{N:()=>a});var o=n(43939);function a(t){return function(e){const n=t;n.component=e;const a=e;return(0,o.fp)(a.routeValues)&&Object.defineProperty(e,"routeValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),a.routeValues.push(n),e}}},61939:(t,e,n)=>{n.d(e,{i:()=>a});var o=n(13691);class a{transform(t,e,n){return t??e}}a.ɵfac=function(t){return new(t||a)},a.ɵpipe=o.Yj({name:"asRequired",type:a,pure:!0})},989:(t,e,n)=>{n.d(e,{_:()=>s});var o=n(65252),a=n(19878),r=n(13691),i=n(38327);class s{}s.ɵfac=function(t){return new(t||s)},s.ɵmod=r.oA({type:s}),s.ɵinj=i.cJ({providers:[a.v],imports:[o.Z]})},32434:(t,e,n)=>{n.d(e,{N:()=>i});var o=n(79440),a=n(55845),r=n(13691);class i{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=s}transform(t,e=s){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t),o=e!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem((t=>{this.keyValues.push({key:t.key,value:t.currentValue})}))),(n||o)&&(this.keyValues.sort(e),this.compareFn=e),this.keyValues}}function s(t,e){const n=t.key,o=e.key;if(n===o)return 0;if(void 0===n)return 1;if(void 0===o)return-1;if(null===n)return 1;if(null===o)return-1;if("string"==typeof n&&"string"==typeof o)return n<o?-1:1;if("number"==typeof n&&"number"==typeof o)return n-o;if("boolean"==typeof n&&"boolean"==typeof o)return n<o?-1:1;const a=String(n),r=String(o);return a==r?0:a<r?-1:1}i.ɵfac=function(t){return new(t||i)(o.Y(a.a,16))},i.ɵpipe=r.Yj({name:"keyvalue",type:i,pure:!1,standalone:!0})},35375:(t,e,n)=>{n.d(e,{N:()=>d});var o=n(61446),a=n(44225),r=n(91570),i=n(27052),s=n(52261),c=n(15746),l=n(13691),u=n(38327);class d{}d.ɵfac=function(t){return new(t||d)},d.ɵmod=l.oA({type:d}),d.ɵinj=u.cJ({imports:[i.e,s.BQ,r.eL,c.si,a.Q8,o.r,s.BQ]})},87606:(t,e,n)=>{function o(t,e,n,o,a,r,i){try{var s=t[r](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,c,"next",t)}function c(t){o(i,a,r,s,c,"throw",t)}s(void 0)}))}}function r(t){return i.apply(this,arguments)}function i(){return(i=a((function*(t){return t instanceof Promise?yield t:t}))).apply(this,arguments)}n.d(e,{K:()=>r})}}]);
//# sourceMappingURL=8520.chunk.3675f9ff9f8a9ebe769a.js.map