(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7654],{24405:(e,t,n)=>{var o={"./styleBlock/type":[92030,1934,7412]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=24405,e.exports=r},56179:(e,t,n)=>{"use strict";n.d(t,{I3:()=>g,vQ:()=>f,WH:()=>v,El:()=>y});var o=n(14389),r=n(8477),i=n(71785),a=n(46480),s=n(11776),c=n(38327);function u(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class d{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){if("css-components"!==e.package)return null;try{return o._logger?.debug("CssDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),yield n(24405)(`./${e.name}/type`)}catch(t){o._logger?.debug("CssDynamicModuleItemsProvider: item {@item} was not found, reason: "+t,{name:e.name,package:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){u(i,o,r,a,s,"next",e)}function s(e){u(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}function l(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}d.ɵfac=function(e){return new(e||d)(s.LF(a.bZ,8))},d.ɵprov=c.Yz({token:d,factory:d.ɵfac});class m{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o._logger?.debug("CssDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),"css-components"===e.package?yield n.e(5416).then(n.bind(n,85416)):null}catch(t){o._logger?.debug("CssDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){l(i,o,r,a,s,"next",e)}function s(e){l(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}m.ɵfac=function(e){return new(e||m)(s.LF(a.bZ,8))},m.ɵprov=c.Yz({token:m,factory:m.ɵfac});const p={provide:r.Aw,useClass:d,multi:!0},h={provide:i.sc,useClass:m,multi:!0};function g(){return[p]}function f(){return[p,h,(0,o.XW)("css-components")]}function y(){return[...g()]}function v(){return[...g()]}},77653:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var o=n(17505),r=n(38327);class i extends o.L{constructor(){super("LAYOUT_PACKAGES_STORE")}}i.ɵfac=function(e){return new(e||i)},i.ɵprov=r.Yz({token:i,factory:i.ɵfac})},9545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var o=n(35375),r=n(60405),i=n(44155),a=n(49891),s=n(23199),c=n(50267),u=n(50486),d=n(5574),l=n(85309),m=n(71785),p=n(52053),h=n(79440),g=n(68961),f=n(13691),y=n(73379),v=n(36973),w=n(82568),C=n(80827),b=n(4477),x=n(66794),_=n(73301),k=n(56454),P=n(6535),D=n(2538),T=n(75464);class E{constructor(e,t,n){this.history=e,this.changeDetector=t,this.hotkeys=n,this.initSubscriptions=new s.w0,this.metadata=null,n?.init()}ngOnInit(){this.initSubscriptions.add(this.history.pop.subscribe((e=>{this.metadata=e,this.changeDetector.detectChanges()}))),this.hotkeys&&(this.initSubscriptions.add(this.hotkeys.undo.subscribe((()=>this.history.undo()))),this.initSubscriptions.add(this.hotkeys.redo.subscribe((()=>this.history.redo()))))}ngOnChanges(e){(0,a.$)("metadata")in e&&(this.history.clean(),this.metadata&&this.history.setInitialState(this.metadata))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.hotkeys?.destroy()}}E.ɵfac=function(e){return new(e||E)(h.Y(m.dB),h.Y(g.s),h.Y(k.z,8))},E.ɵcmp=f.Xp({type:E,selectors:[["layout-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[y._([l.NX,p.E]),v.T,w.j],decls:10,vars:1,consts:[[1,"flex-row","margin-top-big","flex-1"],["label","Hierarchy"],["label","Palette"],[1,"flex-1","layout-content","thin-scrollbar"],[3,"layoutComponentRenderer"]],template:function(e,t){1&e&&(C.Tg(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),C._U(3,"components-tree"),C.qZ(),C.Tg(4,"mat-tab",2),C._U(5,"package-manager")(6,"components-palette"),C.qZ()(),C.Tg(7,"div",3),b.Gk(8,4),C.qZ(),C._U(9,"properties-editor"),C.qZ()),2&e&&(x.x(8),_.Q("layoutComponentRenderer",t.metadata))},dependencies:[u.D,c.O,d.M,r.i,i.F,P.X,o.N,D.SP,T.u],styles:[".layout-content[_ngcontent-%COMP%]\n{\n    overflow-y: scroll;\n    overflow-x: hidden;\n}","[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},85309:(e,t,n)=>{"use strict";n.d(t,{G5:()=>E,Nc:()=>k,Q3:()=>T,TA:()=>P,NX:()=>D,r4:()=>M,f4:()=>L,DN:()=>I,qF:()=>R});var o=n(60640),r=n(11776),i=n(65569),a=n(44677),s=n(12193),c=n(13457),u=n(44055),d=n(8477),l=n(46480),m=n(38327);function p(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class h{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){if("@anglr/dynamic/layout-editor"!=e.package)return null;try{if(o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),"layout-designer"==e.name)return yield Promise.all([n.e(1092),n.e(9210)]).then(n.bind(n,45800))}catch(t){o._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found, reason:"+t,{name:e.name,package:e.package})}return o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found",{name:e.name,package:e.package}),null},function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){p(i,o,r,a,s,"next",e)}function s(e){p(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}function g(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}h.ɵfac=function(e){return new(e||h)(r.LF(l.bZ,8))},h.ɵprov=m.Yz({token:h,factory:h.ɵfac});class f{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{switch(o._logger?.debug("DefaultDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),e.package){case"basic-components":return yield n.e(4771).then(n.bind(n,4771));case"material-components":return yield n.e(1125).then(n.bind(n,41125));default:return null}}catch(t){o._logger?.debug("DefaultDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){g(i,o,r,a,s,"next",e)}function s(e){g(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}f.ɵfac=function(e){return new(e||f)(r.LF(l.bZ,8))},f.ɵprov=m.Yz({token:f,factory:f.ɵfac});var y=n(83434),v=n(71785),w=n(94596),C=n(97149),b=n(9142);function x(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}const _=function(){var e,t=(e=function*(e,t){const n=yield(0,a.L)(e,t),o=yield(0,b.k)(e,t),r=n?.data;if(t?.debug("layoutDesignerTypeExtractor: trying to extract default dynamic data"),!r?.layoutEditorDesignerType)return null;const i=yield r?.layoutEditorDesignerType;return i?{data:i,childExtensions:o?.childExtensions,extensions:o?.extensions}:null},function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){x(i,o,r,a,s,"next",e)}function s(e){x(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),k={provide:d.gM,useFactory:e=>new i.$([_],e),deps:[[new o.Fi,l.bZ]],multi:!0},P={provide:d.Aw,useClass:h,multi:!0},D={provide:d.xM,useValue:function(e){return{id:`${e.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:e}}}},T={provide:v.sc,useClass:f,multi:!0},E={provide:v.FX,useFactory:e=>new i.$([a.L],e),deps:[[new o.Fi,l.bZ]],multi:!0},M={provide:v.RI,useValue:[w.$]},R={provide:v.QT,useFactory:()=>new s.S((0,r.f3)(v.sc),(0,r.f3)(v.FX),C.G,(0,r.f3)(l.bZ,{optional:!0})??void 0,!0)},I={provide:c.Qh,useExisting:y.t},L={provide:v.dB,useClass:u.Y}},94596:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});const o=Symbol("LayoutPropertyMetadata")},97149:(e,t,n)=>{"use strict";n.d(t,{G:()=>p,_:()=>m});var o=n(14389),r=n(2991),i=n(43939),a=n(85309),s=n(85902),c=n(43671),u=n(83434),d=n(98906),l=n(26938);function m(e=!0,t=["basic-components","material-components"]){return[...e?[a.Nc]:[],...(0,r._)(),a.TA,a.Q3,a.G5,a.r4,a.qF,s.T,c.L,u.t,d.z,l.$,a.f4,a.DN,...t.map((e=>(0,o.XW)(e)))]}const p=function(e){return!((0,i.fp)(e?.data)||!Array.isArray(e.data))}},11650:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var o=n(99109),r=n(9545),i=n(97149),a=n(13691),s=n(38327);class c{static withProviders(e=!0,t){return{ngModule:c,providers:[(0,i._)(e,t)]}}}c.ɵfac=function(e){return new(e||c)},c.ɵmod=a.oA({type:c}),c.ɵinj=s.cJ({imports:[r.Z,o.u]})},26938:(e,t,n)=>{"use strict";n.d(t,{$:()=>p});var o=n(46480);function r(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}class a{constructor(e,t,n){this._layoutMetadata=e,this._extractor=t,this._logger=n,this._items=[],this._initialized=!1,this._initPromise=null}[Symbol.asyncIterator](){let e=0;const t=this._initPromise??(this._initPromise=this._getInitPromise()),n=this._items;return{next:()=>i((function*(){return yield t,e<n.length?{value:n[e++],done:!1}:{value:n[e-1],done:!0}}))()}}forEach(e){var t=this;return i((function*(){yield t._initPromise??(t._initPromise=t._getInitPromise());for(const n of t._items)e(n.metadata,n.parent,n.levelIndex,n.level)}))()}_getComponents(){var e=this;return i((function*(){yield e._getComponent(e._layoutMetadata,null,0,0)}))()}_getComponent(e,t,n,o){var r=this;return i((function*(){const i={metadata:e,parent:t,levelIndex:n,level:o};r._items.push(i);const a=yield r._extractor.extractMetadata(e);if(!a)return void r._logger?.debug("LayoutComponentsIterator: failed to get metadata for iterator! {@data}",{package:e.package,name:e.name});if(!a.getDescendants)return;const s=a.getDescendants(e.options);for(let e=0;e<s.length;e++)yield r._getComponent(s[e],i,e,o+1)}))()}_getInitPromise(){var e=this;return i((function*(){e._initialized||(e._initialized=!0,yield e._getComponents())}))()}}function s(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){s(i,o,r,a,c,"next",e)}function c(e){s(i,o,r,a,c,"throw",e)}a(void 0)}))}}class u{constructor(e,t,n){this.layoutMetadata=e,this.extractor=t,this.logger=n,this.items=[],this.initialized=!1,this.initPromise=null}[Symbol.asyncIterator](){let e=0;const t=this.initPromise??(this.initPromise=this.getInitPromise()),n=this.items;return{next:()=>c((function*(){return yield t,e<n.length?{value:n[e++],done:!1}:{value:n[e-1],done:!0}}))()}}getChildren(){var e=this;return c((function*(){yield e.getComponent(e.layoutMetadata)}))()}getComponent(e){var t=this;return c((function*(){const n=yield t.extractor.extractMetadata(e);if(!n)return void t.logger?.debug("LayoutComponentsChildrenIterator: failed to get metadata for children iterator! {@data}",{package:e.package,name:e.name});if(!n.getDescendants)return;const o=n.getDescendants(e.options);for(let e=0;e<o.length;e++)t.items.push({index:e,metadata:o[e]})}))()}getInitPromise(){var e=this;return c((function*(){e.initialized||(e.initialized=!0,yield e.getChildren())}))()}}var d=n(11776),l=n(38327),m=n(85902);class p{constructor(e,t){this.extractor=e,this.logger=t}getIteratorFor(e){return new a(e,this.extractor,this.logger)}getChildrenIteratorFor(e){return new u(e,this.extractor,this.logger)}}p.ɵfac=function(e){return new(e||p)(d.LF(m.T),d.LF(o.bZ,8))},p.ɵprov=l.Yz({token:p,factory:p.ɵfac})},60405:(e,t,n)=>{"use strict";n.d(t,{i:()=>_});var o,r=n(74445),i=n(95176),a=n(46480),s=n(13457),c=n(14389),u=n(49891),d=n(43939);!function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}));class l{constructor(e){this.missingTypeBehavior=o.ShowNotFound,(0,d.EN)(e)&&(this.missingTypeBehavior=e)}}var m=n(13691),p=n(82568),h=n(80827),g=n(41853);class f{}f.ɵfac=function(e){return new(e||f)},f.ɵcmp=m.Xp({type:f,selectors:[["not-found-layout-type"]],standalone:!0,features:[p.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,t){1&e&&(h.Tg(0,"div"),h._U(1,"span",0),h.Tg(2,"span"),g._(3,"NOT FOUND"),h.qZ(),h._U(4,"span",0),h.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var y=n(8477),v=n(79440),w=n(15783),C=n(73379),b=n(36973);function x(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}class _{constructor(e,t,n,o,i,a,s){this.viewContainerRef=e,this.loader=t,this.childExtensions=n,this.scopeId=o,this.options=i,this.metadataTransformer=a,this.logger=s,this.ɵComponentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new r.v,this.componentElementChange=new r.v,this.options&&this.options instanceof l||(this.options=new l)}get component(){return this.ɵComponentRef?this.ɵComponentRef.instance:null}get componentRef(){return this.ɵComponentRef}ngOnChanges(e){var t,n=this;return(t=function*(){if(n.logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:n.componentMetadata?.id}),n.ngOnDestroy(),n.viewContainerRef.clear(),(0,u.$)("componentMetadata")in e&&n.componentMetadata){const e=n.customInjector??n.viewContainerRef.injector;let t=n.componentMetadata;const r=n.componentMetadata.scope;n.metadataTransformer&&!n.disableTransformer&&(t=n.metadataTransformer(n.componentMetadata,e));const a=yield n.loader.loadItem(t);if(!a){switch(n.logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:t.name,package:t.package}),n.options?.missingTypeBehavior){default:n.viewContainerRef.createComponent(f);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${t.name} Package: ${t.package}`)}return}const u=i.z.create({parent:e,providers:[{provide:s.H$,useValue:r??n.scopeId??null},{provide:y.X5,useValue:a.childExtensions}]});n.ɵComponentRef=n.viewContainerRef.createComponent(a.data,{injector:u}),n.logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:t?.id});const d=n.component;if(d){d.registerExtensions([...n.childExtensions?.map((e=>new e(t)))??[],...a?.extensions?.map((e=>new e(t)))??[]]);const e={};(0,c.mv)(e,"options",t.options,d.options,!0),n.logger?.debug("LayoutComponentRendererSADirective: setting options for component {@id}",{id:t?.id}),d.options=t.options,n.logger?.debug("LayoutComponentRendererSADirective: setting changes for component {@id}",{id:t?.id}),yield d.ngOnChanges?.(e),n.logger?.debug("LayoutComponentRendererSADirective: initializing component {@id}",{id:t?.id}),yield d.ngOnInit?.(),n.logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:t?.id}),d.invalidateVisuals(),n.ɵComponentRef?.changeDetectorRef.markForCheck(),n.componentElementChange.next(n.ɵComponentRef?.hostView.rootNodes[0]),n.componentChange.next(n.ɵComponentRef)}}},function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){x(i,o,r,a,s,"next",e)}function s(e){x(i,o,r,a,s,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this.ɵComponentRef&&(this.logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this.ɵComponentRef?.destroy(),this.ɵComponentRef=null,this.componentChange.next(null),this.componentElementChange.next(null))}}_.ɵfac=function(e){return new(e||_)(v.Y(w.s_),v.Y(y.Vl),v.Y(y.X5,12),v.Y(s.H$,8),v.Y(l,8),v.Y(y.xM,8),v.Y(a.bZ,8))},_.ɵdir=m.lG({type:_,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange",componentElementChange:"componentElementChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[C._([{provide:y.X5,useValue:null}]),b.T]})},2991:(e,t,n)=>{"use strict";n.d(t,{h:()=>f,_:()=>y});var o=n(43939),r=n(60640),i=n(11776),a=n(46480),s=n(86707),c=n(65569),u=n(44677),d=n(9142),l=n(12193),m=n(8477);const p={provide:m.Aw,useClass:s.o,multi:!0},h={provide:m.gM,useFactory:e=>new c.$([u.L,d.k],e),deps:[[new r.Fi,a.bZ]],multi:!0},g={provide:m.Vl,useFactory:()=>new l.S((0,i.f3)(m.Aw),(0,i.f3)(m.gM),f,(0,i.f3)(a.bZ,{optional:!0})??void 0)},f=function(e){return!((0,o.fp)(e?.data)||!(0,o.P9)(e.data)||(0,o.EN)(e?.childExtensions)&&(!Array.isArray(e.childExtensions)||e.childExtensions.some((e=>!(0,o.P9)(e))))||(0,o.EN)(e?.extensions)&&(!Array.isArray(e.extensions)||e.extensions.some((e=>!(0,o.P9)(e)))))};function y(){return[g,p,h]}},99109:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var o=n(2991),r=n(13691),i=n(38327);class a{static withProviders(){return{ngModule:a,providers:[(0,o._)()]}}}a.ɵfac=function(e){return new(e||a)},a.ɵmod=r.oA({type:a}),a.ɵinj=i.cJ({})},9142:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var o=n(43939);const r=(e,t)=>{const n=e,r=n.extensions;return t?.debug("extensionsExportsExtractor: trying to extract dynamic item extensions"),r&&(0,o.wV)(r)&&(r.extensions||r.childExtensions)?{extensions:r.extensions,childExtensions:r.childExtensions}:n.childExtensions||n.extensions?{extensions:n.extensions,childExtensions:n.childExtensions}:null}}}]);
//# sourceMappingURL=7654.chunk.9ddf217640d2a055b029.js.map