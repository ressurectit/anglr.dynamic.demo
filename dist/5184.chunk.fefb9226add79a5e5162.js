"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[5184],{85184:(t,a,e)=>{e.r(a),e.d(a,{RelationsWithLayoutEditorModule:()=>it});var n=e(14392),o=e(76668),i=e(27052),r=e(68624),s=e(97212),l=e(89001),u=e(35648),d=e(96148),c=e(94761),g=e(83434),p=e(22804),m=e(57466),_=e(27049),h=e(85638),y=e(89952),v=e(87752),b=e(79440),f=e(13691),w=e(73379),x=e(80827),k=e(41853),M=e(72891),N=e(66794),C=e(73301),L=e(84967),T=e(7842),Q=e(86825);let Y=class{constructor(t,a){this._manager=t,this._store=a,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,m.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return{layout:this._manager.getMetadata()}}_loadDemo(){this._metadata=h.F.demoLayoutWithRelations}};Y.ɵfac=function(t){return new(t||Y)(b.Y(g.t),b.Y(y.U))},Y.ɵcmp=f.Xp({type:Y,selectors:[["layout-editor-view"]],features:[w._([v.X,{provide:p.I,useExisting:v.X}])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,a){1&t&&(x.Tg(0,"div",0)(1,"button",1)(2,"span"),k._(3,"go back"),x.qZ()(),x.Tg(4,"load-save-new",2),M.N("metadataChange",(function(t){let e;return a._metadata=null!==(e=null==t?null:t.layout)&&void 0!==e?e:a.emptyMetadata})),x.qZ(),x.Tg(5,"button",3),M.N("click",(function(){return a._loadDemo()})),x.Tg(6,"span"),k._(7,"demo"),x.qZ()()(),x._U(8,"layout-editor",4)),2&t&&(N.x(4),C.Q("store",a._store)("getMetadataCallback",a._getMetadata),N.x(4),C.Q("metadata",a._metadata))},dependencies:[L.v,T.Z,Q.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([_.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",Object)],Y.prototype,"_getMetadata",null),Y=(0,n.gn)([(0,c.N)({path:"layout"}),(0,c.N)({path:"layout/:id"}),(0,n.w6)("design:paramtypes",[g.t,y.U])],Y);var U=e(37943),D=e(15467),Z=e(70625),q=e(56224),E=e(75990),F=e(15686),O=e(4477),W=e(94727),A=e(32361),R=e(12311),X=e(77470),P=e(27635),I=e(4489),J=e(68965),z=e(31686),j=e(60405);function B(t,a){if(1&t&&x._U(0,"ng-option",7),2&t){const t=a.$implicit;C.Q("value",t)("text",t)}}const V=function(t){return["/relationsWithLayoutEditor/layout",t]},K=function(t){return["/relationsWithLayoutEditor/relations",t]};let S=class{constructor(t,a,e,n){this._store=t,this._router=a,this._relationsManager=e,this._route=n,this._available=new Z.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const a=this._store.getData(t);this._metadata=a?.layout,this._relationsManager.setRelations(a.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsWithLayoutEditor/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};S.ɵfac=function(t){return new(t||S)(b.Y(y.U),b.Y(U.F0),b.Y(E.N),b.Y(D.gz))},S.ɵcmp=f.Xp({type:S,selectors:[["layout-preview-view"]],features:[w._([(0,q.A)()])],decls:10,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"flex-1","overflow-vertical-scroll"],[3,"layoutComponentRenderer"],[3,"value","text"]],template:function(t,a){1&t&&(x.Tg(0,"div",0)(1,"a",1),k._(2,"layout"),x.qZ(),x.Tg(3,"a",1),k._(4,"relations"),x.qZ(),x.Tg(5,"ng-select",2),F.Y(6,B,1,2,"ng-option",3),x.qZ()(),x.Tg(7,"div",4)(8,"div",5),O.Gk(9,6),x.qZ()()),2&t&&(N.x(1),C.Q("routerLink",W.VK(5,V,a._available.value)),N.x(2),C.Q("routerLink",W.VK(7,K,a._available.value)),N.x(2),C.Q("formControl",a._available),N.x(1),C.Q("ngForOf",a._availableNames),N.x(3),C.Q("layoutComponentRenderer",a._metadata))},dependencies:[R.s,X.JJ,P.oH,A.y,I.x,J.w,z.v,j.i],encapsulation:2,changeDetection:0}),S=(0,n.gn)([(0,c.N)({path:"preview"}),(0,c.N)({path:"preview/:id"}),(0,n.w6)("design:paramtypes",[y.U,U.F0,E.N,D.gz])],S);var $=e(48397),G=e(80734),H=e(36159);let tt=class{constructor(t,a,e){this._manager=t,this._store=a,this._layoutManager=e,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(){return{relations:this._manager.getMetadata()}}_loadDemo(){this._metadata=h.F.relationsWithLayoutDemo}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};tt.ɵfac=function(t){return new(t||tt)(b.Y($.J),b.Y(y.U),b.Y(G.n))},tt.ɵcmp=f.Xp({type:tt,selectors:[["relations-editor-view"]],features:[w._([v.X,{provide:p.I,useExisting:v.X}])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,a){1&t&&(x.Tg(0,"div",0)(1,"button",1)(2,"span"),k._(3,"go back"),x.qZ()(),x.Tg(4,"load-save-new",2),M.N("metadataChange",(function(t){return a.setMetadata(t)})),x.qZ(),x.Tg(5,"button",3),M.N("click",(function(){return a._loadDemo()})),x.Tg(6,"span"),k._(7,"demo"),x.qZ()()(),x._U(8,"relations-editor",4)),2&t&&(N.x(4),C.Q("store",a._store)("getMetadataCallback",a._getMetadata),N.x(4),C.Q("metadata",a._metadata))},dependencies:[L.v,H.Y,Q.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([_.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",Object)],tt.prototype,"_getMetadata",null),tt=(0,n.gn)([(0,c.N)({path:"relations"}),(0,c.N)({path:"relations/:id"}),(0,n.w6)("design:paramtypes",[$.J,y.U,G.n])],tt);const at=[S,Y,tt];var et=e(18567),nt=e(53245),ot=e(38327);let it=class{};it.ɵfac=function(t){return new(t||it)},it.ɵmod=f.oA({type:it}),it.ɵinj=ot.cJ({providers:[(0,nt.Y)("LAYOUT_RELATIONS_DATA")],imports:[i.e,r.U,o.Bz,u.A,s.p,d.W.withProviders(),et.Qw]}),it=(0,n.gn)([(0,l.P)(at)],it)}}]);
//# sourceMappingURL=5184.chunk.fefb9226add79a5e5162.js.map