{"version":3,"file":"9561.chunk.963126556076e9ec1af3.js","mappings":"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","sources":["webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextBlock/misc/components/richTextBlockEditorDialog/richTextBlockEditorDialog.component.ts","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextBlock/misc/components/richTextBlockEditorDialog/richTextBlockEditorDialog.component.html","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/node/richTextSourceNode.component.ts","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/node/richTextSourceNode.component.html","webpack://ng-universal-demo/../tinymce-components/src/dynamicItems/richTextSource/metadata/richTextSource.relationsMetadata.ts"],"sourcesContent":["import {Component, ChangeDetectionStrategy, Inject} from '@angular/core';\nimport {MatDialogModule, MatDialogRef} from '@angular/material/dialog';\nimport {TITLED_DIALOG_DATA} from '@anglr/common/material';\nimport {EditorModule} from '@tinymce/tinymce-angular';\n\n/**\n * Component used as dialog displaying rich text block editor\n */\n@Component(\n{\n    selector: 'rich-text-block-editor-dialog',\n    templateUrl: 'richTextBlockEditorDialog.component.html',\n    // styleUrls: ['codeEditorDialog.component.scss'],\n    standalone: true,\n    imports:\n    [\n        MatDialogModule,\n        EditorModule,\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RichTextBlockEditorDialogSAComponent\n{\n    //######################### protected properties - template bindings #########################\n\n    /**\n     * Current content of editor\n     */\n    protected content: string|null = null;\n\n    //######################### protected properties - children #########################\n\n\n    //######################### constructor #########################\n    constructor(@Inject(TITLED_DIALOG_DATA) protected data: string,\n                protected dialog: MatDialogRef<RichTextBlockEditorDialogSAComponent, string|null>,)\n    {\n        this.content = data;\n    }\n}","<editor #editor [initialValue]=\"content ?? ''\"></editor>\n\n<div class=\"dynamic-flex-row dynamic-flex-end dynamic-action-buttons\">\n    <button type=\"button\" class=\"dynamic-btn dynamic-btn-info\" type=\"button\" [mat-dialog-close]=\"null\">\n        <span>cancel</span>\n    </button>\n\n    <button type=\"button\" class=\"dynamic-btn dynamic-btn-primary\" type=\"button\" (click)=\"content = editor.editor.getContent(); dialog.close(content)\">\n        <span>ok</span>\n    </button>\n</div>","import {Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef} from '@angular/core';\nimport {FirstUppercaseLocalizeSAPipe} from '@anglr/common';\nimport {RelationsNode, RelationsNodeBase, RelationNodeOutputSAComponent, RelationsNodeHeaderSAComponent} from '@anglr/dynamic/relations-editor';\nimport {TitledDialogService} from '@anglr/common/material';\nimport {isPresent} from '@jscrpt/common';\nimport {lastValueFrom} from '@jscrpt/common/rxjs';\n\nimport {RichTextSourceRelationsOptions} from '../richTextSource.options';\nimport {RichTextBlockEditorDialogSAComponent} from '../../richTextBlock/misc/components';\n\n/**\n * Relations node component for rich text source\n */\n@Component(\n{\n    selector: 'rich-text-source-node',\n    templateUrl: 'richTextSourceNode.component.html',\n    // styleUrls: ['richTextSourceNode.component.css'],\n    standalone: true,\n    imports:\n    [\n        RelationsNodeHeaderSAComponent,\n        RelationNodeOutputSAComponent,\n        FirstUppercaseLocalizeSAPipe,\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RichTextSourceNodeSAComponent extends RelationsNodeBase<RichTextSourceRelationsOptions> implements RelationsNode<RichTextSourceRelationsOptions>\n{\n    //######################### constructor #########################\n    constructor(changeDetector: ChangeDetectorRef,\n                element: ElementRef<HTMLElement>,\n                protected dialog: TitledDialogService,)\n    {\n        super(changeDetector, element);\n    }\n\n    //######################### protected methods - template bindings #########################\n\n    /**\n     * Shows code editor\n     */\n    protected async showCodeEditor(): Promise<void>\n    {\n        const result = await lastValueFrom(this.dialog.open<RichTextBlockEditorDialogSAComponent, string, string|null>(RichTextBlockEditorDialogSAComponent,\n        {\n            title: 'Rich text editor',\n            width: '75vw',\n            height: '75vh',\n            data: this.metadata?.relationsOptions?.content ?? ''\n        }).afterClosed());\n\n        if(isPresent(result))\n        {\n            if(this.metadata?.relationsOptions)\n            {\n                this.metadata.relationsOptions.content = result;\n                this.history.getNewState();\n            }\n        }\n    }\n}","<relations-node-header [parent]=\"this\" [destroySubject]=\"destroySubject\" [name]=\"'rich text source'|firstUppercaseLocalize\"></relations-node-header>\n\n<div class=\"node-content\">\n    <div class=\"inputs-outputs\">\n        <div class=\"inputs\">\n        </div>\n    \n        <div class=\"outputs\">\n            <div class=\"output\">\n                <div>{{'html string'|firstUppercaseLocalize}}</div>\n                <relation-node-output [parentCoordiantes]=\"nodePosition\" [zoomLevel]=\"zoomLevel\" name=\"htmlString\" [parent]=\"this\"></relation-node-output>\n            </div>\n        </div>\n    </div>\n\n    <button type=\"button\" class=\"dynamic-btn dynamic-btn-primary\" (click)=\"showCodeEditor()\">\n        <span>{{'content'|firstUppercaseLocalize}}</span>\n    </button>\n</div>","import {Type} from '@angular/core';\nimport {RelationsEditorMetadataDescriptor, RelationsEditorMetadataInfo, RelationsNode} from '@anglr/dynamic/relations-editor';\n\nimport {RichTextSourceNodeSAComponent} from '../node/richTextSourceNode.component';\n\n/**\n * Rich text source relations metadata\n */\nexport class RichTextSourceRelationsEditorMetadata implements RelationsEditorMetadataDescriptor\n{\n    //######################### public properties - implementation of RelationsEditorMetadataDescriptor #########################\n\n    /**\n     * @inheritdoc\n     */\n    public metaInfo?: RelationsEditorMetadataInfo =\n    {\n        name: 'Rich text source',\n        description: 'Provides rich text source node',\n        group: 'Texts',\n    };\n\n    /**\n     * @inheritdoc\n     */\n    public nodeDefinition: Type<RelationsNode> = RichTextSourceNodeSAComponent;\n\n    //######################### constructor #########################\n    constructor()\n    {\n        Object.freeze(this);\n    }\n}"],"names":["RichTextBlockEditorDialogSAComponent","constructor","data","dialog","content","this","i0","TITLED_DIALOG_DATA","i1","selectors","standalone","features","decls","vars","consts","template","rf","ctx","_r1","_r0","editor","getContent","close","tmp_0_0","undefined","MatDialogModule","EditorModule","i2","encapsulation","changeDetection","RichTextSourceNodeSAComponent","RelationsNodeBase","changeDetector","element","super","showCodeEditor","_this","result","lastValueFrom","open","title","width","height","metadata","relationsOptions","afterClosed","isPresent","history","getNewState","destroySubject","nodePosition","zoomLevel","RelationsNodeHeaderSAComponent","RelationNodeOutputSAComponent","FirstUppercaseLocalizeSAPipe","RichTextSourceRelationsEditorMetadata","metaInfo","name","description","group","nodeDefinition","Object","freeze"],"sourceRoot":""}