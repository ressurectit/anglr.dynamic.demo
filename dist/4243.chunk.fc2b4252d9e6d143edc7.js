"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[4243],{47142:(e,n,t)=>{t.d(n,{w:()=>T});var o=t(2032),i=t(11776),r=t(53633),a=t(8477),s=t(60405),c=t(90255),d=t(23657),l=t(20809),u=t(75990),p=t(86485),g=t(96130);function h(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function a(e){h(r,o,i,a,s,"next",e)}function s(e){h(r,o,i,a,s,"throw",e)}a(void 0)}))}}const f=function(){var e=m((function*(){return new((yield Promise.all([t.e(6583),t.e(9901),t.e(3954)]).then(t.bind(t,57746))).TemplateBlockLayoutEditorMetadata)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=m((function*(){return(yield t.e(6320).then(t.bind(t,96320))).TemplateBlockDesignerSAComponent}));return function(){return e.apply(this,arguments)}}();var v=t(43801),C=t(13691),_=t(73379),O=t(47098),w=t(82568),E=t(4477),R=t(73301);function S(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}let T=class extends r.h{constructor(){super(...arguments),this.layoutMetadataStorage=(0,i.f3)(a.qO),this.relationsMetadataStorage=(0,i.f3)(l.te,{optional:!0}),this.relationsManager=(0,i.f3)(u.N,{optional:!0}),this.metadata=null}onOptionsSet(){var e,n=this;return(e=function*(){if(!n.initialized)return;const e=n.options?.layoutId;if(e&&(n.metadata=yield n.layoutMetadataStorage.getMetadata(e),n.relationsManager&&n.relationsMetadataStorage)){const t=yield n.relationsMetadataStorage.getMetadata(e);n.relationsManager.setRelations(t??[])}},function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function a(e){S(r,o,i,a,s,"next",e)}function s(e){S(r,o,i,a,s,"throw",e)}a(void 0)}))})()}};T.ɵfac=function(){let e;return function(n){return(e||(e=v.n5(T)))(n||T)}}(),T.ɵcmp=C.Xp({type:T,selectors:[["template-block"]],standalone:!0,features:[_._([p.s,u.N,g.v]),O.q,w.j],decls:1,vars:1,consts:[[3,"layoutComponentRenderer"]],template:function(e,n){1&e&&E.Gk(0,0),2&e&&R.Q("layoutComponentRenderer",n.metadata)},dependencies:[s.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0}),T=(0,o.gn)([(0,c.W)(y),(0,d.w)(f)],T)},14243:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i,extensions:()=>r});var o=t(6433);const i=t(47142).w,r=[o.O]},90255:(e,n,t)=>{t.d(n,{W:()=>i});var o=t(22206);function i(e){return(0,o.R)(e,"layoutEditorDesignerType")}},23657:(e,n,t)=>{t.d(n,{w:()=>i});var o=t(22206);function i(e){return(0,o.R)(e,"layoutEditorMetadata")}},53633:(e,n,t)=>{t.d(n,{h:()=>h});var o=t(46480),i=t(49891),r=t(43939),a=t(79440),s=t(68961),c=t(4905),d=t(95176),l=t(13691),u=t(36973);function p(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function a(e){p(r,o,i,a,s,"next",e)}function s(e){p(r,o,i,a,s,"throw",e)}a(void 0)}))}}class h{constructor(e,n,t,o){this.changeDetector=e,this.componentElement=n,this.injector=t,this.logger=o,this.extensions=[],this.initialized=!1,this.destroyed=!1}get element(){return this.componentElement}get extensionsOptions(){return this.options}ngOnDestroy(){if(!this.destroyed){this.destroyed=!0;for(const e of this.extensions)e.destroy();this.onDestroy()}}ngOnInit(){var e=this;return g((function*(){if(e.initialized)return;e.initialized=!0;const n=e.extensionsOptions;if(yield e.onInit(),yield e.onOptionsSet(),n)for(const n of e.extensions)yield n.initialize(e.injector,e.element,e);yield e.afterInit()}))()}ngOnChanges(e){var n=this;return g((function*(){if((0,i.$)("options")in e){yield n.onOptionsSet();const e=n.extensionsOptions;if(e)for(const t of n.extensions)yield t.optionsChange(e);if(!n.initialized)return;yield n.onOptionsChange()}delete e[(0,i.$)("options")],(0,r.Qr)(e)||n.onChanges(e)}))()}registerExtensions(e){this.extensions=e}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(e){}onOptionsSet(){}onDestroy(){}}h.ɵfac=function(e){return new(e||h)(a.Y(s.s),a.Y(c.SB),a.Y(d.z),a.Y(o.bZ,8))},h.ɵdir=l.lG({type:h,features:[u.T]})},60405:(e,n,t)=>{t.d(n,{i:()=>w});var o,i=t(74445),r=t(95176),a=t(46480),s=t(14389),c=t(49891),d=t(43939);!function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}));class l{constructor(e){this.missingTypeBehavior=o.ShowNotFound,(0,d.EN)(e)&&(this.missingTypeBehavior=e)}}var u=t(13691),p=t(82568),g=t(80827),h=t(41853);class m{}m.ɵfac=function(e){return new(e||m)},m.ɵcmp=u.Xp({type:m,selectors:[["not-found-layout-type"]],standalone:!0,features:[p.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,n){1&e&&(g.Tg(0,"div"),g._U(1,"span",0),g.Tg(2,"span"),h._(3,"NOT FOUND"),g.qZ(),g._U(4,"span",0),g.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var f=t(8477),y=t(79440),v=t(15783),C=t(73379),_=t(36973);function O(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}class w{constructor(e,n,t,o,r,a){this._viewContainerRef=e,this._loader=n,this._childExtensions=t,this._options=o,this._metadataTransformer=r,this._logger=a,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new i.v,this.componentElementChange=new i.v,this._options&&this._options instanceof l||(this._options=new l)}get component(){return this._componentRef?this._componentRef.instance:null}get componentRef(){return this._componentRef}ngOnChanges(e){var n,t=this;return(n=function*(){if(t._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:t.componentMetadata?.id}),t.ngOnDestroy(),t._viewContainerRef.clear(),(0,c.$)("componentMetadata")in e&&t.componentMetadata){const e=t.customInjector??t._viewContainerRef.injector;let n=t.componentMetadata;t._metadataTransformer&&!t.disableTransformer&&(n=t._metadataTransformer(t.componentMetadata,e));const i=yield t._loader.loadItem(n);if(!i){switch(t._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:n.name,package:n.package}),t._options?.missingTypeBehavior){default:t._viewContainerRef.createComponent(m);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${n.name} Package: ${n.package}`)}return}const a=r.z.create({parent:e,providers:[{provide:f.X5,useValue:i.childExtensions}]});t._componentRef=t._viewContainerRef.createComponent(i.data,{injector:a}),t._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:n?.id});const c=t.component;if(c){c.registerExtensions([...t._childExtensions?.map((e=>new e(n)))??[],...i?.extensions?.map((e=>new e(n)))??[]]);const e={};(0,s.mv)(e,"options",n.options,c.options,!0),t._logger?.debug("LayoutComponentRendererSADirective: setting options for component {@id}",{id:n?.id}),c.options=n.options,t._logger?.debug("LayoutComponentRendererSADirective: setting changes for component {@id}",{id:n?.id}),yield c.ngOnChanges?.(e),t._logger?.debug("LayoutComponentRendererSADirective: initializing component {@id}",{id:n?.id}),yield c.ngOnInit?.(),t._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:n?.id}),c.invalidateVisuals(),t._componentRef?.changeDetectorRef.markForCheck(),t.componentElementChange.next(t._componentRef?.hostView.rootNodes[0]),t.componentChange.next(t._componentRef)}}},function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(e){O(r,o,i,a,s,"next",e)}function s(e){O(r,o,i,a,s,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null),this.componentElementChange.next(null))}}w.ɵfac=function(e){return new(e||w)(y.Y(v.s_),y.Y(f.Vl),y.Y(f.X5,12),y.Y(l,8),y.Y(f.xM,8),y.Y(a.bZ,8))},w.ɵdir=u.lG({type:w,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange",componentElementChange:"componentElementChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[C._([{provide:f.X5,useValue:null}]),_.T]})},6433:(e,n,t)=>{t.d(n,{O:()=>r});var o=t(31331),i=t(43939);class r extends o.z{onInit(){this._applyStyling()}onOptionsChange(){this._applyStyling()}_applyStyling(){const e=this.options,n=this.element?.nativeElement.style;this.element&&((0,i.EN)(this.lastCssClass)&&this.element.nativeElement.classList.remove(this.lastCssClass),this.lastCssClass=e?.cssClass,e?.cssClass&&this.element?.nativeElement.classList.add(e.cssClass)),(0,i.EN)(n)&&(e?.margin&&((0,i.EN)(e.margin.bottom)&&(n.marginBottom=e.margin.bottom),(0,i.EN)(e.margin.right)&&(n.marginRight=e.margin.right),(0,i.EN)(e.margin.top)&&(n.marginTop=e.margin.top),(0,i.EN)(e.margin.left)&&(n.marginLeft=e.margin.left)),e?.padding&&((0,i.EN)(e.padding.bottom)&&(n.paddingBottom=e.padding.bottom),(0,i.EN)(e.padding.right)&&(n.paddingRight=e.padding.right),(0,i.EN)(e.padding.top)&&(n.paddingTop=e.padding.top),(0,i.EN)(e.padding.left)&&(n.paddingLeft=e.padding.left)),e?.textStyling&&((0,i.EN)(e.textStyling.fontSize)&&(n.fontSize=e.textStyling.fontSize),(0,i.EN)(e.textStyling.fontWeight)&&(n.fontWeight=e.textStyling.fontWeight.toString())))}}},8477:(e,n,t)=>{t.d(n,{Aw:()=>s,Vl:()=>c,X5:()=>r,gM:()=>a,qO:()=>d,xM:()=>i});var o=t(40296);const i=new o.O("LAYOUT_COMPONENT_TRANSFORM"),r=new o.O("LAYOUT_COMPONENT_CHILD_EXTENSIONS"),a=new o.O("LAYOUT_COMPONENTS_MODULE_DATA_EXTRACTORS"),s=new o.O("LAYOUT_COMPONENTS_MODULE_PROVIDERS"),c=new o.O("LAYOUT_COMPONENTS_LOADER"),d=new o.O("LAYOUT_METADATA_STORAGE")},31331:(e,n,t)=>{function o(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function s(e){o(a,i,r,s,c,"next",e)}function c(e){o(a,i,r,s,c,"throw",e)}s(void 0)}))}}t.d(n,{z:()=>r});class r{constructor(e){this.metadata=e,this.initialized=!1}initialize(e,n,t){var o=this;return i((function*(){o.initialized=!0,o.injector=e,o.element=n,o.instance=t,yield o.onInit()}))()}optionsChange(e){var n=this;return i((function*(){n.options=e,n.initialized&&(yield n.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}},14389:(e,n,t)=>{t.d(n,{LK:()=>s,XW:()=>a,mv:()=>r});var o=t(97825),i=t(13457);function r(e,n,t,o,i=!1){e[n]={currentValue:t,previousValue:o,firstChange:i,isFirstChange:()=>i}}function a(e){return{provide:i.B,useValue:{packages:[e],packagesChange:o.C,refresh(){}},multi:!0}}function s(e){try{return JSON.parse(e)}catch{return null}}},97825:(e,n,t)=>{t.d(n,{C:()=>r});var o=t(28653),i=t(58656);const r=new o.y(i.Z)}}]);
//# sourceMappingURL=4243.chunk.fc2b4252d9e6d143edc7.js.map