"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9913],{9913:(t,e,n)=>{n.r(e),n.d(e,{RelationsComplexModule:()=>It});var a=n(14392),o=n(27052),r=n(68624),i=n(76668),s=n(89001),l=n(35648),c=n(97212),u=n(96148),p=n(94761),d=n(83434),g=n(57466),m=n(27049),h=n(85638),v=n(89952),_=n(79440),f=n(13691),y=n(80827),b=n(41853),w=n(72891),x=n(66794),C=n(73301),M=n(84967),I=n(9545),k=n(86825);let T=class{constructor(t,e){this._manager=t,this._store=e,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,g.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return{layout:this._manager.getMetadata()}}_loadDemo(){this._metadata=h.F.demoRelationsComplexLayout}};T.ɵfac=function(t){return new(t||T)(_.Y(d.t),_.Y(v.U))},T.ɵcmp=f.Xp({type:T,selectors:[["layout-editor-view"]],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(y.Tg(0,"div",0)(1,"button",1)(2,"span"),b._(3,"go back"),y.qZ()(),y.Tg(4,"load-save-new",2),w.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),y.qZ(),y.Tg(5,"button",3),w.N("click",(function(){return e._loadDemo()})),y.Tg(6,"span"),b._(7,"demo"),y.qZ()()(),y._U(8,"layout-editor",4)),2&t&&(x.x(4),C.Q("store",e._store)("getMetadataCallback",e._getMetadata),x.x(4),C.Q("metadata",e._metadata))},dependencies:[M.v,I.Z,k.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([m.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],T.prototype,"_getMetadata",null),T=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[d.t,v.U])],T);var P=n(37943),N=n(15467),O=n(70625),U=n(56224),Y=n(75990),D=n(73379),Z=n(15686),q=n(4477),F=n(94727),Q=n(32361),R=n(12311),A=n(77470),L=n(27635),z=n(4489),J=n(68965),j=n(31686),S=n(60405),X=n(68961),V=n(36759),B=n(96130),E=n(86485),H=n(6552);function K(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}const W=function(){var t,e=(t=function*(){return new((yield n.e(9776).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){K(r,a,o,i,s,"next",t)}function s(t){K(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var $,G=n(82568),tt=n(49280),et=n(70983);function nt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let at=$=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new O.NI(""),this.booleanForm=new O.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}static get relationsId(){return"static-input"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent($.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations($.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){nt(r,a,o,i,s,"next",t)}function s(t){nt(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent($.relationsId),this._componentManager.unregisterComponent($.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function ot(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}at.ɵfac=function(t){return new(t||at)(_.Y(X.s),_.Y(B.v),_.Y(E.s))},at.ɵcmp=f.Xp({type:at,selectors:[["static-input"]],standalone:!0,features:[G.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(y.Tg(0,"div"),b._(1,"INPUT:"),y.qZ(),y.Tg(2,"div",0),y._U(3,"input",1)(4,"input",2),y.qZ()),2&t&&(x.x(3),C.Q("formControl",e.stringForm),x.x(1),C.Q("formControl",e.booleanForm))},dependencies:[r.U,tt.Fj,et.W,A.JJ,L.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,V.A)(),(0,a.w6)("design:type",String)],at.prototype,"stringOutput",void 0),(0,a.gn)([(0,V.A)(),(0,a.w6)("design:type",Boolean)],at.prototype,"booleanOutput",void 0),at=$=(0,a.gn)([(0,H.i)(W),(0,a.w6)("design:paramtypes",[X.s,B.v,E.s])],at);const rt=function(){var t,e=(t=function*(){return new((yield n.e(7863).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){ot(r,a,o,i,s,"next",t)}function s(t){ot(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var it,st=n(6427);function lt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let ct=it=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}static get relationsId(){return"static-output"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(it.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(it.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){lt(r,a,o,i,s,"next",t)}function s(t){lt(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(it.relationsId),this._componentManager.unregisterComponent(it.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function ut(t,e){if(1&t&&y._U(0,"ng-option",9),2&t){const t=e.$implicit;C.Q("value",t)("text",t)}}ct.ɵfac=function(t){return new(t||ct)(_.Y(X.s),_.Y(B.v),_.Y(E.s))},ct.ɵcmp=f.Xp({type:ct,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[G.j],decls:7,vars:2,template:function(t,e){1&t&&(y.Tg(0,"div"),b._(1,"OUTPUT:"),y.qZ(),y.Tg(2,"div")(3,"div"),b._(4),y.qZ(),y.Tg(5,"div"),b._(6),y.qZ()()),2&t&&(x.x(4),st.hi("string: ",e.stringInput,""),x.x(2),st.hi("boolean: ",e.booleanInput,""))},dependencies:[r.U],encapsulation:2,changeDetection:0}),ct=it=(0,a.gn)([(0,H.i)(rt),(0,a.w6)("design:paramtypes",[X.s,B.v,E.s])],ct);const pt=function(t){return["/relationsComplex/layout",t]},dt=function(t){return["/relationsComplex/relations",t]};let gt=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new O.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};gt.ɵfac=function(t){return new(t||gt)(_.Y(v.U),_.Y(P.F0),_.Y(Y.N),_.Y(N.gz))},gt.ɵcmp=f.Xp({type:gt,selectors:[["layout-preview-view"]],features:[D._([(0,U.A)()])],decls:12,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(y.Tg(0,"div",0)(1,"a",1),b._(2,"layout"),y.qZ(),y.Tg(3,"a",1),b._(4,"relations"),y.qZ(),y.Tg(5,"ng-select",2),Z.Y(6,ut,1,2,"ng-option",3),y.qZ()(),y.Tg(7,"div",4),y._U(8,"static-input",5),y.Tg(9,"div",6),q.Gk(10,7),y.qZ(),y._U(11,"static-output",8),y.qZ()),2&t&&(x.x(1),C.Q("routerLink",F.VK(5,pt,e._available.value)),x.x(2),C.Q("routerLink",F.VK(7,dt,e._available.value)),x.x(2),C.Q("formControl",e._available),x.x(1),C.Q("ngForOf",e._availableNames),x.x(4),C.Q("layoutComponentRenderer",e._metadata))},dependencies:[R.s,A.JJ,L.oH,Q.y,z.x,J.w,j.v,S.i,at,ct],encapsulation:2,changeDetection:0}),gt=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[v.U,P.F0,Y.N,N.gz])],gt);var mt=n(48397),ht=n(80734),vt=n(36159);let _t=class{constructor(t,e,n){this._manager=t,this._store=e,this._layoutManager=n,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(){return{relations:this._manager.getMetadata()}}_loadDemo(){this._metadata=h.F.demoRelationsComplexRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};_t.ɵfac=function(t){return new(t||_t)(_.Y(mt.J),_.Y(v.U),_.Y(ht.n))},_t.ɵcmp=f.Xp({type:_t,selectors:[["relations-editor-view"]],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(y.Tg(0,"div",0)(1,"button",1)(2,"span"),b._(3,"go back"),y.qZ()(),y.Tg(4,"load-save-new",2),w.N("metadataChange",(function(t){return e.setMetadata(t)})),y.qZ(),y.Tg(5,"button",3),w.N("click",(function(){return e._loadDemo()})),y.Tg(6,"span"),b._(7,"demo"),y.qZ()()(),y._U(8,"relations-editor",4)),2&t&&(x.x(4),C.Q("store",e._store)("getMetadataCallback",e._getMetadata),x.x(4),C.Q("metadata",e._metadata))},dependencies:[M.v,vt.Y,k.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([m.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],_t.prototype,"_getMetadata",null),_t=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[mt.J,v.U,ht.n])],_t);const ft=[T,_t,gt];var yt=n(18567),bt=n(53245),wt=n(54870),xt=n(43801),Ct=n(38327);class Mt extends wt.w{getDefinedTypes(){const t={};return t[at.relationsId]=at,t[ct.relationsId]=ct,t}}Mt.ɵfac=function(){let t;return function(e){return(t||(t=xt.n5(Mt)))(e||Mt)}}(),Mt.ɵprov=Ct.Yz({token:Mt,factory:Mt.ɵfac});let It=class{};It.ɵfac=function(t){return new(t||It)},It.ɵmod=f.oA({type:It}),It.ɵinj=Ct.cJ({providers:[(0,bt.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,r.U,i.Bz,l.A,c.p,u.W.withStaticComponents(Mt),yt.Qw,at,ct]}),It=(0,a.gn)([(0,s.P)(ft)],It)}}]);
//# sourceMappingURL=9913.chunk.0184b2ba9b327c0af5cf.js.map