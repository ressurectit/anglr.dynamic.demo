{"version":3,"file":"128.chunk.105009df0213fdd7c81a.js","mappings":"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","sources":["webpack://ng-universal-demo/../layout-editor/src/components/layoutEditorDragPlaceholder/layoutEditorDragPlaceholder.component.ts","webpack://ng-universal-demo/../layout-editor/src/components/layoutEditorDragPreview/layoutEditorDragPreview.component.ts","webpack://ng-universal-demo/../layout-editor/src/components/layoutEditorDragPreview/layoutEditorDragPreview.component.html","webpack://ng-universal-demo/../layout-editor/src/directives/connectDropLists/connectDropLists.directive.ts","webpack://ng-universal-demo/../layout-editor/src/services/layoutEditorMetadataExtractor/layoutEditorMetadataExtractor.service.ts","webpack://ng-universal-demo/../layout-editor/src/services/layoutEditorMetadataManager/layoutEditorMetadataManager.service.ts","webpack://ng-universal-demo/../layout/src/directives/layoutComponentRenderer/layoutComponentRenderer.types.ts","webpack://ng-universal-demo/../layout/src/directives/layoutComponentRenderer/layoutComponentRenderer.options.ts","webpack://ng-universal-demo/../layout/src/components/notFoundLayoutType/notFoundLayoutType.component.ts","webpack://ng-universal-demo/../layout/src/components/notFoundLayoutType/notFoundLayoutType.component.html","webpack://ng-universal-demo/../layout/src/directives/layoutComponentRenderer/layoutComponentRenderer.directive.ts","webpack://ng-universal-demo/../src/services/dynamicItemLoader/dynamicItemLoader.service.ts"],"sourcesContent":["import {Component, ChangeDetectionStrategy} from '@angular/core';\n\n/**\n * Component used for displaying layout editor drag placeholder\n */\n@Component(\n{\n    selector: 'layout-editor-drag-placeholder',\n    template: '',\n    styleUrls: ['layoutEditorDragPlaceholder.component.css'],\n    standalone: true,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LayoutEditorDragPlaceholderSAComponent\n{\n}","import {Component, ChangeDetectionStrategy, Input} from '@angular/core';\nimport {LayoutComponentMetadata} from '@anglr/dynamic/layout';\n\nimport {LayoutEditorMetadataDescriptor} from '../../decorators';\n\n/**\n * Component used for displaying layout editor drag preview\n */\n@Component(\n{\n    selector: 'layout-editor-drag-preview',\n    templateUrl: 'layoutEditorDragPreview.component.html',\n    styleUrls: ['layoutEditorDragPreview.component.css'],\n    standalone: true,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LayoutEditorDragPreviewSAComponent\n{\n    //######################### public properties - inputs #########################\n\n    /**\n     * Layout editor metadata for dragged component\n     */\n    @Input()\n    public editorMetadata?: LayoutEditorMetadataDescriptor|null;\n\n    /**\n     * Layout metadata for dragged component\n     */\n    @Input()\n    public layoutMetadata?: LayoutComponentMetadata|null;\n}","<span class=\"semi-bold\">{{editorMetadata?.metaInfo?.name ?? layoutMetadata?.name}}</span><span class=\"margin-left-extra-small small-text\">#{{layoutMetadata?.displayName || layoutMetadata?.id}}</span>","import {Directive, Input, OnDestroy, OnInit} from '@angular/core';\nimport {CdkDropList} from '@angular/cdk/drag-drop';\nimport {Subscription} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\nimport {LayoutEditorMetadataManager} from '../../services';\n\n/**\n * Directive that connects all droplists in tree\n */\n@Directive(\n{\n    selector: '[cdkDropList][connectDropLists]',\n    exportAs: 'connectDropLists',\n    standalone: true,\n})\nexport class ConnectDropListsSADirective implements OnInit, OnDestroy\n{\n    //######################### protected properties #########################\n    \n    /**\n     * Subscriptions created during initialization\n     */\n    protected _initSubscriptions: Subscription = new Subscription();\n\n    /**\n     * Prefix used for connected droplists group\n     */\n    protected _connectDropListsPrefix: string = '';\n\n    //######################### public properties - inputs and outputs #########################\n\n    /**\n     * Prefix used for connected droplists group\n     */\n    @Input()\n    public set connectDropListsPrefix(prefix: string)\n    {\n        this._connectDropListsPrefix = prefix;\n        this._setConnectedTo();\n    }\n    public get connectDropListsPrefix(): string\n    {\n        return this._connectDropListsPrefix ?? '';\n    }\n\n    //######################### constructor #########################\n    constructor(protected _cdkDropList: CdkDropList,\n                protected _manager: LayoutEditorMetadataManager,)\n    {\n    }\n\n    //######################### public methods - implementation of OnInit #########################\n    \n    /**\n     * Initialize component\n     */\n    public ngOnInit(): void\n    {\n        this._initSubscriptions.add(this._manager.layoutChange.pipe(debounceTime(12)).subscribe(() => this._setConnectedTo()));\n\n        this._setConnectedTo();\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n    \n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy(): void\n    {\n        this._initSubscriptions.unsubscribe();\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Sets connectedTo to CdkDropList\n     */\n    protected _setConnectedTo(): void\n    {\n        const flatTree = this._manager\n            .flatTree\n            .filter(itm => itm.component.canDrop())\n            .map(itm => this.connectDropListsPrefix + itm.component.id).reverse();\n\n        const connectedTo = flatTree.filter(itm => itm != this._cdkDropList.id);\n\n        this._cdkDropList.connectedTo = connectedTo;\n    }\n}","import {Inject, Injectable, Optional} from '@angular/core';\nimport {DynamicItemLoader, DynamicItemSource} from '@anglr/dynamic';\nimport {LOGGER, Logger} from '@anglr/common';\nimport {Dictionary} from '@jscrpt/common';\n\nimport {LayoutEditorMetadataDescriptor, LayoutEditorMetadataType} from '../../decorators';\n\n/**\n * Class used for extracting layout editor metadata\n */\n@Injectable({providedIn: 'root'})\nexport class LayoutEditorMetadataExtractor\n{\n    //######################### protected fields #########################\n\n    /**\n     * Cache for layout editor metadata\n     */\n    protected _cache: Dictionary<LayoutEditorMetadataDescriptor> = {};\n\n    //######################### constructor #########################\n    constructor(protected _loader: DynamicItemLoader,\n                @Inject(LOGGER) @Optional() protected _logger?: Logger,)\n    {\n    }\n    \n    //######################### public methods #########################\n\n    /**\n     * Extracts layout editor metadata from layout metadata\n     * @param metadata - Metadata describing type that contains metadata\n     */\n    public async extractMetadata(metadata: DynamicItemSource): Promise<LayoutEditorMetadataDescriptor|null>\n    {\n        const cacheId = `${metadata.package}-${metadata.name}`;\n\n        if(this._cache[cacheId])\n        {\n            return this._cache[cacheId];\n        }\n\n        const type = await this._loader.loadItem(metadata);\n\n        if(!type)\n        {\n            return null;\n        }\n\n        const metadataType = type.type as unknown as LayoutEditorMetadataType;\n\n        if(!metadataType.layoutEditorMetadata)\n        {\n            this._logger?.warn('LayoutEditorMetadataExtractor: Missing metadata! ', {package: metadata.package, name: metadata.name});\n\n            return null;\n        }\n\n        this._logger?.debug('LayoutEditorMetadataExtractor: Reading metadata! ', {package: metadata.package, name: metadata.name});\n\n        const metadataData = await metadataType.layoutEditorMetadata;\n        Object.freeze(metadataData);\n\n        this._cache[cacheId] = metadataData;\n\n        return metadataData;\n    }\n}","import {Inject, Injectable, Optional} from '@angular/core';\nimport {Logger, LOGGER} from '@anglr/common';\nimport {LayoutComponentMetadata} from '@anglr/dynamic/layout';\nimport {Dictionary, isBlank} from '@jscrpt/common';\nimport {Observable, Subject} from 'rxjs';\n\nimport type {LayoutDesignerSAComponent} from '../../components';\nimport {LayoutEditorMetadataManagerComponent} from './layoutEditorMetadataManager.interface';\n\n/**\n * Class used for handling layout metadata\n */\n@Injectable()\nexport class LayoutEditorMetadataManager\n{\n    //######################### protected fields #########################\n\n    /**\n     * Array of all registered layout designer components\n     */\n    protected _components: Dictionary<LayoutEditorMetadataManagerComponent> = {};\n\n    /**\n     * Id of root component\n     */\n    protected _rootComponentId: string|null = null;\n\n    /**\n     * Id of selected component\n     */\n    protected _selectedComponent: string|null = null;\n\n    /**\n     * Id of highlighted component\n     */\n    protected _highlightedComponent: string|null = null;\n\n    /**\n     * Used for emitting layout changes\n     */\n    protected _layoutChange: Subject<void> = new Subject<void>();\n\n    /**\n     * Used for emitting selected component changes\n     */\n    protected _selectedChange: Subject<void> = new Subject<void>();\n\n    /**\n     * Used for emitting highlighted component changes\n     */\n    protected _highlightedChange: Subject<void> = new Subject<void>();\n\n    /**\n     * Used for emitting changes in components display name\n     */\n    protected _displayNameChanges: Subject<void> = new Subject<void>();\n\n    /**\n     * Flattened tree of components tree\n     */\n    protected _flatTree: LayoutEditorMetadataManagerComponent[]|null = null;\n\n    //######################### public properties #########################\n\n    /**\n     * Gets id of selected component\n     */\n    public get selectedComponent(): string|null\n    {\n        return this._selectedComponent;\n    }\n\n    /**\n     * Gets id of highlighted component\n     */\n    public get highlightedComponent(): string|null\n    {\n        return this._highlightedComponent;\n    }\n\n    /**\n     * Gets tree root for component tree\n     */\n    public get root(): LayoutEditorMetadataManagerComponent|undefined|null\n    {\n        if(isBlank(this._rootComponentId))\n        {\n            return null;\n        }\n\n        return this._components[this._rootComponentId];\n    }\n\n    /**\n     * Occurs when layout changes\n     */\n    public get layoutChange(): Observable<void>\n    {\n        return this._layoutChange.asObservable();\n    }\n\n    /**\n     * Occurs when selected component changes\n     */\n    public get selectedChange(): Observable<void>\n    {\n        return this._selectedChange.asObservable();\n    }\n\n    /**\n     * Occurs when highlighted component changes\n     */\n    public get highlightedChange(): Observable<void>\n    {\n        return this._highlightedChange.asObservable();\n    }\n\n    /**\n     * Occurs when display name of component changes\n     */\n    public get displayNameChange(): Observable<void>\n    {\n        return this._displayNameChanges.asObservable();\n    }\n\n    /**\n     * Gets flattened tree of components tree\n     */\n    public get flatTree(): LayoutEditorMetadataManagerComponent[]\n    {\n        return (this._flatTree ??= this._buildFlatTree());\n    }\n\n    //######################### constructor #########################\n    constructor(@Inject(LOGGER) @Optional() protected _logger?: Logger,)\n    {\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Marks component as selected\n     * @param id - Id of component that will be marked as selected\n     */\n    public selectComponent(id?: string): void\n    {\n        this._selectedComponent = id ?? null;\n        this._selectedChange.next();\n    }\n\n    /**\n     * Removes selection of component\n     */\n    public unselectComponent(): void\n    {\n        this._selectedComponent = null;\n        this._selectedChange.next();\n    }\n\n    /**\n     * Marks component as highlighted\n     * @param id - Id of component that will be marked as selected\n     */\n    public highlightComponent(id?: string): void\n    {\n        this._highlightedComponent = id ?? null;\n        this._highlightedChange.next();\n    }\n\n    /**\n     * Removes highlight of component\n     */\n    public cancelHighlightedComponent(): void\n    {\n        this._highlightedComponent = null;\n        this._highlightedChange.next();\n    }\n\n    /**\n     * Registers layout designer component and returns true if component was registered successfuly, otherwise false\n     * @param component - Component instance that is being registered\n     * @param id - Id of registered component\n     * @param parentId - Id of parent that holds this component\n     */\n    public registerLayoutDesignerComponent(component: LayoutDesignerSAComponent, id: string, parentId: string|undefined): boolean\n    {\n        if(isBlank(parentId))\n        {\n            this._rootComponentId = id;\n        }\n\n        //already exists\n        if(this._components[id])\n        {\n            this._logger?.error(`LayoutEditorMetadataManager: Component with id ${id} is already registered!`);\n\n            return false;\n        }\n\n        const parent = parentId ? this._components[parentId] : null;\n        const componentItem: LayoutEditorMetadataManagerComponent = \n        {\n            component,\n            parent,\n            children: []\n        };\n\n        this._components[id] = componentItem;\n        \n        //insert into parent at the end\n        if(parent)\n        {\n            parent.children.splice(parent.children.length, 0, componentItem);\n        }\n\n        this._flatTree = null;\n        this._layoutChange.next();\n\n        this._logger?.debug('LayoutEditorMetadataManager: Registering component {@id}', id);\n\n        return true;\n    }\n\n    /**\n     * Gets component from designer component tree\n     * @param id - Id of component to be get\n     */\n    public getComponent(id: string): LayoutDesignerSAComponent|null\n    {\n        return this._components[id]?.component ?? null;\n    }\n\n    /**\n     * Gets parent of component by id\n     * @param id - Id of component which parent will be get\n     */\n    public getParent(id: string): LayoutDesignerSAComponent|null\n    {\n        return this._components[id]?.parent?.component ?? null;\n    }\n\n    /**\n     * Unregisters layout designer component\n     * @param id - Id of component that will be unregistered\n     */\n    public unregisterLayoutDesignerComponent(id: string): void\n    {\n        const componentItem = this._components[id];\n        delete this._components[id];\n        \n        //unregister from parent\n        if(componentItem?.parent)\n        {\n            const index = componentItem.parent.children.indexOf(componentItem);\n            componentItem.parent.children.splice(index, 1);\n        }\n\n        if(id === this._rootComponentId)\n        {\n            this._rootComponentId = null;\n        }\n\n        this._flatTree = null;\n        this._layoutChange.next();\n\n        this._logger?.debug('LayoutEditorMetadataManager: Unregistering component {@id}', id);\n    }\n\n    /**\n     * Fires event indicating that display name of any component has changed\n     */\n    public displayNameUpdated(): void\n    {\n        this._displayNameChanges.next();\n    }\n\n    /**\n     * Gets layout component metadata which is using this service\n     */\n    public getMetadata(): LayoutComponentMetadata|null\n    {\n        if(isBlank(this._rootComponentId) || !this._components[this._rootComponentId])\n        {\n            return null;\n        }\n\n        return this._components[this._rootComponentId].component.options?.typeMetadata ?? null;\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Builds flattened tree of components tree\n     */\n    protected _buildFlatTree(): LayoutEditorMetadataManagerComponent[]\n    {\n        if(isBlank(this._rootComponentId))\n        {\n            return [];\n        }\n\n        const component = this._components[this._rootComponentId];\n\n        if(!component)\n        {\n            return [];\n        }\n\n        return this._buildFlatTreeForComponent(component);\n    }\n\n    /**\n     * Builds flattened tree of components tree\n     * @param component - Component which tree should be flattened\n     */\n    protected _buildFlatTreeForComponent(component: LayoutEditorMetadataManagerComponent): LayoutEditorMetadataManagerComponent[]\n    {\n        let result: LayoutEditorMetadataManagerComponent[] = [component];\n\n        for(const child of component.children)\n        {\n            result = result.concat(this._buildFlatTreeForComponent(child));\n        }\n\n        return result;\n    }\n}","/**\n * Defines behavior what should happen if rendered layout component type was not found\n */\nexport enum MissingTypeBehavior\n{\n    /**\n     * Shows special not found component as *placeholder*\n     */\n    ShowNotFound,\n\n    /**\n     * Ignores missing component, silently continues\n     */\n    Ignore,\n\n    /**\n     * Throws javascript error with missing component error\n     */\n    ThrowError\n}","import {isPresent} from '@jscrpt/common';\n\nimport {MissingTypeBehavior} from './layoutComponentRenderer.types';\n\n/**\n * Options for LayoutComponentRendererDirective\n */\nexport class LayoutComponentRendererDirectiveOptions\n{\n    //######################### public properties #########################\n\n    /**\n     * Describes what should happen if layout component type described in metadata was not found\n     */\n    public missingTypeBehavior: MissingTypeBehavior = MissingTypeBehavior.ShowNotFound;\n\n    //######################### constructor #########################\n    constructor(missingTypeBehavior?: MissingTypeBehavior)\n    {\n        if(isPresent(missingTypeBehavior))\n        {\n            this.missingTypeBehavior = missingTypeBehavior;\n        } \n    }\n}","import {Component, ChangeDetectionStrategy} from '@angular/core';\nimport {HostDisplayBlockStyle} from '@anglr/common';\n\n/**\n * Component used for displaying not found layout type placeholder\n */\n@Component(\n{\n    selector: 'not-found-layout-type',\n    templateUrl: 'notFoundLayoutType.component.html',\n    styles: [HostDisplayBlockStyle],\n    standalone: true,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NotFoundLayoutTypeSAComponent \n{\n}","<div>\n    <span class=\"fas fa-minus-circle\"></span>\n    <span>NOT FOUND</span>\n    <span class=\"fas fa-minus-circle\"></span>\n</div>","import {ComponentRef, Directive, EventEmitter, Inject, Injector, Input, OnChanges, OnDestroy, Optional, Output, SimpleChanges, SkipSelf, Type, ValueProvider, ViewContainerRef} from '@angular/core';\nimport {Logger, LOGGER} from '@anglr/common';\nimport {DynamicItemExtension, DynamicItemLoader} from '@anglr/dynamic';\nimport {nameof, resolvePromiseOr} from '@jscrpt/common';\n\nimport {LayoutComponentRendererDirectiveOptions} from './layoutComponentRenderer.options';\nimport {MissingTypeBehavior} from './layoutComponentRenderer.types';\nimport {NotFoundLayoutTypeSAComponent} from '../../components';\nimport {LayoutComponent, LayoutComponentMetadata, LayoutComponentTransform} from '../../interfaces';\nimport {LAYOUT_COMPONENT_CHILD_EXTENSIONS, LAYOUT_COMPONENT_TRANSFORM} from '../../misc/tokens';\n\n\n\n/**\n * Renders layout component from metadata\n */\n@Directive(\n{\n    selector: '[layoutComponentRenderer]',\n    exportAs: 'layoutComponentRenderer',\n    providers: \n    [\n        <ValueProvider>\n        {\n            provide: LAYOUT_COMPONENT_CHILD_EXTENSIONS,\n            useValue: null,\n        }\n    ],\n    standalone: true\n})\nexport class LayoutComponentRendererSADirective<TComponent extends LayoutComponent<TComponentOptions> = any, TComponentOptions = any> implements OnChanges, OnDestroy\n{\n    //######################### protected fields #########################\n\n    /**\n     * Created component reference\n     */\n    protected _componentRef: ComponentRef<TComponent>|null = null;\n\n    //######################### public properties - inputs #########################\n\n    /**\n     * Type that should be dynamically created into current container\n     */\n    @Input('layoutComponentRenderer')\n    public componentMetadata: LayoutComponentMetadata<TComponentOptions>|undefined|null = null;\n\n    /**\n     * Custom injector used as parent for layout components tree\n     */\n    @Input('layoutComponentRendererInjector')\n    public customInjector: Injector|undefined|null;\n\n    /**\n     * Disables component metadata transformer\n     */\n    @Input('layoutComponentRendererDisableTransformer')\n    public disableTransformer: boolean = false;\n\n    //######################### public properties - outputs #########################\n\n    /**\n     * Occurs when rendered component changes\n     */\n    @Output('layoutComponentRendererComponentChange')\n    public componentChange: EventEmitter<ComponentRef<TComponent>|null> = new EventEmitter<ComponentRef<TComponent>|null>();\n\n    //######################### protected properties #########################\n\n    /**\n     * Instance of dynamically created component\n     */\n    protected get component(): TComponent|null\n    {\n        if(!this._componentRef)\n        {\n            return null;\n        }\n\n        return this._componentRef.instance;\n    }\n\n    //######################### public properties #########################\n\n    /**\n     * Gets component ref of created component or null\n     */\n    public get componentRef(): ComponentRef<TComponent>|null\n    {\n        return this._componentRef;\n    }\n\n    //######################### constructor #########################\n    constructor(protected _viewContainerRef: ViewContainerRef,\n                protected _loader: DynamicItemLoader,\n                @Inject(LAYOUT_COMPONENT_CHILD_EXTENSIONS) @Optional() @SkipSelf() protected _childExtensions?: Type<DynamicItemExtension>[]|null,\n                @Optional() protected _options?: LayoutComponentRendererDirectiveOptions,\n                @Inject(LAYOUT_COMPONENT_TRANSFORM) @Optional() protected _metadataTransformer?: LayoutComponentTransform,\n                @Inject(LOGGER) @Optional() protected _logger?: Logger,)\n    {\n        if(!this._options || !(this._options instanceof LayoutComponentRendererDirectiveOptions))\n        {\n            this._options = new LayoutComponentRendererDirectiveOptions();\n        }\n    }\n\n    //######################### public methods - implementation of OnChanges #########################\n\n    /**\n     * Called when input value changes\n     */\n    public async ngOnChanges(changes: SimpleChanges): Promise<void>\n    {\n        this._logger?.debug('LayoutComponentRendererSADirective: rendering component {@id}', {id: this.componentMetadata?.id});\n\n        this.ngOnDestroy();\n        this._viewContainerRef.clear();\n\n        // component metadata is present\n        if(nameof<LayoutComponentRendererSADirective<TComponent, TComponentOptions>>('componentMetadata') in changes && this.componentMetadata)\n        {\n            const injector = this.customInjector || this._viewContainerRef.injector;\n            let componentMetadata = this.componentMetadata;\n\n            if(this._metadataTransformer && !this.disableTransformer)\n            {\n                componentMetadata = this._metadataTransformer(this.componentMetadata, injector);\n            }\n            // const componentManager = injector.get(ComponentManager);\n            // const componentRelationsManager = injector.get(ComponentRelationManager);\n\n            // await componentRelationsManager.initialize();\n            const layoutComponentType = await this._loader.loadItem(componentMetadata);\n\n            if(!layoutComponentType)\n            {\n                this._logger?.warn('LayoutComponentRendererSADirective: Unable to find layout component type {@type}', {name: componentMetadata.name, package: componentMetadata.package});\n\n                switch(this._options?.missingTypeBehavior)\n                {\n                    default:\n                    //case MissingTypeBehavior.ShowNotFound:\n                    {\n                        this._viewContainerRef.createComponent(NotFoundLayoutTypeSAComponent);\n\n                        break;\n                    }\n                    case MissingTypeBehavior.Ignore:\n                    {\n                        //do nothing\n\n                        break;\n                    }\n                    case MissingTypeBehavior.ThrowError:\n                    {\n                        throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${componentMetadata.name} Package: ${componentMetadata.package}`);\n                    }\n                }\n\n                return;\n            }\n\n            const usedInjector = Injector.create(\n            {\n                parent: injector,\n                providers:\n                [\n                    <ValueProvider>\n                    {\n                        provide: LAYOUT_COMPONENT_CHILD_EXTENSIONS,\n                        useValue: layoutComponentType.childExtensions,\n                    }\n                ]\n            });\n\n            this._componentRef = this._viewContainerRef.createComponent(layoutComponentType.type,\n                                                                        {\n                                                                            injector: usedInjector,\n                                                                        });\n\n            this._logger?.debug('LayoutComponentRendererSADirective: component rendered {@id}', {id: componentMetadata?.id});\n\n            this.componentChange.next(this._componentRef);\n            \n            if(this.component)\n            {\n                this.component.registerExtensions(\n                [\n                    ...this._childExtensions?.map(itm => new itm()) ?? [],\n                    ...layoutComponentType?.extensions?.map(itm => new itm()) ?? [],\n                ]);\n\n                this._logger?.debug('LayoutComponentRendererSADirective: initializing component with options {@id}', {id: componentMetadata?.id});\n                await resolvePromiseOr(this.component.initialize?.(componentMetadata.options));\n\n                this._logger?.debug('LayoutComponentRendererSADirective: invalidating component visuals {@id}', {id: componentMetadata?.id});\n                this.component?.invalidateVisuals();\n\n                // componentManager.registerComponent(this.componentMetadata.id, this.component);\n            }\n        }\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy(): void\n    {\n        if(this._componentRef)\n        {\n            this._logger?.debug('LayoutComponentRendererSADirective: destroying component {@id}', {id: this.componentMetadata?.id, designer: this.disableTransformer});\n    \n            // const injector = this.customInjector || this._viewContainerRef.injector;\n            // const componentManager = injector.get(ComponentManager);\n    \n            // if(componentManager.get(this.componentMetadata.id))\n            // {\n            //     componentManager.unregisterComponent(this.componentMetadata.id);\n            // }\n            \n            this._componentRef?.destroy();\n            this._componentRef = null;\n            this.componentChange.next(null);\n        }\n    }\n}","import {Inject, Injectable, Optional, Type} from '@angular/core';\nimport {Logger, LOGGER} from '@anglr/common';\nimport {Dictionary, isType, resolvePromiseOr} from '@jscrpt/common';\n\nimport {DYNAMIC_MODULE_DATA_EXTRACTORS, DYNAMIC_ITEM_LOADER_PROVIDERS, DYNAMIC_ITEM_EXTENSIONS_EXTRACTORS} from '../../misc/tokens';\nimport {DynamicItemExtensionsExtractor, DynamicItemLoaderProvider} from './dynamicItemLoader.interface';\nimport {DynamicItem, DynamicModule, DynamicItemSource, DynamicItemType, DynamicModuleDataExtractor} from '../../interfaces';\n\n/**\n * Service used for loading dynamic items\n */\n@Injectable({providedIn: 'root'})\nexport class DynamicItemLoader\n{\n    //######################### protected cache #########################\n\n    /**\n     * Cached dynamic items\n     */\n    protected _cachedDynamicItems: Dictionary<DynamicItemType<DynamicItem>> = {};\n\n    //######################### constructors #########################\n    constructor(@Inject(DYNAMIC_ITEM_LOADER_PROVIDERS) protected _providers: DynamicItemLoaderProvider[],\n                @Inject(DYNAMIC_MODULE_DATA_EXTRACTORS) protected _extractors: DynamicModuleDataExtractor<Type<DynamicItem>>[],\n                @Inject(DYNAMIC_ITEM_EXTENSIONS_EXTRACTORS) protected _extensionsExtractors: DynamicItemExtensionsExtractor[],\n                @Inject(LOGGER) @Optional() protected _logger?: Logger,)\n    {\n        //providers is not an array\n        if(!Array.isArray(this._providers))\n        {\n            this._logger?.error('DynamicItemLoader: missing providers!');\n\n            this._providers = [];\n        }\n\n        //extractors is not an array\n        if(!Array.isArray(this._extractors))\n        {\n            this._logger?.error('DynamicItemLoader: missing extractors!');\n\n            this._extractors = [];\n        }\n\n        //extensions extractors is not an array\n        if(!Array.isArray(this._extensionsExtractors))\n        {\n            this._logger?.error('DynamicItemLoader: missing extensions extractors!');\n\n            this._extensionsExtractors = [];\n        }\n    }\n\n    //######################### public methods #########################\n\n    /**\n     * Loads dynamic item type, or null if not found\n     * @param source - Definition of source for dynamic item\n     */\n    public async loadItem<TType extends DynamicItem = any>(source: DynamicItemSource): Promise<DynamicItemType<TType>|null>\n    {\n        let dynamicModule: DynamicModule|null = null;\n        const cacheId = `${source.package}-${source.name}`;\n\n        //try to get from cache\n        if(this._cachedDynamicItems[cacheId])\n        {\n            this._logger?.verbose('DynamicItemLoader: Loading from cache {@source}', {name: source.name, package: source.package});\n\n            return this._cachedDynamicItems[cacheId] as DynamicItemType<TType>;\n        }\n\n        //loops all providers, return result from first that returns non null value\n        for(const provider of this._providers)\n        {\n            const asyncDynamicModule = provider.tryToGet(source);\n\n            if(asyncDynamicModule)\n            {\n                dynamicModule = await resolvePromiseOr(asyncDynamicModule);\n            }\n            else\n            {\n                dynamicModule = null;\n            }\n\n            if(dynamicModule)\n            {\n                break;\n            }\n        }\n\n        //no module found\n        if(!dynamicModule)\n        {\n            this._logger?.debug('DynamicItemLoader: Failed to get dynamic module {@source}', {name: source.name, package: source.package});\n\n            return null;\n        }\n\n        let result: DynamicItemType<TType>|null = null;\n\n        //loops all extractors, return result from first that returns non null value\n        for(const extractor of this._extractors)\n        {\n            const dynamicItemType = extractor.tryToExtract(dynamicModule);\n\n            if(dynamicItemType && isType(dynamicItemType))\n            {\n                this._cachedDynamicItems[cacheId] = result = \n                {\n                    type: dynamicItemType as Type<TType>\n                };\n\n                break;\n            }\n        }\n\n        if(!result)\n        {\n            this._logger?.debug('DynamicItemLoader: Failed to extract dynamic type {@source}', {name: source.name, package: source.package});\n\n            return null;\n        }\n\n        //loops all extensions extractors, return result from first that returns non null value\n        for(const extractor of this._extensionsExtractors)\n        {\n            const extensions = extractor.tryToExtract(dynamicModule);\n\n            if(extensions)\n            {\n                result.extensions = extensions.extensions;\n                result.childExtensions = extensions.childExtensions;\n\n                break;\n            }\n        }\n\n        return result;\n    }\n}"],"names":["LayoutEditorDragPlaceholderSAComponent","selectors","standalone","features","decls","vars","template","styles","changeDetection","LayoutEditorDragPreviewSAComponent","inputs","editorMetadata","layoutMetadata","consts","i0","ConnectDropListsSADirective","constructor","_cdkDropList","_manager","_initSubscriptions","Subscription","_connectDropListsPrefix","connectDropListsPrefix","prefix","this","_setConnectedTo","ngOnInit","add","layoutChange","pipe","debounceTime","subscribe","ngOnDestroy","unsubscribe","connectedTo","flatTree","filter","itm","component","canDrop","map","id","reverse","exportAs","LayoutEditorMetadataExtractor","_loader","_logger","_cache","extractMetadata","metadata","cacheId","package","name","type","loadItem","metadataType","layoutEditorMetadata","warn","debug","metadataData","Object","freeze","LOGGER","factory","providedIn","LayoutEditorMetadataManager","_components","_rootComponentId","_selectedComponent","_highlightedComponent","_layoutChange","Subject","_selectedChange","_highlightedChange","_displayNameChanges","_flatTree","selectedComponent","highlightedComponent","root","isBlank","asObservable","selectedChange","highlightedChange","displayNameChange","_buildFlatTree","selectComponent","next","unselectComponent","highlightComponent","cancelHighlightedComponent","registerLayoutDesignerComponent","parentId","error","parent","componentItem","children","splice","length","getComponent","getParent","unregisterLayoutDesignerComponent","index","indexOf","displayNameUpdated","getMetadata","options","typeMetadata","_buildFlatTreeForComponent","result","child","concat","MissingTypeBehavior","LayoutComponentRendererDirectiveOptions","missingTypeBehavior","ShowNotFound","isPresent","NotFoundLayoutTypeSAComponent","LayoutComponentRendererSADirective","_viewContainerRef","_childExtensions","_options","_metadataTransformer","_componentRef","componentMetadata","disableTransformer","componentChange","EventEmitter","instance","componentRef","ngOnChanges","changes","clear","nameof","injector","customInjector","layoutComponentType","createComponent","Ignore","ThrowError","Error","usedInjector","Injector","providers","provide","LAYOUT_COMPONENT_CHILD_EXTENSIONS","useValue","childExtensions","registerExtensions","extensions","resolvePromiseOr","initialize","invalidateVisuals","designer","destroy","LAYOUT_COMPONENT_TRANSFORM","outputs","DynamicItemLoader","_providers","_extractors","_extensionsExtractors","_cachedDynamicItems","Array","isArray","source","dynamicModule","verbose","provider","asyncDynamicModule","tryToGet","extractor","dynamicItemType","tryToExtract","isType","DYNAMIC_ITEM_LOADER_PROVIDERS","DYNAMIC_MODULE_DATA_EXTRACTORS","DYNAMIC_ITEM_EXTENSIONS_EXTRACTORS"],"sourceRoot":""}