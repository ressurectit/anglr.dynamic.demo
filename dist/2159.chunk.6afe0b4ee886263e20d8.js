(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[2159],{69287:(e,t,n)=>{var o={"./asyncDataLoader/type":[13619,3619],"./basicPaging/type":[68328,8328],"./dataLoader/type":[98699,8699],"./dataTable/type":[17618,8258,7618],"./gridColumn/type":[95227,5227],"./gridColumnContent/type":[51748,1748],"./gridColumnHeader/type":[70453,453],"./gridColumns/type":[59050,8258,9050],"./paging/type":[65657,5657],"./previousNextPaging/type":[82296,2296],"./syncDataLoader/type":[51050,1050]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=69287,e.exports=r},95554:(e,t,n)=>{var o={"./add/type":[66872,2840,6872],"./divide/type":[64541,2840,4541],"./multiply/type":[81552,2840,1552],"./power/type":[12539,2840,2539],"./round/type":[94248,2840,6014],"./subtract/type":[14791,2840,4791]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=95554,e.exports=r},82159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RelationsComplexModule:()=>Nt});var o=n(97881),r=n(58853),a=n(14829),i=n(54004),s=n(78561),l=n(91940),u=n(59098),c=n(19555),d=n(63086),g=n(41842),p=n(83762),m=n(35516),h=n(42842),v=n(35891),y=n(21455),f=n(5290),_=n(78344),b=n(12919),w=n(37185),C=n(68339),k=n(93463),D=n(66201),x=n(95127),P=n(32779),M=n(85086);function T(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}class O{constructor(e){this.logger=e}tryToGet(e){var t,o=this;return(t=function*(){if("grid-components"!==e.package)return null;try{return o.logger.debug("GridDynamicModuleItemsProvider: trying to get item {{@item}}",{item:{name:e.name,package:e.package}}),yield n(69287)(`./${e.name}/type`)}catch(t){o.logger.debug("GridDynamicModuleItemsProvider: item {{@item}} was not found, reason: "+t,{item:{name:e.name,package:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){T(a,o,r,i,s,"next",e)}function s(e){T(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}function F(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}O.ɵfac=function(e){return new(e||O)(P.LF(x.bZ))},O.ɵprov=M.Yz({token:O,factory:O.ɵfac});class N{constructor(e){this.logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o.logger.debug("GridDynamicModuleTypesProvider: trying to get types for module {{@module}}",{module:{moduleName:e.package}}),"grid-components"===e.package?yield n.e(8538).then(n.bind(n,18538)):null}catch(t){o.logger.debug("GridDynamicModuleTypesProvider: module {{@module}} was not found, reason: "+t,{module:{moduleName:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){F(a,o,r,i,s,"next",e)}function s(e){F(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}function I(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}N.ɵfac=function(e){return new(e||N)(P.LF(x.bZ))},N.ɵprov=M.Yz({token:N,factory:N.ɵfac});class R{constructor(e){this.logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o.logger.debug("GridDynamicModuleRelationsProvider: trying to get relations types for module {{@module}}",{module:{moduleName:e.package}}),"grid-components"===e.package?yield n.e(8994).then(n.bind(n,28994)):null}catch(t){o.logger.debug("GridDynamicModuleRelationsProvider: module {{@module}} was not found, reason: "+t,{module:{moduleName:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){I(a,o,r,i,s,"next",e)}function s(e){I(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}R.ɵfac=function(e){return new(e||R)(P.LF(x.bZ))},R.ɵprov=M.Yz({token:R,factory:R.ɵfac});const Y={provide:g.Aw,useClass:O,multi:!0},z={provide:p.sc,useClass:N,multi:!0},U={provide:D.GP,useClass:R,multi:!0},Z={provide:D.n7,useClass:O,multi:!0},L={provide:k.B6,useClass:O,multi:!0};function q(){return[Y]}var E=n(42411),G=n(61487),Q=n(65947),j=n(76600),A=n(25271),S=n(46483),K=n(73943),X=n(75637),B=n(27103),$=n(35981),W=n(15045);const V="DEMO_CUSTOM_COMPONENTS";class J extends A.t{get registeredChange(){return this._registeredChange.asObservable()}constructor(e){super(),this._store=e,this._registeredChange=new W.x}toggleRegisteredComponent(e){const t=this._store.get(V)??{};t[e]?delete t[e]:t[e]={},this._store.set(V,t),this._registeredChange.next()}getRegisteredComponents(){return Object.keys(this._store.get(V)??{})}getConfigurationForComponent(e){const t=this._store.get(V)??{};return t[e]?t[e]:null}setConfigurationForComponent(e,t){const n=this._store.get(V)??{};n[e]&&(n[e]=t,this._store.set(V,n),this._registeredChange.next())}}J.ɵfac=function(e){return new(e||J)(P.LF(x.T0))},J.ɵprov=M.Yz({token:J,factory:J.ɵfac});class H{getOptions(e,t,n){return"basic-components"===e&&"button"===t?(0,K.l7)(!0,{},n,{buttonCssClass:"btn btn-info"}):n}getDisplayName(e,t,n){return n}}H.ɵfac=function(e){return new(e||H)},H.ɵprov=M.Yz({token:H,factory:H.ɵfac});class ee{getOptions(e,t,n){return n}getDisplayName(e,t,n){return"custom-components"===e&&"componentInputs"===t?"custom input display name":null}}ee.ɵfac=function(e){return new(e||ee)},ee.ɵprov=M.Yz({token:ee,factory:ee.ɵfac});var te=n(80033),ne=n(85410),oe=n(80354),re=n(88809),ae=n(13315),ie=n(43335),se=n(57284),le=n(10065),ue=n(38561),ce=n(17261),de=n(18910),ge=n(17873),pe=n(44275);let me=class{get emptyMetadata(){return{id:`stackPanel-${(0,K.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}constructor(e,t){this._store=e,this.history=t,this._metadata=null}_getMetadata(e){return{layout:e}}_loadDemo(){this._metadata=X.F.demoRelationsComplexLayout}_loadRestDemo(){this._metadata=X.F.complexDemoRestLayout}_loadFullDemo(){this._metadata=X.F.complexDemoFullLayout}};me.ɵfac=function(e){return new(e||me)(te.Y(B.U),te.Y(p.dB))},me.ɵcmp=ne.Xp({type:me,selectors:[["layout-editor-view"]],features:[oe._([v.z,{provide:g.qO,useFactory:e=>new y.I((t=>e.getData(t)?.layout)),deps:[B.U]},(0,m._T)(),(0,S.iS)(),(0,h.rj)(),[Y,z,(0,C.XW)("grid-components")],(0,b.m_)(),(0,w.vQ)(),(0,E.gJ)(),(0,G.hd)(),(0,Q.Wh)([],J),(0,m.CK)(H),{provide:f.L,useClass:$.y},{provide:j.K,useExisting:A.t},{provide:p.dK,useFactory:e=>e.registeredChange,deps:[j.K],multi:!0}])],decls:18,vars:6,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","history","componentMarking","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-1",3,"metadata"]],template:function(e,t){1&e&&(re.Tg(0,"div",0)(1,"button",1)(2,"span"),ae._(3,"go back"),re.qZ()(),re.Tg(4,"load-save-new",2),ie.N("metadataChange",(function(e){let n;return t._metadata=null!==(n=null==e?null:e.layout)&&void 0!==n?n:t.emptyMetadata})),re.qZ(),re.Tg(5,"button",3),ie.N("click",(function(){return t._loadDemo()})),re.Tg(6,"span"),ae._(7,"demo"),re.qZ()(),re.Tg(8,"button",3),ie.N("click",(function(){return t._loadRestDemo()})),re.Tg(9,"span"),ae._(10,"demo rest"),re.qZ()(),re.Tg(11,"button",3),ie.N("click",(function(){return t._loadFullDemo()})),re.Tg(12,"span"),ae._(13,"demo full"),re.qZ()(),re.Tg(14,"debug-data",4)(15,"div",5),ae._(16,"metadata"),re.qZ()()(),re._U(17,"layout-editor",6)),2&e&&(se.x(4),le.Q("store",t._store)("getMetadataCallback",t._getMetadata)("history",t.history)("componentMarking",!0),se.x(10),le.Q("copyClick",t._metadata),se.x(3),le.Q("metadata",t._metadata))},dependencies:[ue.z,de.Z,ge.v,ce.o,pe.Q],encapsulation:2,changeDetection:0}),(0,o.gn)([K.ru,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Object]),(0,o.w6)("design:returntype",Object)],me.prototype,"_getMetadata",null),me=(0,o.gn)([(0,d.N)({path:"layout"}),(0,d.N)({path:"layout/:id"}),(0,o.w6)("design:paramtypes",[B.U,_.Y])],me);var he=n(1737),ve=n(34326),ye=n(58418),fe=n(54619);function _e(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}class be{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){if("math-components"!==e.package)return null;try{return o._logger?.debug("MathDynamicModuleItemsProvider: trying to get item {{@item}}",{item:{name:e.name,package:e.package}}),yield n(95554)(`./${e.name}/type`)}catch(t){o._logger?.debug("MathDynamicModuleItemsProvider: item {{@item}} was not found, reason: "+t,{item:{name:e.name,package:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){_e(a,o,r,i,s,"next",e)}function s(e){_e(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}function we(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}be.ɵfac=function(e){return new(e||be)(P.LF(x.bZ,8))},be.ɵprov=M.Yz({token:be,factory:be.ɵfac});class Ce{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o._logger?.debug("MathDynamicModuleTypesProvider: trying to get types for module {{@module}}",{module:{moduleName:e.package}}),"math-components"===e.package?yield n.e(1746).then(n.bind(n,71746)):null}catch(t){o._logger?.debug("MathDynamicModuleTypesProvider: module {{@module}} was not found, reason: "+t,{module:{moduleName:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){we(a,o,r,i,s,"next",e)}function s(e){we(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}function ke(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}Ce.ɵfac=function(e){return new(e||Ce)(P.LF(x.bZ,8))},Ce.ɵprov=M.Yz({token:Ce,factory:Ce.ɵfac});class De{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o._logger?.debug("MathDynamicModuleRelationsProvider: trying to get relations types for module {{@module}}",{item:{moduleName:e.package}}),"math-components"===e.package?yield n.e(6973).then(n.bind(n,76973)):null}catch(t){o._logger?.debug("MathDynamicModuleRelationsProvider: module {{@module}} was not found, reason: "+t,{item:{moduleName:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){ke(a,o,r,i,s,"next",e)}function s(e){ke(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}De.ɵfac=function(e){return new(e||De)(P.LF(x.bZ,8))},De.ɵprov=M.Yz({token:De,factory:De.ɵfac});const xe={provide:g.Aw,useClass:be,multi:!0},Pe=(p.sc,{provide:D.GP,useClass:De,multi:!0}),Me={provide:D.n7,useClass:be,multi:!0},Te={provide:k.B6,useClass:be,multi:!0};function Oe(){return[xe]}var Fe=n(83554),Ne=n(52622),Ie=n(46430),Re=n(66898),Ye=n(13757),ze=n(40551),Ue=n(4539),Ze=n(48074),Le=n(24900),qe=n(72620),Ee=n(27669),Ge=n(36391),Qe=n(27398),je=n(49276),Ae=n(76311),Se=n(25657),Ke=n(81293),Xe=n(7312);function Be(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}const $e=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(8748),n.e(5055)]).then(n.bind(n,85055))).StaticInputRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){Be(a,o,r,i,s,"next",e)}function s(e){Be(a,o,r,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();var We,Ve=n(78190),Je=n(48049),He=n(28007);function et(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}let tt=We=class{static get relationsId(){return"static-input"}constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n,this.stringForm=new ye.NI(""),this.booleanForm=new ye.NI(!1),this.stringForm.valueChanges.subscribe((e=>this.stringOutput=e)),this.booleanForm.valueChanges.subscribe((e=>this.booleanOutput=e))}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(We.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(We.relationsId)},function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){et(a,o,r,i,s,"next",e)}function s(e){et(a,o,r,i,s,"throw",e)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(We.relationsId),this._componentManager.unregisterComponent(We.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function nt(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}tt.ɵfac=function(e){return new(e||tt)(te.Y(je.s),te.Y(Se.v),te.Y(Ke.s))},tt.ɵcmp=ne.Xp({type:tt,selectors:[["static-input"]],standalone:!0,features:[Ve.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(e,t){1&e&&(re.Tg(0,"div"),ae._(1,"INPUT:"),re.qZ(),re.Tg(2,"div",0),re._U(3,"input",1)(4,"input",2),re.qZ()),2&e&&(se.x(3),le.Q("formControl",t.stringForm),se.x(1),le.Q("formControl",t.booleanForm))},dependencies:[a.U,Je.Fj,He.W,Ze.JJ,Le.o],encapsulation:2,changeDetection:0}),(0,o.gn)([(0,Ae.A)(),(0,o.w6)("design:type",String)],tt.prototype,"stringOutput",void 0),(0,o.gn)([(0,Ae.A)(),(0,o.w6)("design:type",Boolean)],tt.prototype,"booleanOutput",void 0),tt=We=(0,o.gn)([(0,Xe.i)($e),(0,o.w6)("design:paramtypes",[je.s,Se.v,Ke.s])],tt);const ot=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(8748),n.e(967)]).then(n.bind(n,50967))).StaticOutputRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){nt(a,o,r,i,s,"next",e)}function s(e){nt(a,o,r,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();function rt(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}var at;let it=at=class{static get relationsId(){return"static-output"}constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(at.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(at.relationsId)},function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){rt(a,o,r,i,s,"next",e)}function s(e){rt(a,o,r,i,s,"throw",e)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(at.relationsId),this._componentManager.unregisterComponent(at.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};it.ɵfac=function(e){return new(e||it)(te.Y(je.s),te.Y(Se.v),te.Y(Ke.s))},it.ɵcmp=ne.Xp({type:it,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[Ve.j],decls:7,vars:2,template:function(e,t){1&e&&(re.Tg(0,"div"),ae._(1,"OUTPUT:"),re.qZ(),re.Tg(2,"div")(3,"div"),ae._(4),re.qZ(),re.Tg(5,"div"),ae._(6),re.qZ()()),2&e&&(se.x(4),Ye.hi("string: ",t.stringInput,""),se.x(2),Ye.hi("boolean: ",t.booleanInput,""))},dependencies:[a.U],encapsulation:2,changeDetection:0}),it=at=(0,o.gn)([(0,Xe.i)(ot),(0,o.w6)("design:paramtypes",[je.s,Se.v,Ke.s])],it);var st=n(72435),lt=n(26066),ut=n(31530),ct=n(56949);class dt{constructor(e,t,n,o){this.position=e,this.viewContainer=t,this.injector=n,this.document=o,this.relationsDefinition=[],this.playDelay=1500}ngOnChanges(e){(0,K.$0)("playDelay")in e&&this.visualizer&&this.visualizer.setInput((0,K.$0)("playDelay"),this.playDelay),(0,K.$0)("relationsDefinition")in e&&this.visualizer&&this.visualizer.setInput((0,K.$0)("relationsDefinition"),this.relationsDefinition),this.visualizer&&this.visualizer.changeDetectorRef.detectChanges()}ngOnDestroy(){this.visualizer?.destroy(),this.visualizer=null}show(e){e.preventDefault(),e.stopPropagation()}}function gt(e,t){if(1&e&&re._U(0,"ng-option",12),2&e){const e=t.$implicit;le.Q("value",e)("text",e)}}function pt(e,t){1&e&&Ne.Gk(0)}dt.ɵfac=function(e){return new(e||dt)(te.Y(x.Vr),te.Y(lt.s_),te.Y(ut.z),te.Y(st.K))},dt.ɵdir=ne.lG({type:dt,selectors:[["","showRelationsDebugger",""]],hostBindings:function(e,t){1&e&&ie.N("click",(function(e){return t.show(e)}))},inputs:{containerElement:"containerElement",relationsDefinition:"relationsDefinition",playDelay:"playDelay"},standalone:!0,features:[ct.T]});const mt=e=>["/relationsComplex/layout",e],ht=e=>["/relationsComplex/relations",e];let vt=class{constructor(e,t,n,o){this.store=e,this.router=t,this.relationsManager=n,this.route=o,this.available=new ye.NI(""),this.metadata=null,this.relations=[],this.selectedMetadata=null,this.availableNames=[]}ngOnInit(){this.availableNames=this.store.getStored(),this.route.params.subscribe((({id:e})=>{if(e){this.available.setValue(e);const t=this.selectedMetadata=this.store.getData(e);this.metadata=t?.layout,this.relations=t?.relations??[],this.relationsManager.setRelations(t.relations??[])}else this.selectedMetadata=null,this.relationsManager.setRelations([]);this.available.valueChanges.subscribe((e=>{this.router.navigate(["/relationsComplex/preview",e],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};vt.ɵfac=function(e){return new(e||vt)(te.Y(B.U),te.Y(he.F0),te.Y(fe.N),te.Y(ve.gz))},vt.ɵcmp=ne.Xp({type:vt,selectors:[["layout-preview-view"]],features:[oe._([{provide:g.qO,useFactory:e=>new y.I((t=>e.getData(t)?.layout)),deps:[B.U]},{provide:k.te,useFactory:e=>new y.I((t=>e.getData(t)?.relations)),deps:[B.U]},(0,Q.Fy)(),(0,S.I1)(),(0,h.mi)(),(0,b.Ur)(),(0,w.WH)(),(0,E.qN)(),(0,G.ag)(),(0,Fe.cg)(),[...Oe(),Te],[...q(),L]])],decls:17,vars:12,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],["href","#","showRelationsDebugger","",1,"margin-horizontal-small",3,"relationsDefinition"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[4,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(e,t){1&e&&(re.Tg(0,"div",0)(1,"a",1),ae._(2,"layout"),re.qZ(),re.Tg(3,"a",1),ae._(4,"relations"),re.qZ(),re.Tg(5,"a",2),ae._(6,"debug"),re.qZ(),re.Tg(7,"ng-select",3),Ie.Y(8,gt,1,2,"ng-option",4),re.qZ(),re.Tg(9,"debug-data",5)(10,"div",6),ae._(11),re.qZ()()(),re.Tg(12,"div",7),re._U(13,"static-input",8),re.Tg(14,"div",9),Ie.Y(15,pt,1,0,"ng-container",10),re.qZ(),re._U(16,"static-output",11),re.qZ()),2&e&&(se.x(1),le.Q("routerLink",Re.VK(8,mt,t.available.value)),se.x(2),le.Q("routerLink",Re.VK(10,ht,t.available.value)),se.x(2),le.Q("relationsDefinition",t.relations),se.x(2),le.Q("formControl",t.available),se.x(1),le.Q("ngForOf",t.availableNames),se.x(1),le.Q("copyClick",t.selectedMetadata),se.x(2),Ye.Oq(t.available.value),se.x(4),le.Q("layoutComponentRenderer",t.metadata))},dependencies:[Ue.sg,Ze.JJ,Le.o,ze.r,qe.x,Ee.w,Ge.v,Qe.i,ge.v,ce.o,tt,it,dt],encapsulation:2,changeDetection:0}),vt=(0,o.gn)([(0,d.N)({path:"preview"}),(0,d.N)({path:"preview/:id"}),(0,o.w6)("design:paramtypes",[B.U,he.F0,fe.N,ve.gz])],vt);var yt=n(58329),ft=n(89852),_t=n(76498),bt=n(80157),wt=n(46735);class Ct extends bt.w{getDefinedTypes(){const e={};return e[tt.relationsId]=tt,e[it.relationsId]=it,e}}Ct.ɵfac=(()=>{let e;return function(t){return(e||(e=wt.n5(Ct)))(t||Ct)}})(),Ct.ɵprov=M.Yz({token:Ct,factory:Ct.ɵfac});var kt=n(20560);const Dt="DEMO_RELATIONS_COMPONENTS";class xt extends ft.F{get registeredChange(){return this._registeredChange.asObservable()}constructor(e){super(),this._store=e,this._registeredChange=new W.x}toggleRegisteredComponent(e){const t=this._store.get(Dt)??{};t[e]?delete t[e]:t[e]={},this._store.set(Dt,t),this._registeredChange.next()}getRegisteredComponents(){return Object.keys(this._store.get(Dt)??{})}getConfigurationForComponent(e){const t=this._store.get(Dt)??{};return t[e]?t[e]:null}setConfigurationForComponent(e,t){const n=this._store.get(Dt)??{};n[e]&&(n[e]=t,this._store.set(Dt,n),this._registeredChange.next())}}xt.ɵfac=function(e){return new(e||xt)(P.LF(x.T0))},xt.ɵprov=M.Yz({token:xt,factory:xt.ɵfac});var Pt=n(33108);let Mt=class{get emptyMetadata(){return[]}constructor(e,t,n){this._store=e,this.history=t,this._layoutManager=n,this._metadata=[]}_getMetadata(e){return{relations:e}}_loadDemo(){this._metadata=X.F.demoRelationsComplexRelations}_loadRestDemo(){this._metadata=X.F.complexDemoRestRelations}_loadFullDemo(){this._metadata=X.F.complexDemoFullRelations}setMetadata(e){this._metadata=e?.relations??this.emptyMetadata,this._layoutManager.setLayout(e?.layout)}};Mt.ɵfac=function(e){return new(e||Mt)(te.Y(B.U),te.Y(D.nR),te.Y(_t.n))},Mt.ɵcmp=ne.Xp({type:Mt,selectors:[["relations-editor-view"]],features:[oe._([v.z,{provide:k.te,useFactory:e=>new y.I((t=>e.getData(t)?.relations)),deps:[B.U]},(0,S.pS)(),(0,h.qm)(),(0,G.vu)(),(0,b.Od)(),(0,Fe.xb)(),(0,E.Rn)(),(0,w.El)(),[Pe,Me,(0,C.XW)("math-components"),...Oe()],[U,Z,(0,C.XW)("grid-components"),...q()],(0,Q.Kc)((0,Q.Sf)(Ct),J),(0,Q.Ao)(xt),(0,yt.qV)(ee),{provide:f.L,useClass:kt.d},{provide:j.K,useExisting:ft.F},{provide:D.dK,useFactory:e=>e.registeredChange,deps:[j.K],multi:!0}])],decls:15,vars:6,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","layoutControls","history","componentMarking","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(e,t){1&e&&(re.Tg(0,"div",0)(1,"button",1)(2,"span"),ae._(3,"go back"),re.qZ()(),re.Tg(4,"load-save-new",2),ie.N("metadataChange",(function(e){return t.setMetadata(e)})),re.qZ(),re.Tg(5,"button",3),ie.N("click",(function(){return t._loadDemo()})),re.Tg(6,"span"),ae._(7,"demo"),re.qZ()(),re.Tg(8,"button",3),ie.N("click",(function(){return t._loadRestDemo()})),re.Tg(9,"span"),ae._(10,"demo rest"),re.qZ()(),re.Tg(11,"button",3),ie.N("click",(function(){return t._loadFullDemo()})),re.Tg(12,"span"),ae._(13,"demo full"),re.qZ()()(),re._U(14,"relations-editor",4)),2&e&&(se.x(4),le.Q("store",t._store)("getMetadataCallback",t._getMetadata)("layoutControls",!1)("history",t.history)("componentMarking",!0),se.x(10),le.Q("metadata",t._metadata))},dependencies:[ue.z,Pt.Y,pe.Q],encapsulation:2,changeDetection:0}),(0,o.gn)([K.ru,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Array]),(0,o.w6)("design:returntype",Object)],Mt.prototype,"_getMetadata",null),Mt=(0,o.gn)([(0,d.N)({path:"relations"}),(0,d.N)({path:"relations/:id"}),(0,o.w6)("design:paramtypes",[B.U,_.Y,_t.n])],Mt);const Tt=[me,Mt,vt];var Ot=n(79141),Ft=n(96220);let Nt=class{};Nt.ɵfac=function(e){return new(e||Nt)},Nt.ɵmod=ne.oA({type:Nt}),Nt.ɵinj=M.cJ({providers:[(0,Ft.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[r.e,a.U,i.Bz,u.A,c.W,l.s,Ot.Qw,tt,it]}),Nt=(0,o.gn)([(0,s.P)(Tt)],Nt)},83554:(e,t,n)=>{"use strict";n.d(t,{cg:()=>f,xb:()=>y,Gc:()=>v});var o=n(68339),r=n(66201),a=n(93463),i=n(95127),s=n(32779),l=n(85086);function u(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}class c{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){try{return o._logger?.debug("RestDynamicModuleRelationsProvider: trying to get relations types for module {{@module}}",{module:{moduleName:e.package}}),"rest-components"===e.package?yield n.e(1556).then(n.bind(n,21556)):null}catch(t){o._logger?.debug("RestDynamicModuleRelationsProvider: module {{@module}} was not found, reason: "+t,{module:{moduleName:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){u(a,o,r,i,s,"next",e)}function s(e){u(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}function d(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}c.ɵfac=function(e){return new(e||c)(s.LF(i.bZ,8))},c.ɵprov=l.Yz({token:c,factory:c.ɵfac});class g{constructor(e){this._logger=e}tryToGet(e){var t,o=this;return(t=function*(){if("rest-components"!==e.package)return null;try{return o._logger?.debug("RestDynamicModuleItemsProvider: trying to get item {{@item}}",{item:{name:e.name,package:e.package}}),yield n(2721)(`./${e.name}/type`)}catch(t){o._logger?.debug("RestDynamicModuleItemsProvider: item {{@item}} was not found, reason: "+t,{item:{name:e.name,package:e.package}})}return null},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){d(a,o,r,i,s,"next",e)}function s(e){d(a,o,r,i,s,"throw",e)}i(void 0)}))})()}}g.ɵfac=function(e){return new(e||g)(s.LF(i.bZ,8))},g.ɵprov=l.Yz({token:g,factory:g.ɵfac});const p={provide:r.GP,useClass:c,multi:!0},m={provide:r.n7,useClass:g,multi:!0},h={provide:a.B6,useClass:g,multi:!0};function v(){return[p,m,(0,o.XW)("rest-components")]}function y(){return[...v()]}function f(){return[h]}},2721:(e,t,n)=>{var o={"./rest/type":[92215,2215]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=2721,e.exports=r}}]);
//# sourceMappingURL=2159.chunk.6afe0b4ee886263e20d8.js.map