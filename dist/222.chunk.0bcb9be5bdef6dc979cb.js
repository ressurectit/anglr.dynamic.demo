"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[222],{69307:(e,t,n)=>{n.d(t,{a:()=>r});var o=n(77842),a=n(82568);class r{}r.ɵfac=function(e){return new(e||r)},r.ɵcmp=o.Xp({type:r,selectors:[["layout-editor-drag-placeholder"]],standalone:!0,features:[a.j],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background: #0096cca2;\n    min-height: 10px;\n    width: 85%;\n    margin-left: auto;\n    margin-right: auto;\n    border-radius: 4px;\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}"],changeDetection:0})},53015:(e,t,n)=>{n.d(t,{s:()=>d});var o=n(77842),a=n(82568),r=n(80827),i=n(41853),s=n(66794),c=n(6427);class d{}d.ɵfac=function(e){return new(e||d)},d.ɵcmp=o.Xp({type:d,selectors:[["layout-editor-drag-preview"]],inputs:{editorMetadata:"editorMetadata",layoutMetadata:"layoutMetadata"},standalone:!0,features:[a.j],decls:4,vars:2,consts:[[1,"semi-bold"],[1,"margin-left-extra-small","small-text"]],template:function(e,t){if(1&e&&(r.Tg(0,"span",0),i._(1),r.qZ(),r.Tg(2,"span",1),i._(3),r.qZ()),2&e){let e;s.x(1),c.Oq(null!==(e=null==t.editorMetadata||null==t.editorMetadata.metaInfo?null:t.editorMetadata.metaInfo.name)&&void 0!==e?e:null==t.layoutMetadata?null:t.layoutMetadata.name),s.x(2),c.hi("#",null==t.layoutMetadata?null:t.layoutMetadata.id,"")}},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background-color: #eee;\n    border-radius: 6px;\n    padding: 3px 8px;\n}"],changeDetection:0})},94596:(e,t,n)=>{function o(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){o(i,a,r,s,c,"next",e)}function c(e){o(i,a,r,s,c,"throw",e)}s(void 0)}))}}n.d(t,{W:()=>i,X:()=>r});class r{get metaInfo(){return this._getValue("metaInfo")}get addDescendant(){return this._getValue("addDescendant")}get applyDesignerStyles(){return this._getValue("applyDesignerStyles")}get canDropMetadata(){return this._getValue("canDropMetadata")}get removeDescendant(){return this._getValue("removeDescendant")}_getValue(e){var t=this;return a((function*(){return(t._instance??(t._instance=yield t._getInstance()))[e]}))()}}class i{constructor(e){this._asyncMetadata=e,this._initialized=!1}initialize(){var e=this;return a((function*(){e._initialized||(e.metaInfo=yield e._asyncMetadata.metaInfo,e.addDescendant=yield e._asyncMetadata.addDescendant,e.applyDesignerStyles=yield e._asyncMetadata.applyDesignerStyles,e.canDropMetadata=yield e._asyncMetadata.canDropMetadata,e.isHorizontalDrop=yield e._asyncMetadata.isHorizontalDrop,e.removeDescendant=yield e._asyncMetadata.removeDescendant,e._initialized=!0,Object.freeze(e))}))()}}},85902:(e,t,n)=>{n.d(t,{T:()=>d});var o=n(46480),a=n(94596),r=n(11776),i=n(38327),s=n(12193);function c(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}class d{constructor(e,t){this._loader=e,this._logger=t,this._cache={}}extractMetadata(e){var t,n=this;return(t=function*(){const t=`${e.package}-${e.name}`;if(n._cache[t])return n._cache[t];const o=yield n._loader.loadItem(e);if(!o)return null;const r=o.type;if(!r.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:e.package,name:e.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:e.package,name:e.name});const i=new a.W(r.layoutEditorMetadata);return yield i.initialize(),n._cache[t]=i,i},function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(e){c(r,o,a,i,s,"next",e)}function s(e){c(r,o,a,i,s,"throw",e)}i(void 0)}))})()}}d.ɵfac=function(e){return new(e||d)(r.LF(s.S),r.LF(o.bZ,8))},d.ɵprov=i.Yz({token:d,factory:d.ɵfac,providedIn:"root"})},83434:(e,t,n)=>{n.d(t,{t:()=>c});var o=n(46480),a=n(43939),r=n(53682),i=n(11776),s=n(38327);class c{constructor(e){this._logger=e,this._components={},this._rootComponentId=null,this._selectedComponent=null,this._highlightedComponent=null,this._layoutChange=new r.xQ,this._selectedChange=new r.xQ,this._highlightedChange=new r.xQ,this._idChanges=new r.xQ,this._flatTree=null}get selectedComponent(){return this._selectedComponent}get highlightedComponent(){return this._highlightedComponent}get root(){return(0,a.fp)(this._rootComponentId)?null:this._components[this._rootComponentId]}get layoutChange(){return this._layoutChange.asObservable()}get selectedChange(){return this._selectedChange.asObservable()}get highlightedChange(){return this._highlightedChange.asObservable()}get idChange(){return this._idChanges.asObservable()}get flatTree(){return this._flatTree??(this._flatTree=this._buildFlatTree())}selectComponent(e){this._selectedComponent=e??null,this._selectedChange.next()}unselectComponent(){this._selectedComponent=null,this._selectedChange.next()}highlightComponent(e){this._highlightedComponent=e??null,this._highlightedChange.next()}cancelHighlightedComponent(){this._highlightedComponent=null,this._highlightedChange.next()}registerLayoutDesignerComponent(e,t,n){if((0,a.fp)(n)&&(this._rootComponentId=t),this._components[t])return this._logger?.error(`LayoutEditorMetadataManager: Component with id ${t} is already registered!`),!1;const o=n?this._components[n]:null,r={component:e,parent:o,children:[]};return this._components[t]=r,o&&o.children.splice(o.children.length,0,r),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Registering component {@id}",t),!0}getComponent(e){return this._components[e].component}unregisterLayoutDesignerComponent(e){const t=this._components[e];if(delete this._components[e],t?.parent){const e=t.parent.children.indexOf(t);t.parent.children.splice(e,1)}e===this._rootComponentId&&(this._rootComponentId=null),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Unregistering component {@id}",e)}updatedLayoutDesignerComponentId(e,t){const n=this._components[e];n&&(this._components[t]=n,delete this._components[e],e===this._rootComponentId&&(this._rootComponentId=t),this._idChanges.next(e))}getMetadata(){return(0,a.fp)(this._rootComponentId)||!this._components[this._rootComponentId]?null:this._components[this._rootComponentId].component.options?.typeMetadata??null}_buildFlatTree(){if((0,a.fp)(this._rootComponentId))return[];const e=this._components[this._rootComponentId];return e?this._buildFlatTreeForComponent(e):[]}_buildFlatTreeForComponent(e){let t=[e];for(const n of e.children)t=t.concat(this._buildFlatTreeForComponent(n));return t}}c.ɵfac=function(e){return new(e||c)(i.LF(o.bZ,8))},c.ɵprov=s.Yz({token:c,factory:c.ɵfac})},49308:(e,t,n)=>{n.d(t,{i:()=>v});var o=n(74445),a=n(46480),r=n(49891),i=n(78950),s=n(31918),c=n(77842),d=n(82568),l=n(80827),u=n(41853);class h{}h.ɵfac=function(e){return new(e||h)},h.ɵcmp=c.Xp({type:h,selectors:[["not-found-layout-type"]],standalone:!0,features:[d.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,t){1&e&&(l.Tg(0,"div"),l._U(1,"span",0),l.Tg(2,"span"),u._(3,"NOT FOUND"),l.qZ(),l._U(4,"span",0),l.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var p=n(8477),m=n(79440),g=n(8215),_=n(36973),f=n(12193);function y(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}class v{constructor(e,t,n,a,r){this._viewContainerRef=e,this._loader=t,this._options=n,this._metadataTransformer=a,this._logger=r,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new o.v,this._options&&this._options instanceof i.W||(this._options=new i.W)}get component(){return this._componentRef?this._componentRef.instance:null}ngOnChanges(e){var t,n=this;return(t=function*(){if(n._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:n.componentMetadata?.id}),n.ngOnDestroy(),n._viewContainerRef.clear(),(0,r.$)("componentMetadata")in e&&n.componentMetadata){const e=n.customInjector||n._viewContainerRef.injector;let t=n.componentMetadata;n._metadataTransformer&&!n.disableTransformer&&(t=n._metadataTransformer(n.componentMetadata,e));const o=yield n._loader.loadItem(t);if(!o){switch(n._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:t.name,package:t.package}),n._options?.missingTypeBehavior){default:n._viewContainerRef.createComponent(h);break;case s.q.Ignore:break;case s.q.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${t.name} Package: ${t.package}`)}return}n._componentRef=n._viewContainerRef.createComponent(o.type,{injector:e}),n._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:t?.id}),n.componentChange.next(n._componentRef),n.component&&(n._logger?.debug("LayoutComponentRendererSADirective: setting component options {@id}",{id:t?.id}),n.component.options=t.options,n._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:t?.id}),n.component?.invalidateVisuals())}},function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(e){y(r,o,a,i,s,"next",e)}function s(e){y(r,o,a,i,s,"throw",e)}i(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}v.ɵfac=function(e){return new(e||v)(m.Y(g.s_),m.Y(f.S),m.Y(i.W,8),m.Y(p.x,8),m.Y(a.bZ,8))},v.ɵdir=c.lG({type:v,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[_.T]})},78950:(e,t,n)=>{n.d(t,{W:()=>r});var o=n(43939),a=n(31918);class r{constructor(e){this.missingTypeBehavior=a.q.ShowNotFound,(0,o.EN)(e)&&(this.missingTypeBehavior=e)}}},31918:(e,t,n)=>{var o;n.d(t,{q:()=>o}),function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}))},12193:(e,t,n)=>{n.d(t,{S:()=>l});var o=n(46480),a=n(87606),r=n(43939),i=n(13457),s=n(11776),c=n(38327);function d(e,t,n,o,a,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}class l{constructor(e,t,n){this._providers=e,this._extractors=t,this._logger=n,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[])}loadItem(e){var t,n=this;return(t=function*(){let t=null;const o=`${e.package}-${e.name}`;if(n._cachedDynamicItems[o])return n._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:e.name,package:e.package}),n._cachedDynamicItems[o];for(const o of n._providers){const n=o.tryToGet(e);if(t=n?yield(0,a.K)(n):null,t)break}if(!t)return n._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:e.name,package:e.package}),null;for(const e of n._extractors){const a=e.tryToExtract(t);if(a&&(0,r.P9)(a)){const e={type:a};return n._cachedDynamicItems[o]=e}}return n._logger?.debug("DynamicItemLoader: Failed to extract dynamic type {@source}",{name:e.name,package:e.package}),null},function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(e){d(r,o,a,i,s,"next",e)}function s(e){d(r,o,a,i,s,"throw",e)}i(void 0)}))})()}}l.ɵfac=function(e){return new(e||l)(s.LF(i.iD),s.LF(i.WU),s.LF(o.bZ,8))},l.ɵprov=c.Yz({token:l,factory:l.ɵfac,providedIn:"root"})}}]);
//# sourceMappingURL=222.chunk.0bcb9be5bdef6dc979cb.js.map