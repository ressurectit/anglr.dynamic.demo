"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[5184],{85184:(t,a,e)=>{e.r(a),e.d(a,{RelationsWithLayoutEditorModule:()=>nt});var n=e(14392),o=e(76668),i=e(27052),r=e(68624),s=e(97212),l=e(89001),u=e(35648),d=e(96148),c=e(94761),g=e(83434),p=e(57466),m=e(27049),_=e(85638),h=e(89952),y=e(79440),v=e(13691),b=e(80827),f=e(41853),w=e(72891),x=e(66794),k=e(73301),M=e(84967),N=e(9545),C=e(86825);let L=class{constructor(t,a){this._manager=t,this._store=a,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,p.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return{layout:this._manager.getMetadata()}}_loadDemo(){this._metadata=_.F.demoLayoutWithRelations}};L.ɵfac=function(t){return new(t||L)(y.Y(g.t),y.Y(h.U))},L.ɵcmp=v.Xp({type:L,selectors:[["layout-editor-view"]],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,a){1&t&&(b.Tg(0,"div",0)(1,"button",1)(2,"span"),f._(3,"go back"),b.qZ()(),b.Tg(4,"load-save-new",2),w.N("metadataChange",(function(t){let e;return a._metadata=null!==(e=null==t?null:t.layout)&&void 0!==e?e:a.emptyMetadata})),b.qZ(),b.Tg(5,"button",3),w.N("click",(function(){return a._loadDemo()})),b.Tg(6,"span"),f._(7,"demo"),b.qZ()()(),b._U(8,"layout-editor",4)),2&t&&(x.x(4),k.Q("store",a._store)("getMetadataCallback",a._getMetadata),x.x(4),k.Q("metadata",a._metadata))},dependencies:[M.v,N.Z,C.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([m.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",Object)],L.prototype,"_getMetadata",null),L=(0,n.gn)([(0,c.N)({path:"layout"}),(0,c.N)({path:"layout/:id"}),(0,n.w6)("design:paramtypes",[g.t,h.U])],L);var T=e(37943),Q=e(15467),Y=e(70625),U=e(56224),D=e(75990),Z=e(73379),q=e(15686),F=e(4477),O=e(94727),W=e(32361),A=e(12311),E=e(77470),R=e(27635),P=e(4489),J=e(68965),z=e(31686),j=e(60405);function B(t,a){if(1&t&&b._U(0,"ng-option",7),2&t){const t=a.$implicit;k.Q("value",t)("text",t)}}const I=function(t){return["/relationsWithLayoutEditor/layout",t]},V=function(t){return["/relationsWithLayoutEditor/relations",t]};let X=class{constructor(t,a,e,n){this._store=t,this._router=a,this._relationsManager=e,this._route=n,this._available=new Y.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const a=this._store.getData(t);this._metadata=a?.layout,this._relationsManager.setRelations(a.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsWithLayoutEditor/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};X.ɵfac=function(t){return new(t||X)(y.Y(h.U),y.Y(T.F0),y.Y(D.N),y.Y(Q.gz))},X.ɵcmp=v.Xp({type:X,selectors:[["layout-preview-view"]],features:[Z._([(0,U.A)()])],decls:10,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"flex-1","overflow-vertical-scroll"],[3,"layoutComponentRenderer"],[3,"value","text"]],template:function(t,a){1&t&&(b.Tg(0,"div",0)(1,"a",1),f._(2,"layout"),b.qZ(),b.Tg(3,"a",1),f._(4,"relations"),b.qZ(),b.Tg(5,"ng-select",2),q.Y(6,B,1,2,"ng-option",3),b.qZ()(),b.Tg(7,"div",4)(8,"div",5),F.Gk(9,6),b.qZ()()),2&t&&(x.x(1),k.Q("routerLink",O.VK(5,I,a._available.value)),x.x(2),k.Q("routerLink",O.VK(7,V,a._available.value)),x.x(2),k.Q("formControl",a._available),x.x(1),k.Q("ngForOf",a._availableNames),x.x(3),k.Q("layoutComponentRenderer",a._metadata))},dependencies:[A.s,E.JJ,R.oH,W.y,P.x,J.w,z.v,j.i],encapsulation:2,changeDetection:0}),X=(0,n.gn)([(0,c.N)({path:"preview"}),(0,c.N)({path:"preview/:id"}),(0,n.w6)("design:paramtypes",[h.U,T.F0,D.N,Q.gz])],X);var K=e(48397),S=e(80734),$=e(36159);let G=class{constructor(t,a,e){this._manager=t,this._store=a,this._layoutManager=e,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(){return{relations:this._manager.getMetadata()}}_loadDemo(){this._metadata=_.F.relationsWithLayoutDemo}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};G.ɵfac=function(t){return new(t||G)(y.Y(K.J),y.Y(h.U),y.Y(S.n))},G.ɵcmp=v.Xp({type:G,selectors:[["relations-editor-view"]],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,a){1&t&&(b.Tg(0,"div",0)(1,"button",1)(2,"span"),f._(3,"go back"),b.qZ()(),b.Tg(4,"load-save-new",2),w.N("metadataChange",(function(t){return a.setMetadata(t)})),b.qZ(),b.Tg(5,"button",3),w.N("click",(function(){return a._loadDemo()})),b.Tg(6,"span"),f._(7,"demo"),b.qZ()()(),b._U(8,"relations-editor",4)),2&t&&(x.x(4),k.Q("store",a._store)("getMetadataCallback",a._getMetadata),x.x(4),k.Q("metadata",a._metadata))},dependencies:[M.v,$.Y,C.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([m.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",Object)],G.prototype,"_getMetadata",null),G=(0,n.gn)([(0,c.N)({path:"relations"}),(0,c.N)({path:"relations/:id"}),(0,n.w6)("design:paramtypes",[K.J,h.U,S.n])],G);const H=[X,L,G];var tt=e(18567),at=e(53245),et=e(38327);let nt=class{};nt.ɵfac=function(t){return new(t||nt)},nt.ɵmod=v.oA({type:nt}),nt.ɵinj=et.cJ({providers:[(0,at.Y)("LAYOUT_RELATIONS_DATA")],imports:[i.e,r.U,o.Bz,u.A,s.p,d.W.withProviders(),tt.Qw]}),nt=(0,n.gn)([(0,l.P)(H)],nt)}}]);
//# sourceMappingURL=5184.chunk.617941e73fefa352d4c8.js.map