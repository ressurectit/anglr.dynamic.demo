"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[433],{14433:(e,n,t)=>{t.r(n),t.d(n,{childExtensions:()=>b,default:()=>R});var o=t(43939),r=t(2032),i=t(27052),a=t(53867),s=t(60405),c=t(96791);function l(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}const d=function(){var e,n=(e=function*(){return new((yield Promise.all([t.e(300),t.e(95),t.e(238)]).then(t.bind(t,25238))).StackPanelLayoutEditorMetadata)},function(){var n=this,t=arguments;return new Promise((function(o,r){var i=e.apply(n,t);function a(e){l(i,o,r,a,s,"next",e)}function s(e){l(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();var u=t(4477),p=t(15686),m=t(66794),h=t(73301),f=t(43801),g=t(13691),y=t(47098),_=t(82568),v=t(12311);function x(e,n){}function w(e,n){if(1&e&&(u.yn(0),p.Y(1,x,0,0,"ng-template",1),u.BQ()),2&e){const e=n.$implicit;m.x(1),h.Q("layoutComponentRenderer",e)}}let C=class extends a.N{_optionsSet(){this._setStyles()}_setStyles(){const e=this._element.nativeElement.style;e.flexDirection=this._options?.horizontal?"row":"column",e.flexWrap=this._options?.wrap?"wrap":"nowrap"}};C.ɵfac=function(){let e;return function(n){return(e||(e=f.n5(C)))(n||C)}}(),C.ɵcmp=g.Xp({type:C,selectors:[["stack-panel"]],standalone:!0,features:[y.q,_.j],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"layoutComponentRenderer"]],template:function(e,n){1&e&&p.Y(0,w,2,1,"ng-container",0),2&e&&h.Q("ngForOf",null==n.options?null:n.options.children)},dependencies:[i.e,v.s,s.i],styles:["[_nghost-%COMP%]\n{\n    display: flex;\n}"],changeDetection:0}),C=(0,r.gn)([(0,c.w)(d)],C);const R=C,b=[class{constructor(){this._initialized=!1}initialize(e,n,t){this._initialized=!0,this._injector=e,this._element=n,this._options=t,this.optionsChange(this._options)}optionsChange(e){if(this._initialized&&(0,o.EN)(e.flex)){const e=this._element?.nativeElement.style;e&&this._options&&(e.flex=this._options.flex??"")}}destroy(){}}]},60405:(e,n,t)=>{t.d(n,{i:()=>R});var o,r=t(74445),i=t(95176),a=t(46480),s=t(49891),c=t(87606),l=t(43939);!function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}));class d{constructor(e){this.missingTypeBehavior=o.ShowNotFound,(0,l.EN)(e)&&(this.missingTypeBehavior=e)}}var u=t(13691),p=t(82568),m=t(80827),h=t(41853);class f{}f.ɵfac=function(e){return new(e||f)},f.ɵcmp=u.Xp({type:f,selectors:[["not-found-layout-type"]],standalone:!0,features:[p.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(e,n){1&e&&(m.Tg(0,"div"),m._U(1,"span",0),m.Tg(2,"span"),h._(3,"NOT FOUND"),m.qZ(),m._U(4,"span",0),m.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var g=t(8477),y=t(79440),_=t(15783),v=t(73379),x=t(36973),w=t(12193);function C(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}class R{constructor(e,n,t,o,i,a){this._viewContainerRef=e,this._loader=n,this._childExtensions=t,this._options=o,this._metadataTransformer=i,this._logger=a,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new r.v,this._options&&this._options instanceof d||(this._options=new d)}get component(){return this._componentRef?this._componentRef.instance:null}get componentRef(){return this._componentRef}ngOnChanges(e){var n,t=this;return(n=function*(){if(t._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:t.componentMetadata?.id}),t.ngOnDestroy(),t._viewContainerRef.clear(),(0,s.$)("componentMetadata")in e&&t.componentMetadata){const e=t.customInjector||t._viewContainerRef.injector;let n=t.componentMetadata;t._metadataTransformer&&!t.disableTransformer&&(n=t._metadataTransformer(t.componentMetadata,e));const r=yield t._loader.loadItem(n);if(!r){switch(t._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:n.name,package:n.package}),t._options?.missingTypeBehavior){default:t._viewContainerRef.createComponent(f);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${n.name} Package: ${n.package}`)}return}const a=i.z.create({parent:e,providers:[{provide:g.X,useValue:r.childExtensions}]});t._componentRef=t._viewContainerRef.createComponent(r.type,{injector:a}),t._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:n?.id}),t.componentChange.next(t._componentRef),t.component&&(t.component.registerExtensions([...t._childExtensions?.map((e=>new e))??[],...r?.extensions?.map((e=>new e))??[]]),t._logger?.debug("LayoutComponentRendererSADirective: initializing component with options {@id}",{id:n?.id}),yield(0,c.K)(t.component.initialize?.(n.options)),t._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:n?.id}),t.component?.invalidateVisuals())}},function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function a(e){C(i,o,r,a,s,"next",e)}function s(e){C(i,o,r,a,s,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}R.ɵfac=function(e){return new(e||R)(y.Y(_.s_),y.Y(w.S),y.Y(g.X,12),y.Y(d,8),y.Y(g.x,8),y.Y(a.bZ,8))},R.ɵdir=u.lG({type:R,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[v._([{provide:g.X,useValue:null}]),x.T]})},12193:(e,n,t)=>{t.d(n,{S:()=>d});var o=t(46480),r=t(87606),i=t(43939),a=t(13457),s=t(11776),c=t(38327);function l(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}class d{constructor(e,n,t,o){this._providers=e,this._extractors=n,this._extensionsExtractors=t,this._logger=o,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[]),Array.isArray(this._extensionsExtractors)||(this._logger?.error("DynamicItemLoader: missing extensions extractors!"),this._extensionsExtractors=[])}loadItem(e){var n,t=this;return(n=function*(){let n=null;const o=`${e.package}-${e.name}`;if(t._cachedDynamicItems[o])return t._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:e.name,package:e.package}),t._cachedDynamicItems[o];for(const o of t._providers){const t=o.tryToGet(e);if(n=t?yield(0,r.K)(t):null,n)break}if(!n)return t._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:e.name,package:e.package}),null;let a=null;for(const e of t._extractors){const r=e.tryToExtract(n);if(r&&(0,i.P9)(r)){t._cachedDynamicItems[o]=a={type:r};break}}if(!a)return t._logger?.debug("DynamicItemLoader: Failed to extract dynamic type {@source}",{name:e.name,package:e.package}),null;for(const e of t._extensionsExtractors){const t=e.tryToExtract(n);if(t){a.extensions=t.extensions,a.childExtensions=t.childExtensions;break}}return a},function(){var e=this,t=arguments;return new Promise((function(o,r){var i=n.apply(e,t);function a(e){l(i,o,r,a,s,"next",e)}function s(e){l(i,o,r,a,s,"throw",e)}a(void 0)}))})()}}d.ɵfac=function(e){return new(e||d)(s.LF(a.iD),s.LF(a.WU),s.LF(a.ix),s.LF(o.bZ,8))},d.ɵprov=c.Yz({token:d,factory:d.ɵfac,providedIn:"root"})},87606:(e,n,t)=>{function o(e,n,t,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function i(e){return a.apply(this,arguments)}function a(){return(a=r((function*(e){return e instanceof Promise?yield e:e}))).apply(this,arguments)}t.d(n,{K:()=>i})}}]);
//# sourceMappingURL=433.chunk.c20f565a84b9ef845b9f.js.map