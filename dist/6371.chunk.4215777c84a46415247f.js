/*! For license information please see 6371.chunk.4215777c84a46415247f.js.LICENSE.txt */
(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6371],{36371:(t,e,n)=>{"use strict";n.r(e),n.d(e,{RelationsComplexModule:()=>$t});var a=n(14392),o=n(27052),r=n(68624),s=n(76668),i=n(89001),l=n(38707),c=n(35648),u=n(97212),d=n(66888),p=n(94761),m=n(8477),g=n(71785),h=n(97149),v=n(56454),y=n(22804),f=n(17505),_=n(44055),b=n(56179),w=n(99043),C=n(57489),x=n(10414),k=n(57466),D=n(27049),F=n(85638),M=n(89952),T=n(77653),P=n(79440),I=n(13691),O=n(73379),N=n(80827),Y=n(41853),Z=n(72891),q=n(66794),U=n(73301),R=n(84967),E=n(43086),L=n(68961),Q=n(4905),S=n(15686),A=n(35100),z=n(21651);function j(t,e){1&t&&E.Hs(0)}const G="enabled";class X{constructor(t,e,n){this._debugDataEnabledSvc=t,this._changeDetector=e,this._element=n,this.enabled=!1}ngOnInit(){this.enabled=this._debugDataEnabledSvc.enabled,this._setEnabledCssClass(),this._debugDataEnabledChangeSubscription=this._debugDataEnabledSvc.enabledChange.subscribe((()=>{this.enabled=this._debugDataEnabledSvc.enabled,this._setEnabledCssClass(),this._changeDetector.detectChanges()}))}ngOnDestroy(){this._debugDataEnabledChangeSubscription?.unsubscribe(),this._debugDataEnabledChangeSubscription=null}_setEnabledCssClass(){this.enabled?this._element.nativeElement.classList.add(G):this._element.nativeElement.classList.remove(G)}}X.ɵfac=function(t){return new(t||X)(P.Y(A.H),P.Y(L.s),P.Y(Q.SB))},X.ɵcmp=I.Xp({type:X,selectors:[["debug-data"]],ngContentSelectors:["*"],decls:1,vars:1,consts:[[3,"ngIf"]],template:function(t,e){1&t&&(E.F$(),S.Y(0,j,1,0,"ng-template",0)),2&t&&U.Q("ngIf",e.enabled)},dependencies:[z.O],styles:["[_nghost-%COMP%]\r\n{\r\n    font-weight: normal;\r\n    font-style: italic;\r\n    text-shadow: 0 0 1px;\r\n    display: none;\r\n}\r\n\r\n.clickable[_nghost-%COMP%]\r\n{\r\n    cursor: pointer;\r\n}\r\n\r\n.enabled[_nghost-%COMP%]\r\n{\r\n    display: block;\r\n}"],changeDetection:0});var B=n(9545),J=n(85320),H=n(48936);class V{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),a=n.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,n.readOnly=!0,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}var W=n(11776),$=n(38327);class K{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new V(t,this._document)}}K.ɵfac=function(t){return new(t||K)(W.LF(H.K))},K.ɵprov=$.Yz({token:K,factory:K.ɵfac,providedIn:"root"});class tt{constructor(t){this._clipboard=t,this.clickable=!0}copyData(){this._clipboard.copy(JSON.stringify(this.data,null,4))}}tt.ɵfac=function(t){return new(t||tt)(P.Y(K))},tt.ɵdir=I.lG({type:tt,selectors:[["debug-data","copyClick",""]],hostVars:2,hostBindings:function(t,e){1&t&&Z.N("click",(function(){return e.copyData()})),2&t&&J.ek("clickable",e.clickable)},inputs:{data:["copyClick","data"]}});var et=n(86825);let nt=class{constructor(t,e){this._store=t,this.history=e,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,k.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(t){return{layout:t}}_loadDemo(){this._metadata=F.F.demoRelationsComplexLayout}_loadRestDemo(){this._metadata=F.F.complexDemoRestLayout}_loadFullDemo(){this._metadata=F.F.complexDemoFullLayout}};nt.ɵfac=function(t){return new(t||nt)(P.Y(M.U),P.Y(g.dB))},nt.ɵcmp=I.Xp({type:nt,selectors:[["layout-editor-view"]],features:[O._([v.z,{provide:m.qO,useFactory:t=>new y.I((e=>t.getData(e)?.layout)),deps:[M.U]},(0,h._)(),(0,x.iS)(),(0,b.vQ)(),(0,w.gJ)(),(0,C.hd)(),{provide:f.L,useClass:T.y}])],decls:18,vars:5,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(N.Tg(0,"div",0)(1,"button",1)(2,"span"),Y._(3,"go back"),N.qZ()(),N.Tg(4,"load-save-new",2),Z.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),N.qZ(),N.Tg(5,"button",3),Z.N("click",(function(){return e._loadDemo()})),N.Tg(6,"span"),Y._(7,"demo"),N.qZ()(),N.Tg(8,"button",3),Z.N("click",(function(){return e._loadRestDemo()})),N.Tg(9,"span"),Y._(10,"demo rest"),N.qZ()(),N.Tg(11,"button",3),Z.N("click",(function(){return e._loadFullDemo()})),N.Tg(12,"span"),Y._(13,"demo full"),N.qZ()(),N.Tg(14,"debug-data",4)(15,"div",5),Y._(16,"metadata"),N.qZ()()(),N._U(17,"layout-editor",6)),2&t&&(q.x(4),U.Q("store",e._store)("getMetadataCallback",e._getMetadata)("history",e.history),q.x(10),U.Q("copyClick",e._metadata),q.x(3),U.Q("metadata",e._metadata))},dependencies:[R.v,B.Z,tt,X,et.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([D.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Object]),(0,a.w6)("design:returntype",Object)],nt.prototype,"_getMetadata",null),nt=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[M.U,_.Y])],nt);var at=n(23710),ot=n(15467),rt=n(70625),st=n(75398),it=n(75990),lt=n(4477),ct=n(94727),ut=n(6427),dt=n(32361),pt=n(12311),mt=n(77470),gt=n(27635),ht=n(4489),vt=n(68965),yt=n(31686),ft=n(60405),_t=n(36759),bt=n(96130),wt=n(86485),Ct=n(6552);function xt(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}const kt=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(4023),n.e(6582)]).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function s(t){xt(r,a,o,s,i,"next",t)}function i(t){xt(r,a,o,s,i,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}();var Dt,Ft=n(82568),Mt=n(49280),Tt=n(70983);function Pt(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}let It=Dt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new rt.NI(""),this.booleanForm=new rt.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}static get relationsId(){return"static-input"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(Dt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(Dt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function s(t){Pt(r,a,o,s,i,"next",t)}function i(t){Pt(r,a,o,s,i,"throw",t)}s(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(Dt.relationsId),this._componentManager.unregisterComponent(Dt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function Ot(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}It.ɵfac=function(t){return new(t||It)(P.Y(L.s),P.Y(bt.v),P.Y(wt.s))},It.ɵcmp=I.Xp({type:It,selectors:[["static-input"]],standalone:!0,features:[Ft.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(N.Tg(0,"div"),Y._(1,"INPUT:"),N.qZ(),N.Tg(2,"div",0),N._U(3,"input",1)(4,"input",2),N.qZ()),2&t&&(q.x(3),U.Q("formControl",e.stringForm),q.x(1),U.Q("formControl",e.booleanForm))},dependencies:[r.U,Mt.Fj,Tt.W,mt.JJ,gt.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,_t.A)(),(0,a.w6)("design:type",String)],It.prototype,"stringOutput",void 0),(0,a.gn)([(0,_t.A)(),(0,a.w6)("design:type",Boolean)],It.prototype,"booleanOutput",void 0),It=Dt=(0,a.gn)([(0,Ct.i)(kt),(0,a.w6)("design:paramtypes",[L.s,bt.v,wt.s])],It);const Nt=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(4023),n.e(3242)]).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function s(t){Ot(r,a,o,s,i,"next",t)}function i(t){Ot(r,a,o,s,i,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}();function Yt(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}var Zt;let qt=Zt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}static get relationsId(){return"static-output"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(Zt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(Zt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function s(t){Yt(r,a,o,s,i,"next",t)}function i(t){Yt(r,a,o,s,i,"throw",t)}s(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(Zt.relationsId),this._componentManager.unregisterComponent(Zt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function Ut(t,e){if(1&t&&N._U(0,"ng-option",11),2&t){const t=e.$implicit;U.Q("value",t)("text",t)}}qt.ɵfac=function(t){return new(t||qt)(P.Y(L.s),P.Y(bt.v),P.Y(wt.s))},qt.ɵcmp=I.Xp({type:qt,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[Ft.j],decls:7,vars:2,template:function(t,e){1&t&&(N.Tg(0,"div"),Y._(1,"OUTPUT:"),N.qZ(),N.Tg(2,"div")(3,"div"),Y._(4),N.qZ(),N.Tg(5,"div"),Y._(6),N.qZ()()),2&t&&(q.x(4),ut.hi("string: ",e.stringInput,""),q.x(2),ut.hi("boolean: ",e.booleanInput,""))},dependencies:[r.U],encapsulation:2,changeDetection:0}),qt=Zt=(0,a.gn)([(0,Ct.i)(Nt),(0,a.w6)("design:paramtypes",[L.s,bt.v,wt.s])],qt);const Rt=function(t){return["/relationsComplex/layout",t]},Et=function(t){return["/relationsComplex/relations",t]};let Lt=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new rt.NI(""),this._metadata=null,this.selectedMetadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this.selectedMetadata=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this.selectedMetadata=null,this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};Lt.ɵfac=function(t){return new(t||Lt)(P.Y(M.U),P.Y(at.F0),P.Y(it.N),P.Y(ot.gz))},Lt.ɵcmp=I.Xp({type:Lt,selectors:[["layout-preview-view"]],features:[O._([{provide:m.qO,useFactory:t=>new y.I((e=>t.getData(e)?.layout)),deps:[M.U]},(0,st.AL)(),(0,b.WH)(),(0,w.qN)(),(0,C.ag)()])],decls:15,vars:11,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(N.Tg(0,"div",0)(1,"a",1),Y._(2,"layout"),N.qZ(),N.Tg(3,"a",1),Y._(4,"relations"),N.qZ(),N.Tg(5,"ng-select",2),S.Y(6,Ut,1,2,"ng-option",3),N.qZ(),N.Tg(7,"debug-data",4)(8,"div",5),Y._(9),N.qZ()()(),N.Tg(10,"div",6),N._U(11,"static-input",7),N.Tg(12,"div",8),lt.Gk(13,9),N.qZ(),N._U(14,"static-output",10),N.qZ()),2&t&&(q.x(1),U.Q("routerLink",ct.VK(7,Rt,e._available.value)),q.x(2),U.Q("routerLink",ct.VK(9,Et,e._available.value)),q.x(2),U.Q("formControl",e._available),q.x(1),U.Q("ngForOf",e._availableNames),q.x(1),U.Q("copyClick",e.selectedMetadata),q.x(2),ut.Oq(e._available.value),q.x(4),U.Q("layoutComponentRenderer",e._metadata))},dependencies:[pt.s,mt.JJ,gt.oH,dt.y,ht.x,vt.w,yt.v,ft.i,tt,X,It,qt],encapsulation:2,changeDetection:0}),Lt=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[M.U,at.F0,it.N,ot.gz])],Lt);var Qt=n(91861),St=n(80734),At=n(20809),zt=n(54870),jt=n(43801);class Gt extends zt.w{getDefinedTypes(){const t={};return t[It.relationsId]=It,t[qt.relationsId]=qt,t}}Gt.ɵfac=function(){let t;return function(e){return(t||(t=jt.n5(Gt)))(e||Gt)}}(),Gt.ɵprov=$.Yz({token:Gt,factory:Gt.ɵfac});var Xt=n(31166),Bt=n(36159);let Jt=class{constructor(t,e,n){this._store=t,this.history=e,this._layoutManager=n,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(t){return{relations:t}}_loadDemo(){this._metadata=F.F.demoRelationsComplexRelations}_loadRestDemo(){this._metadata=F.F.complexDemoRestRelations}_loadFullDemo(){this._metadata=F.F.complexDemoFullRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};Jt.ɵfac=function(t){return new(t||Jt)(P.Y(M.U),P.Y(Qt.nR),P.Y(St.n))},Jt.ɵcmp=I.Xp({type:Jt,selectors:[["relations-editor-view"]],features:[O._([v.z,{provide:At.te,useFactory:t=>new y.I((e=>t.getData(e)?.relations)),deps:[M.U]},(0,st.Sf)(Gt),(0,C.vu)(),(0,w.Rn)(),(0,b.El)(),{provide:f.L,useClass:Xt.d}])],decls:15,vars:4,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(N.Tg(0,"div",0)(1,"button",1)(2,"span"),Y._(3,"go back"),N.qZ()(),N.Tg(4,"load-save-new",2),Z.N("metadataChange",(function(t){return e.setMetadata(t)})),N.qZ(),N.Tg(5,"button",3),Z.N("click",(function(){return e._loadDemo()})),N.Tg(6,"span"),Y._(7,"demo"),N.qZ()(),N.Tg(8,"button",3),Z.N("click",(function(){return e._loadRestDemo()})),N.Tg(9,"span"),Y._(10,"demo rest"),N.qZ()(),N.Tg(11,"button",3),Z.N("click",(function(){return e._loadFullDemo()})),N.Tg(12,"span"),Y._(13,"demo full"),N.qZ()()(),N._U(14,"relations-editor",4)),2&t&&(q.x(4),U.Q("store",e._store)("getMetadataCallback",e._getMetadata)("history",e.history),q.x(10),U.Q("metadata",e._metadata))},dependencies:[R.v,Bt.Y,et.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([D.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Array]),(0,a.w6)("design:returntype",Object)],Jt.prototype,"_getMetadata",null),Jt=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[M.U,_.Y,St.n])],Jt);const Ht=[nt,Jt,Lt];var Vt=n(18567),Wt=n(53245);let $t=class{};$t.ɵfac=function(t){return new(t||$t)},$t.ɵmod=I.oA({type:$t}),$t.ɵinj=$.cJ({providers:[(0,Wt.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,r.U,s.Bz,c.A,u.p,d.W,l.s,Vt.Qw,It,qt]}),$t=(0,a.gn)([(0,i.P)(Ht)],$t)},38937:(t,e,n)=>{"use strict";var a;n.d(e,{Z:()=>a}),function(t){t.FormControl="FormControl",t.FormArray="FormArray",t.FormGroup="FormGroup"}(a||(a={}))},10414:(t,e,n)=>{"use strict";n.d(e,{Wm:()=>C,sx:()=>w,Hh:()=>_,iS:()=>b});var a=n(66398),o=n(17777),r=n(70625),s=n(14389),i=n(8477),l=n(71785),c=n(46480),u=n(11776),d=n(38327);function p(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}class m{constructor(t){this._logger=t}tryToGet(t){var e,a=this;return(e=function*(){if("form-components"!==t.package)return null;try{return a._logger?.debug("FormDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),yield n(54384)(`./${t.name}/type`)}catch(e){a._logger?.debug("FormDynamicModuleItemsProvider: item {@item} was not found, reason: "+e,{name:t.name,package:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function s(t){p(r,a,o,s,i,"next",t)}function i(t){p(r,a,o,s,i,"throw",t)}s(void 0)}))})()}}function g(t,e,n,a,o,r,s){try{var i=t[r](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(a,o)}m.ɵfac=function(t){return new(t||m)(u.LF(c.bZ,8))},m.ɵprov=d.Yz({token:m,factory:m.ɵfac});class h{constructor(t){this._logger=t}tryToGet(t){var e,a=this;return(e=function*(){try{return a._logger?.debug("FormDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:t.package}),"form-components"===t.package?yield n.e(6311).then(n.bind(n,16311)):null}catch(e){a._logger?.debug("FormDynamicModuleTypesProvider: module {@module} was not found, reason: "+e,{moduleName:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function s(t){g(r,a,o,s,i,"next",t)}function i(t){g(r,a,o,s,i,"throw",t)}s(void 0)}))})()}}h.ɵfac=function(t){return new(t||h)(u.LF(c.bZ,8))},h.ɵprov=d.Yz({token:h,factory:h.ɵfac});const v={provide:i.Aw,useClass:m,multi:!0},y={provide:l.sc,useClass:h,multi:!0};var f=n(38937);function _(){return[v]}function b(){return[v,y,(0,s.X)("form-components")]}function w(t,e,n=f.Z.FormControl,a){return e&&t?e.get(t)??C(n,a):C(n,a)}function C(t,e){switch(t){case f.Z.FormArray:return new a.Oe([]);case f.Z.FormGroup:return new o.cw(e??{});default:return new r.NI(e)}}},54384:(t,e,n)=>{var a={"./formGroup/type":[70613,613]};function o(t){if(!n.o(a,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=a[t],o=e[0];return n.e(e[1]).then((()=>n(o)))}o.keys=()=>Object.keys(a),o.id=54384,t.exports=o}}]);
//# sourceMappingURL=6371.chunk.4215777c84a46415247f.js.map