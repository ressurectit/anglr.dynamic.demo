"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[4150],{44903:(t,e,n)=>{n.d(e,{D:()=>_});var o=n(30621),a=n(9249),s=n(66845),i=n(79440),r=n(77842),c=n(82568),d=n(84773),l=n(80827),u=n(41853),f=n(72891),p=n(43870),h=n(11282),v=n(73301),y=n(66794),m=n(31750),g=n(80943),b=n(96341);class _{constructor(t,e){this.data=t,this.dialog=e,this.content=null,this.content=t}}_.ɵfac=function(t){return new(t||_)(i.Y(a.m),i.Y(m.s))},_.ɵcmp=r.Xp({type:_,selectors:[["rich-text-block-editor-dialog"]],standalone:!0,features:[c.j],decls:9,vars:2,consts:[[3,"initialValue"],["editor",""],[1,"dynamic-flex-row","dynamic-flex-end"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-info",3,"mat-dialog-close"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=d.E();l._U(0,"editor",0,1),l.Tg(2,"div",2)(3,"button",3)(4,"span"),u._(5,"cancel"),l.qZ()(),l.Tg(6,"button",4),f.N("click",(function(){p.CH(t);const n=h.M(1);return e.content=n.editor.getContent(),p.Kt(e.dialog.close(e.content))})),l.Tg(7,"span"),u._(8,"ok"),l.qZ()()()}if(2&t){let t;v.Q("initialValue",null!==(t=e.content)&&void 0!==t?t:""),y.x(3),v.Q("mat-dialog-close",null)}},dependencies:[o.I,g.ZT,s.Z,b.P],encapsulation:2,changeDetection:0})},99589:(t,e,n)=>{n.r(e),n.d(e,{RichTextSourceRelationsEditorMetadata:()=>k});var o=n(93551),a=n(52580),s=n(85478),i=n(43939),r=n(64297),c=n(44903),d=n(79440),l=n(68961),u=n(4905),f=n(77842),p=n(47098),h=n(82568),v=n(80827),y=n(41853),m=n(72891),g=n(73301),b=n(66794),_=n(47826);function w(t,e,n,o,a,s,i){try{var r=t[s](i),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(o,a)}class O extends o.M{constructor(t,e,n){super(t,e),this.dialog=n}showCodeEditor(){var t,e=this;return(t=function*(){const t=yield(0,r.n)(e.dialog.open(c.D,{title:"Rich text editor",width:"75vw",height:"75vh",data:e.metadata?.relationsOptions?.content??""}).afterClosed());(0,i.EN)(t)&&e.metadata?.relationsOptions&&(e.metadata.relationsOptions.content=t,e.history.getNewState())},function(){var e=this,n=arguments;return new Promise((function(o,a){var s=t.apply(e,n);function i(t){w(s,o,a,i,r,"next",t)}function r(t){w(s,o,a,i,r,"throw",t)}i(void 0)}))})()}}O.ɵfac=function(t){return new(t||O)(d.Y(l.s),d.Y(u.SB),d.Y(_.J))},O.ɵcmp=f.Xp({type:O,selectors:[["rich-text-source-node"]],standalone:!0,features:[p.q,h.j],decls:12,vars:5,consts:[["name","rich text source",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"outputs"],[1,"output"],["name","htmlString",3,"parentCoordiantes","zoomLevel","parent"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(t,e){1&t&&(v._U(0,"relations-node-header",0),v.Tg(1,"div",1)(2,"div",2),v._U(3,"div",3),v.Tg(4,"div",4)(5,"div",5)(6,"div"),y._(7,"html string"),v.qZ(),v._U(8,"relation-node-output",6),v.qZ()()(),v.Tg(9,"button",7),m.N("click",(function(){return e.showCodeEditor()})),v.Tg(10,"span"),y._(11,"content"),v.qZ()()()),2&t&&(g.Q("parent",e)("destroySubject",e.destroySubject),b.x(8),g.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e))},dependencies:[a.e,s.n],encapsulation:2,changeDetection:0});class k{constructor(){this.metaInfo={name:"Rich text source",description:"Provides rich text source node",group:"Texts"},this.nodeDefinition=O,Object.freeze(this)}}},92640:(t,e,n)=>{n.d(e,{x:()=>a});var o=n(70625);const a={asyncValidators:[],validators:[],disabled:!1,type:o.NI,childType:o.NI,args:{}}},71791:(t,e,n)=>{n.d(e,{p:()=>h});var o=n(17777),a=n(66398),s=n(70625),i=n(92640);class r{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}class c{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}function d(t,e){if(!t)return new o.cw({});const n=t.ɵControlsMetadata??{},l=t.ɵValidators??[],u=t.ɵAsyncValidators??[],f=t.ɵArgs??{},p=Object.keys(t),h=new o.cw({},{validators:l?.map((t=>t instanceof r?t.valueOf()({...f,...e}):t)).filter((t=>!!t)),asyncValidators:u?.map((t=>t instanceof c?t.valueOf()({...f,...e}):t)).filter((t=>!!t))});for(const l of p){const u=n[l]??i.x,f=t[l];if(void 0===f)continue;const p=u.validators.map((t=>t instanceof r?t.valueOf()({...u.args,...e}):t)).filter((t=>!!t)),v=u.asyncValidators.map((t=>t instanceof c?t.valueOf()({...u.args,...e}):t)).filter((t=>!!t));let y;switch(u.type){case o.cw:y=d(f,e);break;case a.Oe:if(y=new a.Oe([],{validators:p,asyncValidators:v,...u.controlOptions}),f&&Array.isArray(f)){const t=y;for(const n of f)switch(u.childType){case o.cw:t.push(d(n,e));break;case a.Oe:break;default:t.push(new s.NI(n,{validators:p,asyncValidators:v,...u.controlOptions}))}}break;default:y=new s.NI(f,{validators:p,asyncValidators:v,...u.controlOptions})}u.disabled&&y.disable(),h.addControl(l,y)}return h}function l(t,e){return d(t,e)}var u=n(11776),f=n(95176),p=n(38327);class h{constructor(t){this._injector=t}build(t,e){return l(t,{...e,injector:this._injector})}}h.ɵfac=function(t){return new(t||h)(u.LF(f.z))},h.ɵprov=p.Yz({token:h,factory:h.ɵfac})}}]);
//# sourceMappingURL=4150.chunk.ac6632f6e024f8cc5912.js.map