{"version":3,"file":"6583.chunk.154ee08903a42119802c.js","mappings":"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","sources":["webpack://ng-universal-demo/../../../../forms/src/directives/numberInput/numberInputControlValueAccessor.directive.ts","webpack://ng-universal-demo/../../../../forms/src/directives/numberInput/numberInputValidator.directive.ts","webpack://ng-universal-demo/../../../../forms/src/misc/validators.ts","webpack://ng-universal-demo/../../../../forms/src/misc/formModel/decorators/formGroupProperty.decorator.ts","webpack://ng-universal-demo/../../../../forms/src/misc/formModel/decorators/modelPropertyMetadata.decorator.ts","webpack://ng-universal-demo/../../../../forms/src/misc/formModel/misc/defaults.ts","webpack://ng-universal-demo/../node_modules/@anglr/common/src/modules/tooltip/components/tooltip/tooltip.component.html","webpack://ng-universal-demo/../../../../src/modules/tooltip/components/tooltip/tooltip.component.ts","webpack://ng-universal-demo/../../../../src/modules/tooltip/components/tooltip/tooltip.component.html","webpack://ng-universal-demo/../../../../src/modules/tooltip/misc/tokens.ts","webpack://ng-universal-demo/../../../../src/modules/tooltip/directives/tooltipTemplate/tooltipTemplate.directive.ts","webpack://ng-universal-demo/../../../../src/modules/tooltip/directives/tooltip/tooltip.directive.ts","webpack://ng-universal-demo/../../../../src/services/position/position.utils.ts"],"sourcesContent":["import {Directive, ExistingProvider, forwardRef, Renderer2, ElementRef} from '@angular/core';\nimport {NG_VALUE_ACCESSOR, ControlValueAccessor} from '@angular/forms';\nimport {isBlank} from '@jscrpt/common';\n\n/**\n * Value accessor provider for number inputs\n */\nconst NUMBER_INPUT_VALUE_ACCESSOR = <ExistingProvider>\n{\n    provide: NG_VALUE_ACCESSOR, \n    useExisting: forwardRef(() => NumberInputControlValueAccessor), \n    multi: true\n};\n\n/**\n * Value accessor for getting and setting values for number inputs\n */\n@Directive(\n{\n    selector: 'input[number][formControlName],input[number][formControl],input[number][ngModel]',\n    providers: [NUMBER_INPUT_VALUE_ACCESSOR],\n    host: \n    {\n        '(change)': 'onChange($event.target.value)',\n        '(input)': 'onChange($event.target.value)',\n        '(blur)': 'onTouched()'\n    }\n})\nexport class NumberInputControlValueAccessor implements ControlValueAccessor\n{\n    //######################### public properties #########################\n    \n    public onChange = (_: any) => {};\n    \n    /**\n     * Method that is called when picker was touched\n     */\n    public onTouched = () => {};\n    \n    //######################### constructor #########################\n    constructor(private _renderer: Renderer2, private _elementRef: ElementRef)\n    {\n    }\n\n    //######################### public methods - implementation of ControlValueAccessor #########################\n\n    /**\n     * Sets value to select\n     */\n    public writeValue(value: any): void\n    {\n        this._renderer.setProperty(this._elementRef.nativeElement, 'value', value);\n    }\n\n    /**\n     * Registers callback that is called when value of select changes\n     */\n    public registerOnChange(fn: (data: any) => any): void\n    {\n        this.onChange = (value: string) => \n        { \n            if(isBlank(value) || value == '')\n            {\n                fn(null);\n                \n                return;\n            }\n            \n            //removing all spaces\n            value = value.replace(/\\s+/g, '');\n            \n            if(!/^[+-]?\\d+(?:[,.]\\d+)?$/g.test(value))\n            {\n                fn(NaN);\n                \n                return;\n            }\n            \n            fn(parseFloat(value.replace(',', '.'))); \n        };\n    }\n\n    /**\n     * Registers callback that is called when select is closed\n     */\n    public registerOnTouched(fn: () => any): void\n    {\n        this.onTouched = fn;\n    }\n}\n","import {ExistingProvider, forwardRef, Directive} from '@angular/core';\nimport {NG_VALIDATORS, AbstractControl, Validator, ValidationErrors} from '@angular/forms';\n\nimport {Validators} from '../../misc/validators';\n\n/**\n * Validator that is injected with directive NumberInputValidatorDirective\n */\nconst NUMBER_VALIDATOR = <ExistingProvider>\n{\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => NumberInputValidatorDirective),\n    multi: true\n};\n\n/**\n * Is number directive injecting checking for number validator\n */\n@Directive(\n{\n    selector: 'input[number][formControlName],input[number][formControl],input[number][ngModel]',\n    providers: [NUMBER_VALIDATOR]\n})\nexport class NumberInputValidatorDirective implements Validator\n{\n    //######################### public methods - implementation of Validator #########################\n\n    /**\n     * Validates input and returns validation result\n     * @param control - Control that is being validated\n     * @returns validation results\n     */\n    public validate(control: AbstractControl): ValidationErrors|null\n    {\n        return Validators.number(control);\n    }\n}","import {AbstractControl, ValidationErrors, ValidatorFn} from '@angular/forms';\nimport {isPresent} from '@jscrpt/common';\n\n/**\n * Validations functions\n */\nexport class Validators\n{\n    /**\n     * Validates control if its value is number\n     * @param control - Control which value to be validated\n     */\n    public static number(control: AbstractControl): ValidationErrors|null\n    {\n        if(isNaN(control.value))\n        {\n            return {\n                'number': true\n            };\n        }\n\n        return null;\n    }\n\n    /**\n     * Creates validator function that validates control if its value is higher than max value\n     * @param max - Max value that should be validated\n     */\n    public static max(max: number|null): ValidatorFn\n    {\n        return (control: AbstractControl): ValidationErrors|null =>\n        {\n            if(!isNaN(control.value) && isPresent(control.value) && isPresent(max) && control.value > max)\n            {\n                return {\n                    'maxValue': max,\n                    'actualValue': control.value\n                };\n            }\n\n            return null;\n        };\n    }\n\n    /**\n     * Creates validator function that validates control if its value is lower than min value\n     * @param min - Min value that should be validated\n     */\n    public static min(min: number|null): ValidatorFn\n    {\n        return (control: AbstractControl): ValidationErrors|null =>\n        {\n            if(!isNaN(control.value) && isPresent(control.value) && isPresent(min) && control.value < min)\n            {\n                return {\n                    'minValue': min,\n                    'actualValue': control.value\n                };\n            }\n\n            return null;\n        };\n    }\n}","import {FormGroup} from '@angular/forms';\n\nimport {ModelPropertyMetadata} from './modelPropertyMetadata.decorator';\n\n/**\n * Defines property value as FormGroup\n */\nexport function FormGroupProperty(): PropertyDecorator\n{\n    return ModelPropertyMetadata(\n    {\n        type: FormGroup\n    });\n}","import {Dictionary, nameof} from '@jscrpt/common';\n\nimport {ModelDecoratorMetadata} from '../interfaces/modelDecoratorMetadata';\nimport {ModelPropertyDecoratorMetadata} from '../interfaces/modelPropertyDecoratorMetadata';\nimport {ɵDefaultPropertyMetadata} from '../misc/defaults';\n\n/**\n * Defines metadata for model property\n * @param metadata - Metadata for model property, used for creating form\n */\nexport function ModelPropertyMetadata<TArgs extends Dictionary<any> = any,\n                                      TModel = any>(metadata: ModelPropertyDecoratorMetadata<TArgs>): PropertyDecorator\n{\n    return function(target: Object, propertyKey: string|symbol): void\n    {\n        const trgt = target as ModelDecoratorMetadata<TModel>;\n\n        if(!trgt.ɵControlsMetadata)\n        {\n            Object.defineProperty(trgt, nameof<ModelDecoratorMetadata>('ɵControlsMetadata'),\n            {\n                value: {},\n                writable: false,\n                enumerable: false,\n                configurable: false\n            });\n        }\n\n        //keep current validators\n        const originValidators = trgt.ɵControlsMetadata[propertyKey as keyof TModel]?.validators ?? [];\n        const originAsyncValidators = trgt.ɵControlsMetadata[propertyKey as keyof TModel]?.asyncValidators ?? [];\n\n        //merge all other values\n        trgt.ɵControlsMetadata[propertyKey as keyof TModel] = \n        {\n            ...ɵDefaultPropertyMetadata,\n            ...trgt.ɵControlsMetadata[propertyKey as keyof TModel],\n            ...metadata\n        };\n\n        //merge validators\n        const propertyMetadata = trgt.ɵControlsMetadata[propertyKey as keyof TModel];\n\n        propertyMetadata.validators =\n        [\n            ...originValidators,\n            ...propertyMetadata.validators,\n        ];\n\n        propertyMetadata.asyncValidators =\n        [\n            ...originAsyncValidators,\n            ...propertyMetadata.asyncValidators,\n        ];\n    };\n}","import {FormControl} from '@angular/forms';\n\nimport {ModelPropertyDecoratorMetadata} from '../interfaces/modelPropertyDecoratorMetadata';\n\n/**\n * Default value for property metadata\n */\nexport const ɵDefaultPropertyMetadata: ModelPropertyDecoratorMetadata =\n{\n    asyncValidators: [],\n    validators: [],\n    disabled: false,\n    type: FormControl,\n    childType: FormControl,\n    args: {}\n};",null,"import {Component, ChangeDetectionStrategy, TemplateRef, ChangeDetectorRef, ElementRef, HostListener} from '@angular/core';\n\nimport {TooltipTemplateContext} from '../../directives';\nimport {TooltipRenderer} from '../../misc/tooltip.interface';\n\n/**\n * Component used for displaying tooltip content\n */\n@Component(\n{\n    selector: 'tooltip-popup',\n    templateUrl: 'tooltip.component.html',\n    styleUrls: ['tooltip.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TooltipComponent<TData = any> implements TooltipRenderer<TData>\n{\n    //######################### protected fields #########################\n\n    /**\n     * Called when mouse enter tooltip component, hover\n     */\n    protected _enterFn: () => void = () => null;\n\n    /**\n     * Called when mouse leaves tooltip component\n     */\n    protected _leaveFn: () => void = () => null;\n\n    //######################### public properties - implementation of TooltipRenderer #########################\n\n    /**\n     * Data that are rendered in tooltip\n     */\n    public data: TData|null|undefined;\n\n    /**\n     * Template used for rendering tooltip\n     */\n    public template: TemplateRef<TooltipTemplateContext<TData>>|null|undefined;\n\n    /**\n     * Indication whether are html tags allowed in tooltip text\n     */\n    public allowHtml: boolean = false;\n\n    /**\n     * Css class that is applied to tooltip renderer component\n     */\n    public cssClass: string|null|undefined;\n\n    //######################### constructor #########################\n    constructor(protected _changeDetector: ChangeDetectorRef,\n                protected _element: ElementRef<HTMLElement>)\n    {\n    }\n\n    //######################### public methods - implementation of TooltipRenderer #########################\n\n    /**\n     * Registers handlers that allows reaction to entering or leaving tooltip\n     * @param enter - Called when mouse enter tooltip component, hover\n     * @param leave - Called when mouse leaves tooltip component\n     */\n    public registerHoverEvents(enter: () => void, leave: () => void): void\n    {\n        this._enterFn = enter;\n        this._leaveFn = leave;\n    }\n\n    /**\n     * Explicitly runs invalidation of content (change detection)\n     */\n    public invalidateVisuals(): void\n    {\n        if(this.cssClass)\n        {\n            this._element.nativeElement.classList.add(this.cssClass);\n        }\n\n        this._changeDetector.detectChanges();\n    }\n\n    //######################### public methods - host #########################\n\n    /**\n     * Handles mouse enter event over tooltip\n     * @internal\n     */\n    @HostListener('mouseenter')\n    public mouseEnter(): void\n    {\n        this._enterFn();\n    }\n\n    /**\n     * Handles mouse leave event over tooltip\n     * @internal\n     */\n    @HostListener('mouseleave')\n    public mouseLeave(): void\n    {\n        this._leaveFn();\n    }\n}","<div *ngIf=\"!template && !allowHtml\">{{data}}</div>\r\n<div *ngIf=\"!template && allowHtml\" [innerHTML]=\"data\"></div>\r\n\r\n<ng-template [ngIf]=\"template\">\r\n    <ng-container *ngTemplateOutlet=\"template; context: {$implicit: data}\"></ng-container>\r\n</ng-template>","import {InjectionToken} from '@angular/core';\n\nimport {TooltipOptions} from './tooltip.interface';\n\n/**\n * Injection token used for injecting tooltip options\n */\nexport const TOOLTIP_OPTIONS: InjectionToken<Partial<TooltipOptions>> = new InjectionToken<Partial<TooltipOptions>>('TOOLTIP_OPTIONS');\n","import {Directive, TemplateRef} from '@angular/core';\n\nimport {TooltipTemplateContext} from './tooltipTemplate.context';\n\n/**\n * Directive used for obtaining custom tooltip template\n */\n@Directive(\n{\n    selector: '[tooltipTemplate]'\n})\nexport class TooltipTemplateDirective<TData = any>\n{\n    //######################### constructor #########################\n    constructor(public template: TemplateRef<TooltipTemplateContext<TData>>)\n    {\n    }\n\n    //######################### ng language server #########################\n    \n    /**\n     * Allows typechecking for template\n     */\n    static ngTemplateContextGuard(_dir: TooltipTemplateDirective, _ctx: unknown): _ctx is TooltipTemplateContext\n    {\n        return true;\n    }\n}","import {ComponentRef, ContentChild, Directive, ElementRef, EmbeddedViewRef, HostListener, Inject, Injector, Input, OnChanges, OnDestroy, Optional, SimpleChanges, TemplateRef, ViewContainerRef} from '@angular/core';\nimport {AnimationBuilder, AnimationFactory} from '@angular/animations';\nimport {DOCUMENT} from '@angular/common';\nimport {fadeInAnimation, fadeOutAnimation} from '@anglr/animations';\nimport {extend, isBlank, isPresent, nameof} from '@jscrpt/common';\n\nimport {TooltipComponent} from '../../components/tooltip/tooltip.component';\nimport {TooltipOptions, TooltipRenderer} from '../../misc/tooltip.interface';\nimport {TOOLTIP_OPTIONS} from '../../misc/tokens';\nimport {applyPositionResult, Position, PositionOffset, PositionPlacement} from '../../../../services/position';\nimport {TooltipTemplateDirective} from '../tooltipTemplate/tooltipTemplate.directive';\nimport {TooltipTemplateContext} from '../tooltipTemplate/tooltipTemplate.context';\nimport {POSITION} from '../../../../types/tokens';\n\n/**\n * Default options for tooltip\n */\nconst defaultOptions: TooltipOptions =\n{\n    delay: 200,\n    position:\n    {\n        offset: PositionOffset.MouseEnter,\n        placement: PositionPlacement.TopStart\n    },\n    allowSelection: false,\n    tooltipRenderer: TooltipComponent,\n    tooltipCssClass: null,\n    stopPropagation: false,\n    enterAnimation: fadeInAnimation,\n    exitAnimation: fadeOutAnimation,\n};\n\n/**\n * Directive used for rendering tooltip\n */\n@Directive(\n{\n    selector: '[tooltip]'\n})\nexport class TooltipDirective<TData = any> implements OnChanges, OnDestroy\n{\n    //######################### protected fields #########################\n\n    /**\n     * Instance of component used for rendering tooltip\n     */\n    protected _tooltipComponent?: ComponentRef<TooltipRenderer<TData>>;\n\n    /**\n     * Instance of HTML element for tooltip renderer\n     */\n    protected _tooltipElement?: HTMLElement;\n\n    /**\n     * Animation factory used for enter animation of tooltip\n     */\n    protected _enterAnimation: AnimationFactory;\n\n    /**\n     * Animation factory used for exit animation of tooltip\n     */\n    protected _exitAnimation: AnimationFactory;\n\n    /**\n     * Instance of options provided for this tooltip\n     */\n    protected _options: TooltipOptions;\n\n    /**\n     * Indication whether there is active show tooltip request\n     */\n    protected _showRequest: boolean = false;\n\n    /**\n     * Indication whether keep open tooltip component\n     */\n    protected _keepOpen: boolean = false;\n\n    /**\n     * Timeout that is used for handling mouse move\n     */\n    protected _timeout: number|null = null;\n\n    //######################### public properties - inputs #########################\n\n    /**\n     * Tooltip text that is displayed, or any data that could be passed to template\n     */\n    @Input()\n    public tooltip?: TData;\n\n    /**\n     * Indication whether are html tags allowed in tooltip text\n     */\n    @Input()\n    public allowHtml: boolean = false;\n\n    /**\n     * Instance of tooltip template that is used for rendering\n     */\n    @Input()\n    public template?: TemplateRef<TooltipTemplateContext<TData>>;\n\n    /**\n     * Options used for displaying tooltip\n     */\n    @Input()\n    public get tooltipOptions(): Partial<TooltipOptions>\n    {\n        return this._options;\n    }\n    public set tooltipOptions(value: Partial<TooltipOptions>)\n    {\n        this._options = extend(true, {}, this._options, value);\n\n        this._enterAnimation = this._animationsPlayer.build(this._options.enterAnimation);\n        this._exitAnimation = this._animationsPlayer.build(this._options.exitAnimation);\n    }\n\n    /**\n     * Gets or sets indication whether is tooltip visible, if has boolean value, mouse events cant override this\n     */\n    @Input()\n    public tooltipVisible?: boolean;\n\n    //######################### public properties - children #########################\n\n    /**\n     * Instance of template from element content, used for rendering\n     */\n    @ContentChild(TooltipTemplateDirective)\n    public tooltipTemplateChild?: TooltipTemplateDirective;\n\n    //######################### constructor #########################\n    constructor(protected _viewContainerRef: ViewContainerRef,\n                protected _injector: Injector,\n                protected _element: ElementRef<HTMLElement>,\n                protected _animationsPlayer: AnimationBuilder,\n                @Inject(DOCUMENT) protected _document: Document,\n                @Inject(POSITION) protected _position: Position,\n                @Optional() @Inject(TOOLTIP_OPTIONS) options?: Partial<TooltipOptions>,)\n    {\n        this._options = extend(true, {}, defaultOptions, options);\n\n        this._enterAnimation = this._animationsPlayer.build(this._options.enterAnimation);\n        this._exitAnimation = this._animationsPlayer.build(this._options.exitAnimation);\n    }\n\n    //######################### public methods - implementation of OnChanges #########################\n\n    /**\n     * Called when input value changes\n     */\n    public ngOnChanges(changes: SimpleChanges): void\n    {\n        if(nameof<TooltipDirective>('tooltipVisible') in changes)\n        {\n            if(this.tooltipVisible)\n            {\n                this._showTooltip();\n            }\n            else\n            {\n                this._hideTooltip();\n            }\n        }\n    }\n\n    //######################### public methods - implementation of OnDestroy #########################\n\n    /**\n     * Called when component is destroyed\n     */\n    public ngOnDestroy(): void\n    {\n        if(this._timeout)\n        {\n            clearTimeout(this._timeout);\n        }\n\n        this._destroyTooltip();\n    }\n\n    //######################### public methods - host #########################\n\n    /**\n     * Handles mouse leave event, hover ends\n     * @param event - Mouse event that occured\n     * @internal\n     */\n    @HostListener('mouseleave', ['$event'])\n    public mouseLeave(event: MouseEvent): void\n    {\n        if(this._options.stopPropagation)\n        {\n            event.stopPropagation();\n        }\n\n        if(isBlank(this.tooltipVisible))\n        {\n            setTimeout(() =>\n            {\n                if(!this._keepOpen)\n                {\n                    this._showRequest = false;\n                    this._hideTooltip();\n                }\n            }, 10);\n        }\n    }\n\n    /**\n     * Handles mouse move event, displaying tooltip\n     * @param event - Mouse event that occured\n     * @internal\n     */\n    @HostListener('mousemove', ['$event'])\n    public mouseMove(event: MouseEvent): void\n    {\n        if(this._options.stopPropagation)\n        {\n            event.stopPropagation();\n        }\n\n        this._showRequest = true;\n\n        //do nothing if tooltip is visible\n        if(this._tooltipComponent || isPresent(this.tooltipVisible))\n        {\n            return;\n        }\n\n        if(isPresent(this._timeout))\n        {\n            clearTimeout(this._timeout);\n        }\n\n        this._timeout = setTimeout(() =>\n        {\n            this._timeout = null;\n\n            if(this._showRequest)\n            {\n                this._showTooltip(event);\n\n                this._showRequest = false;\n            }\n        }, this._options.delay) as any;\n    }\n\n    //######################### protected methods #########################\n\n    /**\n     * Shows tooltip\n     * @param event - Mouse event\n     */\n    protected _showTooltip(event?: MouseEvent): void\n    {\n        this._createTooltip();\n\n        //if element was not created do nothing\n        if(!this._tooltipElement)\n        {\n            return;\n        }\n\n        this._showData();\n\n        this._position.placeElement(this._tooltipElement,\n                                    this._element.nativeElement,\n                                    {\n                                        placement: this._options.position.placement,\n                                        offset: this._options.position.offset,\n                                        flip: true,\n                                        mouseEvent: event,\n                                        autoUpdate: false\n                                    })\n            .toPromise()\n            .then(result => applyPositionResult(result));\n    }\n\n    /**\n     * Hides tooltip\n     */\n    protected _hideTooltip(): void\n    {\n        this._destroyTooltip();\n    }\n\n    /**\n     * Destroys tooltip component\n     */\n    protected _destroyTooltip(): void\n    {\n        if(this._tooltipComponent)\n        {\n            const component = this._tooltipComponent;\n            const element = this._tooltipElement;\n\n            const exitAnimation = this._exitAnimation.create(element);\n\n            exitAnimation.onDone(() =>\n            {\n                component.destroy();\n                exitAnimation.destroy();\n            });\n            \n            this._tooltipComponent = undefined;\n            this._tooltipElement = undefined;\n\n            exitAnimation.play();\n        }\n    }\n\n    /**\n     * Creates tooltip renderer component\n     */\n    protected _createTooltip(): void\n    {\n        // 0. Destroys tooltip if it exists\n        this._destroyTooltip();\n\n        // 1. Create a component reference from the component\n        this._tooltipComponent = this._viewContainerRef\n            .createComponent(this._options.tooltipRenderer,\n                             {\n                                 injector: this._injector\n                             });\n\n        // 3. Get DOM element from component\n        this._tooltipElement = (this._tooltipComponent.hostView as EmbeddedViewRef<any>)\n            .rootNodes[0] as HTMLElement;\n\n        // 4. Append DOM element to the body\n        this._document.body.appendChild(this._tooltipElement);\n        this._enterAnimation.create(this._tooltipElement).play();\n    }\n\n    /**\n     * Sets data to tooltip component and shows them\n     */\n    protected _showData(): void\n    {\n        if(this._tooltipComponent)\n        {\n            this._tooltipComponent.instance.allowHtml = this.allowHtml;\n            this._tooltipComponent.instance.data = this.tooltip;\n            this._tooltipComponent.instance.template = this.template ?? this.tooltipTemplateChild?.template;\n            this._tooltipComponent.instance.cssClass = this._options.tooltipCssClass;\n\n            this._tooltipComponent.instance.registerHoverEvents(() =>\n                                                                {\n                                                                    if(this._options.allowSelection)\n                                                                    {\n                                                                        this._keepOpen = true;\n                                                                        this._showRequest = false;\n                                                                    }\n                                                                },\n                                                                () =>\n                                                                {\n                                                                    setTimeout(() =>\n                                                                    {\n                                                                        this._keepOpen = false;\n\n                                                                        if(!this._showRequest)\n                                                                        {\n                                                                            this._hideTooltip();\n                                                                        }\n\n                                                                        this._showRequest = false;\n                                                                    }, 5);\n                                                                });\n\n            this._tooltipComponent.instance.invalidateVisuals();\n        }\n    }\n\n    //######################### ng language server #########################\n    \n    /**\n     * Custom input type for `tooltip` input\n     */\n    public static ngAcceptInputType_tooltip: any;\n}","import {PositionResult} from './position.interface';\n\n/**\n * Applies `PositionResult` to target element\n * @param result - Result of positioning process to be applied\n */\nexport function applyPositionResult(result: PositionResult<HTMLElement>): void\n{\n    Object.assign(result.target.style,\n                  {\n                      top: '0',\n                      left: '0',\n                      transform: `translate(${result.x}px, ${result.y}px)`,\n                  });\n}\n"],"names":["NUMBER_INPUT_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","NumberInputControlValueAccessor","multi","constructor","_renderer","_elementRef","onChange","_","onTouched","writeValue","value","this","setProperty","nativeElement","registerOnChange","fn","isBlank","replace","test","parseFloat","NaN","registerOnTouched","i0","NUMBER_VALIDATOR","NG_VALIDATORS","NumberInputValidatorDirective","validate","control","isNaN","max","isPresent","min","number","FormGroupProperty","metadata","type","FormGroup","target","propertyKey","trgt","ɵControlsMetadata","Object","defineProperty","nameof","writable","enumerable","configurable","originValidators","validators","originAsyncValidators","asyncValidators","ɵDefaultPropertyMetadata","propertyMetadata","disabled","FormControl","childType","args","TooltipComponent","_changeDetector","_element","_enterFn","_leaveFn","allowHtml","registerHoverEvents","enter","leave","invalidateVisuals","cssClass","classList","add","detectChanges","mouseEnter","mouseLeave","i1","TOOLTIP_OPTIONS","InjectionToken","TooltipTemplateDirective","template","_dir","_ctx","defaultOptions","delay","position","offset","PositionOffset","placement","PositionPlacement","allowSelection","tooltipRenderer","tooltipCssClass","stopPropagation","enterAnimation","fadeInAnimation","exitAnimation","fadeOutAnimation","TooltipDirective","_viewContainerRef","_injector","_animationsPlayer","_document","_position","options","_showRequest","_keepOpen","_timeout","_options","extend","_enterAnimation","build","_exitAnimation","tooltipOptions","ngOnChanges","changes","tooltipVisible","_showTooltip","_hideTooltip","ngOnDestroy","clearTimeout","_destroyTooltip","event","setTimeout","mouseMove","_tooltipComponent","_createTooltip","_tooltipElement","_showData","placeElement","flip","mouseEvent","autoUpdate","toPromise","then","result","applyPositionResult","component","element","create","onDone","destroy","undefined","play","createComponent","injector","hostView","rootNodes","body","appendChild","instance","data","tooltip","tooltipTemplateChild","DOCUMENT","POSITION","assign","style","top","left","transform","x","y"],"sourceRoot":""}