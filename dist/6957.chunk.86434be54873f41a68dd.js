/*! For license information please see 6957.chunk.86434be54873f41a68dd.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6957],{87316:(e,t,n)=>{n.d(t,{k:()=>d});var o=n(87606),i=n(79440),s=n(68961),a=n(13691),r=n(85902);function l(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(o,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){l(s,o,i,a,r,"next",e)}function r(e){l(s,o,i,a,r,"throw",e)}a(void 0)}))}}class d{constructor(e,t){this._changeDetector=e,this._extractor=t,this._initialized=!1,this.propertiesMetadata=null}ngOnInit(){var e=this;return c((function*(){e._initialized||(e._initialized=!0,yield(0,o.K)(e._initialize()))}))()}initialize(){var e=this;return c((function*(){yield(0,o.K)(e.ngOnInit())}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}}d.ɵfac=function(e){return new(e||d)(i.Y(s.s),i.Y(r.T))},d.ɵdir=a.lG({type:d,inputs:{form:"form",propertiesMetadata:"propertiesMetadata"}})},85902:(e,t,n)=>{n.d(t,{T:()=>l});var o=n(8477),i=n(46480),s=n(11776),a=n(38327);function r(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(o,i)}class l{constructor(e,t){this._loader=e,this._logger=t,this._cache={}}extractMetadata(e){var t,n=this;return(t=function*(){const t=`${e.package}-${e.name}`;if(n._cache[t])return n._cache[t];const o=yield n._loader.loadItem(e);if(!o)return null;const i=o.data;if(!i.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:e.package,name:e.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:e.package,name:e.name});const s=yield i.layoutEditorMetadata;return Object.freeze(s),n._cache[t]=s,s},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(e){r(s,o,i,a,l,"next",e)}function l(e){r(s,o,i,a,l,"throw",e)}a(void 0)}))})()}}l.ɵfac=function(e){return new(e||l)(s.LF(o.Vl),s.LF(i.bZ,8))},l.ɵprov=a.Yz({token:l,factory:l.ɵfac})},86957:(e,t,n)=>{n.r(t),n.d(t,{RichTextBlockLayoutEditorMetadata:()=>ue});var o=n(70625),i=n(87316),s=n(43939),a=n(30621),r=n(9249),l=n(27052),c=n(68624),d=n(13691),h=n(38327);class u{}u.ɵfac=function(e){return new(e||u)},u.ɵmod=d.oA({type:u}),u.ɵinj=h.cJ({imports:[[l.e,c.u]]});var g=n(79440),v=n(82568),m=n(84773),p=n(80827),f=n(41853),w=n(72891),C=n(43870),y=n(11282),b=n(73301),_=n(66794),D=n(31750),R=n(80943),M=n(22163),S=n(40296),E=n(65508),P=n(54082),O=n(34065),k=n(53682),x=n(41121);const B=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};var I=n(53196),A=n(74445);class U{constructor(){this.onBeforePaste=new A.v,this.onBlur=new A.v,this.onClick=new A.v,this.onContextMenu=new A.v,this.onCopy=new A.v,this.onCut=new A.v,this.onDblclick=new A.v,this.onDrag=new A.v,this.onDragDrop=new A.v,this.onDragEnd=new A.v,this.onDragGesture=new A.v,this.onDragOver=new A.v,this.onDrop=new A.v,this.onFocus=new A.v,this.onFocusIn=new A.v,this.onFocusOut=new A.v,this.onKeyDown=new A.v,this.onKeyPress=new A.v,this.onKeyUp=new A.v,this.onMouseDown=new A.v,this.onMouseEnter=new A.v,this.onMouseLeave=new A.v,this.onMouseMove=new A.v,this.onMouseOut=new A.v,this.onMouseOver=new A.v,this.onMouseUp=new A.v,this.onPaste=new A.v,this.onSelectionChange=new A.v,this.onActivate=new A.v,this.onAddUndo=new A.v,this.onBeforeAddUndo=new A.v,this.onBeforeExecCommand=new A.v,this.onBeforeGetContent=new A.v,this.onBeforeRenderUI=new A.v,this.onBeforeSetContent=new A.v,this.onChange=new A.v,this.onClearUndos=new A.v,this.onDeactivate=new A.v,this.onDirty=new A.v,this.onExecCommand=new A.v,this.onGetContent=new A.v,this.onHide=new A.v,this.onInit=new A.v,this.onInitNgModel=new A.v,this.onLoadContent=new A.v,this.onNodeChange=new A.v,this.onPostProcess=new A.v,this.onPostRender=new A.v,this.onPreInit=new A.v,this.onPreProcess=new A.v,this.onProgressState=new A.v,this.onRedo=new A.v,this.onRemove=new A.v,this.onReset=new A.v,this.onResizeEditor=new A.v,this.onSaveContent=new A.v,this.onSetAttrib=new A.v,this.onObjectResizeStart=new A.v,this.onObjectResized=new A.v,this.onObjectSelected=new A.v,this.onSetContent=new A.v,this.onShow=new A.v,this.onSubmit=new A.v,this.onUndo=new A.v,this.onVisualAid=new A.v}}U.ɵfac=function(e){return new(e||U)},U.ɵdir=d.lG({type:U,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}});const z=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],T=(e,t,n)=>(0,I.R)(e,t).pipe((0,x.R)(n)),Y=(e,t)=>"string"==typeof e?e.split(",").map((e=>e.trim())):Array.isArray(e)?e:t;let L=0;const V=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),G=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),N=()=>{},j=e=>null==e;var K=n(87321),F=n(17899),$=n(91701),Z=n(62263);const q=(()=>{let e={script$:null};return{load:(t,n)=>e.script$||(e.script$=(0,K.P)((()=>{const e=t.createElement("script");return e.referrerPolicy="origin",e.type="application/javascript",e.src=n,t.head.appendChild(e),(0,I.R)(e,"load").pipe((0,F.q)(1),(0,$.h)(void 0))})).pipe((0,Z.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{e={script$:null}}}})();var H=n(4905),X=n(88364),J=n(73379),Q=n(47098),W=n(15686);function ee(e,t){}const te=new S.O("TINYMCE_SCRIPT_SRC"),ne={provide:O.JU,useExisting:(0,E.Gp)((()=>oe)),multi:!0};class oe extends U{constructor(e,t,n,o){super(),this.platformId=n,this.tinymceScriptSrc=o,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=N,this.destroy$=new k.xQ,this.initialise=()=>{const e={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:(t=this.init&&this.init.plugins,n=this.plugins,G(t).concat(G(n))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,T(e,"init",this.destroy$).subscribe((()=>{this.initEditor(e)})),((e,t,n)=>{(e=>{const t=Y(e.ignoreEvents,[]);return Y(e.allowedEvents,z).filter((e=>z.includes(e)&&!t.includes(e)))})(e).forEach((o=>{const i=e[o];T(t,o.substring(2),n).subscribe((n=>{i.observers.length>0&&e.ngZone.run((()=>i.emit({event:n,editor:t})))}))}))})(this,e,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}};var t,n;V(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular((()=>{B().init(e)}))},this._elementRef=e,this.ngZone=t}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(e?"readonly":"design"):this._editor.setMode(e?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(j(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}ngAfterViewInit(){(0,M.q4)(this.platformId)&&(this.id=this.id||(e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return L++,"tiny-angular_"+n+L+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==B()?this.initialise():this._element&&this._element.ownerDocument&&q.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,x.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==B()&&B().remove(this._editor)}createElement(){const e="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,V(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return j(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){T(e,"blur",this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.onTouchedCallback()))})),T(e,this.modelEvents,this.destroy$).subscribe((()=>{this.ngZone.run((()=>this.emitOnChange(e)))})),"string"==typeof this.initialValue&&this.ngZone.run((()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.emitOnChange(e),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)}))}emitOnChange(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}oe.ɵfac=function(e){return new(e||oe)(g.Y(H.SB),g.Y(X.R),g.Y(P.Lb),g.Y(te,8))},oe.ɵcmp=d.Xp({type:oe,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},features:[J._([ne]),Q.q],decls:1,vars:0,template:function(e,t){1&e&&W.Y(0,ee,0,0,"ng-template")},styles:["[_nghost-%COMP%]{display:block}"]});class ie{constructor(e,t){this.data=e,this.dialog=t,this.content=null,this.content=e}}ie.ɵfac=function(e){return new(e||ie)(g.Y(r.m),g.Y(D.s))},ie.ɵcmp=d.Xp({type:ie,selectors:[["rich-text-block-editor-dialog"]],standalone:!0,features:[v.j],decls:9,vars:2,consts:[[3,"initialValue"],["editor",""],[1,"flex-row","flex-end"],["type","button",1,"btn","btn-info",3,"mat-dialog-close"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=m.E();p._U(0,"editor",0,1),p.Tg(2,"div",2)(3,"button",3)(4,"span"),f._(5,"cancel"),p.qZ()(),p.Tg(6,"button",4),w.N("click",(function(){C.CH(e);const n=y.M(1);return t.content=n.editor.getContent(),C.Kt(t.dialog.close(t.content))})),p.Tg(7,"span"),f._(8,"ok"),p.qZ()()()}if(2&e){let e;b.Q("initialValue",null!==(e=t.content)&&void 0!==e?e:""),_.x(3),b.Q("mat-dialog-close",null)}},dependencies:[a.I,R.ZT,u,oe],encapsulation:2,changeDetection:0});var se=n(68961),ae=n(85902),re=n(47826);function le(e,t,n,o,i,s,a){try{var r=e[s](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(o,i)}class ce extends i.k{constructor(e,t,n){super(e,t),this.dialog=n}showCodeEditor(){var e,t=this;return(e=function*(){const e=yield t.dialog.open(ie,{title:"Rich text block editor",width:"75vw",height:"75vh",data:t.form?.controls.content.value}).afterClosed().toPromise();if(console.log(e),(0,s.EN)(e)){const n=t.form?.controls.content;n instanceof o.NI&&n.setValue(e)}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){le(s,o,i,a,r,"next",e)}function r(e){le(s,o,i,a,r,"throw",e)}a(void 0)}))})()}}ce.ɵfac=function(e){return new(e||ce)(g.Y(se.s),g.Y(ae.T),g.Y(re.J))},ce.ɵcmp=d.Xp({type:ce,selectors:[["rich-text-block-properties-control"]],standalone:!0,features:[Q.q,v.j],decls:3,vars:0,consts:[["type","button",1,"btn","btn-primary","margin-vertical-small",3,"click"]],template:function(e,t){1&e&&(p.Tg(0,"button",0),w.N("click",(function(){return t.showCodeEditor()})),p.Tg(1,"span"),f._(2,"Edit rich text block"),p.qZ()())},styles:["[_nghost-%COMP%]\n{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}"],changeDetection:0});var de=n(57466);class he{constructor(e){this.content="",de.Rl.bind(this)(e)}}class ue{constructor(){this.metaInfo={name:"Rich text block",description:"WYSIWYG editor allowing formatting of multiline text",group:"Texts",optionsMetadata:{propertiesMetadata:[{modelType:he,propertiesControls:[ce]}]}},Object.freeze(this)}}},80943:(e,t,n)=>{n.d(t,{ZT:()=>v});var o=n(31750),i=n(79440),s=n(4905),a=n(13691),r=n(72891),l=n(86357),c=n(36973),d=n(98171),h=n(85320),u=n(77417);let g=0;class v{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=w(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){(0,o.R)(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}v.ɵfac=function(e){return new(e||v)(i.Y(o.s,8),i.Y(s.SB),i.Y(u.uw))},v.ɵdir=a.lG({type:v,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.N("click",(function(e){return t._onButtonClick(e)})),2&e&&l.u("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.T]});class m{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id="mat-dialog-title-"+g++}ngOnInit(){this._dialogRef||(this._dialogRef=w(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)}))}}m.ɵfac=function(e){return new(e||m)(i.Y(o.s,8),i.Y(s.SB),i.Y(u.uw))},m.ɵdir=a.lG({type:m,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&d.I("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]});class p{}p.ɵfac=function(e){return new(e||p)},p.ɵdir=a.lG({type:p,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]});class f{constructor(){this.align="start"}}function w(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find((e=>e.id===n.id)):null}f.ɵfac=function(e){return new(e||f)},f.ɵdir=a.lG({type:f,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,t){2&e&&h.ek("mat-dialog-actions-align-center","center"===t.align)("mat-dialog-actions-align-end","end"===t.align)},inputs:{align:"align"}})}}]);
//# sourceMappingURL=6957.chunk.86434be54873f41a68dd.js.map