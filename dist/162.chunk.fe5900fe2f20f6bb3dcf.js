"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[162],{10162:(t,n,e)=>{e.r(n),e.d(n,{ComponentOutputsRelationsEditorMetadata:()=>T});var o=e(27052),i=e(93551),a=e(52580),s=e(60901),r=e(57466),u=e(64297),p=e(72385),c=e(84773),d=e(76405),l=e(41853),f=e(72891),m=e(43870),v=e(6845),g=e(66794),h=e(73301),y=e(6427),b=e(79440),k=e(68961),w=e(4905),O=e(77842),_=e(47098),C=e(82568),S=e(15686),x=e(47826),E=e(12311);function N(t,n,e,o,i,a,s){try{var r=t[a](s),u=r.value}catch(t){return void e(t)}r.done?n(u):Promise.resolve(u).then(o,i)}function q(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function s(t){N(a,o,i,s,r,"next",t)}function r(t){N(a,o,i,s,r,"throw",t)}s(void 0)}))}}function P(t,n){if(1&t){const t=c.E();d.Tg(0,"div",9),d._U(1,"relation-node-input",10),d.Tg(2,"div",5)(3,"div"),l._(4),d.qZ(),d.Tg(5,"button",11),f.N("click",(function(n){const e=m.CH(t).$implicit,o=v.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.configureEndpoint(e))})),d._U(6,"span",12),d.qZ(),d.Tg(7,"button",13),f.N("click",(function(n){const e=m.CH(t).$implicit,o=v.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.removeEndpoint(e))})),d._U(8,"span",14),d.qZ()()()}if(2&t){const t=n.$implicit,e=v.o();g.x(1),h.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e),g.x(3),y.Oq(t.name)}}class D extends i.M{get endpoints(){var t,n;return this.metadata?((t=this.metadata).relationsOptions??(t.relationsOptions={outputs:[]}),(n=this.metadata.relationsOptions).outputs??(n.outputs=[])):[]}constructor(t,n,e){super(t,n),this.dialog=e}addEndpoint(){var t=this;return q((function*(){const n={name:"",defaultValue:null,skipInit:!1,allowSkipInit:!0};(yield t.configureEndpoint(n))&&(t.endpoints.push(n),t.history.getNewState())}))()}removeEndpoint(t){const n=this.endpoints.indexOf(t);n>=0&&(this.endpoints.splice(n,1),this.history.getNewState())}configureEndpoint(t){var n=this;return q((function*(){const e=JSON.parse(JSON.stringify(t)),o=yield(0,u.n)(n.dialog.open(p.b,{title:"configure component output",width:"60vw",data:t}).afterClosed());return o?n.history.getNewState():(0,r.l7)(t,e),o??!1}))()}}D.ɵfac=function(t){return new(t||D)(b.Y(k.s),b.Y(w.SB),b.Y(x.J))},D.ɵcmp=O.Xp({type:D,selectors:[["component-outputs-node"]],standalone:!0,features:[_.q,C.j],decls:9,vars:3,consts:[["name","component inputs",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],["class","input",4,"ngFor","ngForOf"],[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-left-extra-small",3,"click"],[1,"fas","fa-plus"],[1,"outputs"],[1,"input"],[3,"parentCoordiantes","zoomLevel","name","parent"],["type","button",1,"dynamic-btn-icon","dynamic-margin-horizontal-extra-small",3,"click"],[1,"fas","fa-cog"],["type","button",1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"]],template:function(t,n){1&t&&(d._U(0,"relations-node-header",0),d.Tg(1,"div",1)(2,"div",2)(3,"div",3),S.Y(4,P,9,5,"div",4),d.Tg(5,"div",5)(6,"button",6),f.N("click",(function(t){return t.preventDefault(),t.stopPropagation(),n.addEndpoint()})),d._U(7,"span",7),d.qZ()()(),d._U(8,"div",8),d.qZ()()),2&t&&(h.Q("parent",n)("destroySubject",n.destroySubject),g.x(4),h.Q("ngForOf",n.endpoints))},dependencies:[o.e,E.sg,a.e,s.P],encapsulation:2,changeDetection:0});class T{constructor(){this.metaInfo={name:"Component outputs",description:"Definition of relations component outputs",group:"Component"},this.nodeDefinition=D,Object.freeze(this)}}}}]);
//# sourceMappingURL=162.chunk.fe5900fe2f20f6bb3dcf.js.map