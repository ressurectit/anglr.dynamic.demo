(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[8602],{25048:(e,t,n)=>{var i={"./en.json":[79587,9587],"./sk.json":[5930,5930]};function s(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((()=>n.t(s,19)))}s.keys=()=>Object.keys(i),s.id=25048,e.exports=s},18567:(e,t,n)=>{"use strict";n.d(t,{Qw:()=>s.Q,mx:()=>o.m,oK:()=>a.o,$u:()=>Z});var i,s=n(86825),o=n(43747),a=n(31619),r=n(23347),l=n(87667),u=n(64527),g=n(4503),c=n(79144),h=n(80827),d=n(65589),p=n(73301),v=n(41853),m=n(15686),f=n(6845),_=n(66794),b=n(6427),y=n(79440),C=n(13691),w=n(82568),O=n(72891),S=n(85320),x=n(73612),k=n(77470),L=n(86170),D=n(66163),P=n(57292),T=n(35100),A=n(12311),I=n(21651),R=n(64421),N=n(98557),M=n(4489),E=n(68965),z=n(31686);function V(e,t){if(1&e&&(h._U(0,"ng-option",11),d.AL(1,"translate")),2&e){const e=t.$implicit;p.Q("text",d.lc(1,2,e))("value",e)}}function j(e,t){if(1&e&&h._U(0,"ng-option",11),2&e){const e=t.$implicit;p.Q("text",null==e?null:e.name)("value",null==e?null:e.lang)}}function q(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),v._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",8),m.Y(6,V,2,4,"ng-option",9),h.qZ()(),h.Tg(7,"div",7),v._(8),d.AL(9,"translate"),h.qZ(),h.Tg(10,"div")(11,"ng-select",10),m.Y(12,j,1,2,"ng-option",9),h.qZ()()()),2&e){const e=f.o();p.Q("formGroup",e.generalSettingsForm),_.x(2),b.Oq(d.lc(3,5,"theme")),_.x(4),p.Q("ngForOf",e.themes),_.x(2),b.Oq(d.lc(9,7,"language")),_.x(4),p.Q("ngForOf",e.languages)}}function U(e,t){if(1&e&&h._U(0,"ng-option",11),2&e){const e=t.$implicit;p.Q("text",null==e?null:e.name)("value",null==e?null:e.value)}}function F(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),v._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",12),m.Y(6,U,1,2,"ng-option",9),h.qZ()()()),2&e){const e=f.o();p.Q("formGroup",e.loggingSettingsForm),_.x(2),b.Oq(d.lc(3,3,"console log")),_.x(4),p.Q("ngForOf",e.logLevels)}}function Y(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),v._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div"),h._U(5,"mat-slide-toggle",13),h.qZ(),h.Tg(6,"div",7),v._(7),d.AL(8,"translate"),h.qZ(),h.Tg(9,"div"),h._U(10,"mat-slide-toggle",14),h.qZ()()),2&e){const e=f.o();p.Q("formGroup",e.debuggingSettingsForm),_.x(2),b.Oq(d.lc(3,3,"console")),_.x(5),b.Oq(d.lc(8,5,"debug data"))}}!function(e){e[e.General=0]="General",e[e.Logging=1]="Logging",e[e.Debugging=2]="Debugging"}(i||(i={}));class Z{constructor(e,t,n,s){this.themes=l.v.configuration.themes,this.languages=l.v.configuration.languages,this.logLevels=[],this.activeSection=i.General,this.UserSettingsSections=i;const o=e.settings,a=e.settingsDebugging,u=e.settingsLogging;this._getLogLevels(),this.generalSettingsForm=t.group({language:o.language,theme:o.theme}),this.debuggingSettingsForm=t.group({consoleEnabled:a.consoleEnabled,debugData:a.debugData}),this.loggingSettingsForm=t.group({consoleLogLevel:r.ke[u.consoleLogLevel]}),this.generalSettingsForm.valueChanges.subscribe((t=>{e.setSettings(t)})),this.debuggingSettingsForm.valueChanges.subscribe((t=>{s.setEnabled(t.debugData),e.setDebuggingSettings(t)})),this.loggingSettingsForm.valueChanges.subscribe((t=>{n.restrictToLevel=+t.consoleLogLevel,e.setLoggingSettings({consoleLogLevel:r.ke[+t.consoleLogLevel]})}))}_getLogLevels(){Object.keys(r.ke).forEach((e=>{isNaN(+e)||this.logLevels.push({name:r.ke[e],value:e})}))}}Z.ɵfac=function(e){return new(e||Z)(y.Y(u.g),y.Y(x.qu),y.Y(P.b),y.Y(T.H))},Z.ɵcmp=C.Xp({type:Z,selectors:[["user-settings"]],standalone:!0,features:[w.j],decls:20,vars:18,consts:[[1,"flex-column","settings-menu"],[1,"btn-line",3,"click"],[1,"fas","fa-cog"],[1,"fas","fa-pen"],[1,"fas","fa-bug"],["class","settings-items",3,"formGroup",4,"ngIf"],[1,"settings-items",3,"formGroup"],[1,"text-capitalize"],["formControlName","theme"],[3,"text","value",4,"ngFor","ngForOf"],["formControlName","language"],[3,"text","value"],["formControlName","consoleLogLevel"],["formControlName","consoleEnabled"],["formControlName","debugData"]],template:function(e,t){1&e&&(h.Tg(0,"div",0)(1,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.General})),h._U(2,"span",2),h.Tg(3,"span"),v._(4),d.AL(5,"translate"),h.qZ()(),h.Tg(6,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.Logging})),h._U(7,"span",3),h.Tg(8,"span"),v._(9),d.AL(10,"translate"),h.qZ()(),h.Tg(11,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.Debugging})),h._U(12,"span",4),h.Tg(13,"span"),v._(14),d.AL(15,"translate"),h.qZ()()(),h.Tg(16,"div"),m.Y(17,q,13,9,"div",5),m.Y(18,F,7,5,"div",5),m.Y(19,Y,11,7,"div",5),h.qZ()),2&e&&(_.x(1),S.ek("active",t.activeSection==t.UserSettingsSections.General),_.x(3),b.Oq(d.lc(5,12,"general")),_.x(2),S.ek("active",t.activeSection==t.UserSettingsSections.Logging),_.x(3),b.Oq(d.lc(10,14,"logging")),_.x(2),S.ek("active",t.activeSection==t.UserSettingsSections.Debugging),_.x(3),b.Oq(d.lc(15,16,"debug")),_.x(3),p.Q("ngIf",t.activeSection==t.UserSettingsSections.General),_.x(1),p.Q("ngIf",t.activeSection==t.UserSettingsSections.Logging),_.x(1),p.Q("ngIf",t.activeSection==t.UserSettingsSections.Debugging))},dependencies:[g._,A.s,I.O,R.X,c.N,k.JJ,k.JL,L.s,D.u,N.Rr,M.x,E.w,z.v],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}.settings-menu[_ngcontent-%COMP%]{width:120px;font-size:1.1em;margin-right:48px}.settings-menu[_ngcontent-%COMP%]   span[class^=fa][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=fas][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=glyphicon][_ngcontent-%COMP%]{margin-right:10px}.settings-items[_ngcontent-%COMP%]{width:300px;display:grid;grid-template-columns:auto 160px;grid-template-rows:auto;column-gap:10px;row-gap:4px;align-items:center}"],changeDetection:0})},86825:(e,t,n)=>{"use strict";n.d(t,{Q:()=>M});var i=n(74445),s=n(27052),o=n(70625),a=n(68624),r=n(35648),l=n(13457),u=n(57466),g=n(23199),c=n(80827),h=n(73301),d=n(4477),p=n(41853),v=n(79440),m=n(68961),f=n(13691),_=n(82568),b=n(15686),y=n(72891),C=n(66794),w=n(23710),O=n(15467),S=n(56454),x=n(49280),k=n(77470),L=n(27635),D=n(4489),P=n(68965),T=n(31686),A=n(12311),I=n(21651);function R(e,t){if(1&e&&c._U(0,"ng-option",8),2&e){const e=t.$implicit;h.Q("value",e)("text",e)}}function N(e,t){1&e&&(d.yn(0),p._(1,"*"),d.BQ())}class M{constructor(e,t,n,s,a){this._router=e,this._route=t,this._metaManager=n,this._changeDetector=s,this._hotkeys=a,this._metadata=null,this._available=new o.NI(""),this._name=new o.NI(null),this._availableNames=[],this.initSubscriptions=new g.w0,this.history=null,this.metadataChange=new i.v}ngOnInit(){this._hotkeys&&(this.initSubscriptions.add(this._hotkeys.save.subscribe((()=>this._save()))),this.initSubscriptions.add(this._hotkeys.new.subscribe((()=>this._new())))),this.history&&(this.initSubscriptions.add(this.history.historyChange.subscribe((()=>this._changeDetector.detectChanges()))),this.initSubscriptions.add(this.history.pop.subscribe((()=>this._changeDetector.detectChanges())))),this._availableNames=this.store.getStored(),this._route.params.subscribe((({id:e})=>{e?(this._name.setValue(e),this._available.setValue(e),this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata)):(this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""))}))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}_load(){this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata),this._name.setValue(this._available.value),this._router.navigate([this.routePath,this._available.value],{skipLocationChange:!1,replaceUrl:!0})}_save(){this._saveData(this._metaManager.getMetadata())}_delete(){this.store.removeData(this._available.value),this._availableNames=this.store.getStored(),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_new(){this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_saveData(e){const t=this.store.getData(this._name.value)??{};this.history?.save(),this.store.setData(this._name.value,(0,u.l7)(t,this.getMetadataCallback(e))),this._availableNames=this.store.getStored(),this._changeDetector.detectChanges(),this._router.navigate([this.routePath,this._name.value],{skipLocationChange:!1,replaceUrl:!0})}}M.ɵfac=function(e){return new(e||M)(v.Y(w.F0),v.Y(O.gz),v.Y(l.Q),v.Y(m.s),v.Y(S.z,8))},M.ɵcmp=f.Xp({type:M,selectors:[["load-save-new"]],inputs:{store:"store",history:"history",routePath:"routePath",getMetadataCallback:"getMetadataCallback"},outputs:{metadataChange:"metadataChange"},standalone:!0,features:[_.j],decls:17,vars:8,consts:[[2,"width","180px",3,"formControl"],["text","*unsaved*",3,"value"],[3,"value","text",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","text",3,"formControl"],[4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value","text"]],template:function(e,t){if(1&e&&(c.Tg(0,"ng-select",0),c._U(1,"ng-option",1),b.Y(2,R,1,2,"ng-option",2),c.qZ(),c.Tg(3,"button",3),y.N("click",(function(){return t._delete()})),c.Tg(4,"span"),p._(5,"remove"),c.qZ()(),c.Tg(6,"button",4),y.N("click",(function(){return t._load()})),c.Tg(7,"span"),p._(8,"load"),c.qZ()(),c._U(9,"input",5),c.Tg(10,"button",4),y.N("click",(function(){return t._save()})),c.Tg(11,"span"),p._(12,"save "),b.Y(13,N,2,0,"ng-container",6),c.qZ()(),c.Tg(14,"button",7),y.N("click",(function(){return t._new()})),c.Tg(15,"span"),p._(16,"new"),c.qZ()()),2&e){let e;h.Q("formControl",t._available),C.x(1),h.Q("value",""),C.x(1),h.Q("ngForOf",t._availableNames),C.x(1),h.Q("disabled",!t._available.value),C.x(3),h.Q("disabled",!t._available.value),C.x(3),h.Q("formControl",t._name),C.x(1),h.Q("disabled",!t._name.value),C.x(3),h.Q("ngIf",!(null===(e=null==t.history?null:t.history.saved)||void 0===e||e))}},dependencies:[a.U,x.Fj,k.JJ,L.oH,r.A,D.x,P.w,T.v,s.e,A.s,I.O],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0})},43747:(e,t,n)=>{"use strict";n.d(t,{m:()=>C});var i=n(14392),s=n(68961),o=n(96130),a=n(86485),r=n(6552),l=n(49891);function u(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const g=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(9360),n.e(5957),n.e(4023),n.e(7531)]).then(n.bind(n,53990))).RelationsResultRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){u(o,i,s,a,r,"next",e)}function r(e){u(o,i,s,a,r,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();var c,h=n(79440),d=n(13691),p=n(36973),v=n(82568),m=n(80827),f=n(41853),_=n(66794),b=n(6427);function y(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}let C=c=class{constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n}static get relationsId(){return"relations-result"}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(c.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(c.relationsId)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){y(o,i,s,a,r,"next",e)}function r(e){y(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(c.relationsId),this._componentManager.unregisterComponent(c.relationsId)}ngOnChanges(e){(0,l.$)("vstup")in e&&this.vstup&&console.log("vstup sa zmenil v result",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};C.ɵfac=function(e){return new(e||C)(h.Y(s.s),h.Y(o.v),h.Y(a.s))},C.ɵcmp=d.Xp({type:C,selectors:[["relations-result"]],inputs:{vstup:"vstup"},standalone:!0,features:[p.T,v.j],decls:2,vars:1,template:function(e,t){1&e&&(m.Tg(0,"div"),f._(1),m.qZ()),2&e&&(_.x(1),b.hi("VSTUP: ",t.vstup,""))},encapsulation:2,changeDetection:0}),C=c=(0,i.gn)([(0,r.i)(g),(0,i.w6)("design:paramtypes",[s.s,o.v,a.s])],C)},31619:(e,t,n)=>{"use strict";n.d(t,{o:()=>D});var i=n(14392),s=n(68961),o=n(70625),a=n(68624),r=n(36759),l=n(96130),u=n(86485),g=n(6552),c=n(49891);function h(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const d=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(9360),n.e(5957),n.e(4023),n.e(8408)]).then(n.bind(n,14663))).RelationsSampleClickRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){h(o,i,s,a,r,"next",e)}function r(e){h(o,i,s,a,r,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();var p,v=n(79440),m=n(13691),f=n(36973),_=n(82568),b=n(80827),y=n(41853),C=n(66794),w=n(6427),O=n(73301),S=n(49280),x=n(77470),k=n(27635);function L(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}let D=p=class{constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n,this._vystupForm=new o.NI(""),this._vystupForm.valueChanges.subscribe((e=>this.vystup=e))}static get relationsId(){return"relations-sample-click"}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(p.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(p.relationsId)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){L(o,i,s,a,r,"next",e)}function r(e){L(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(p.relationsId),this._componentManager.unregisterComponent(p.relationsId)}ngOnChanges(e){(0,c.$)("vstup")in e&&this.vstup&&console.log("vstup sa zmenil",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};D.ɵfac=function(e){return new(e||D)(v.Y(s.s),v.Y(l.v),v.Y(u.s))},D.ɵcmp=m.Xp({type:D,selectors:[["relations-sample-click"]],inputs:{vstup:"vstup"},standalone:!0,features:[f.T,_.j],decls:4,vars:2,consts:[["type","text",3,"formControl"]],template:function(e,t){1&e&&(b.Tg(0,"div"),y._(1),b.qZ(),b.Tg(2,"div"),b._U(3,"input",0),b.qZ()),2&e&&(C.x(1),w.hi("VSTUP: ",t.vstup,""),C.x(2),O.Q("formControl",t._vystupForm))},dependencies:[a.U,S.Fj,x.JJ,k.oH],encapsulation:2,changeDetection:0}),(0,i.gn)([(0,r.A)(),(0,i.w6)("design:type",String)],D.prototype,"vystup",void 0),D=p=(0,i.gn)([(0,g.i)(d),(0,i.w6)("design:paramtypes",[s.s,l.v,u.s])],D)},98602:(e,t,n)=>{"use strict";n.r(t),n(58420),n(88574),n(62374);var i=n(52266),s=n(43939),o=n(28653),a=n(87667);(0,i.y)((e=>{e.Document||(e.Document=function(){}),e.ngDesignerMetadata||(e.ngDesignerMetadata=!0)}));const r=o.y.prototype.subscribe;o.y.prototype.subscribe=function(e,t,n){return!(0,s.fp)(t)&&(0,s.mf)(t)||(t=e=>{a.v.configuration.debug&&console.log(e)}),r.call(this,e,t,n)};var l=n(76939),u=n(97326),g=n(17939),c=n(42711),h=n(26160),d=n(93742),p=n(72898),v=n(35980),m=n(48936),f=n(46480),_=n(55478),b=n(39969),y=n(53047),C=n(49891),w=n(98084),O=n(80022);const S=(0,O.X$)("routeAnimations",[(0,O.eR)("void <=> *, none <=> *",[(0,O.IO)(":enter",(0,O.pV)(),{optional:!0})]),(0,O.eR)("* => login",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative",perspective:"10000px"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms 350ms ease-out",(0,O.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])]),(0,O.eR)("login => *",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative",perspective:"10000px"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms 350ms ease-out",(0,O.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])]),(0,O.eR)("* => *",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms ease-out",(0,O.oB)({opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])])]),x=(0,O.X$)("loaderAnimation",[(0,O.eR)(":leave",[])]);var k=n(64527);const L=JSON.parse('{"i":"1.0.0-beta.20220809060949"}');var D=n(80827),P=n(73301),T=n(79440),A=n(68961),I=n(13691),R=n(55436),N=n(73379),M=n(41853),E=n(15686),z=n(66794),V=n(6427),j=n(70575),q=n(21651),U=n(83915),F=n(53693),Y=n(38870),Z=n(94304),Q=n(69602),$=n(18567),B=n(72891),G=n(47826),H=n(32361),J=n(453);class X{constructor(e){this._dialog=e}openSettings(){this._dialog.open($.$u,{title:"user settings",maxHeight:"80vh"})}}X.ɵfac=function(e){return new(e||X)(T.Y(G.J))},X.ɵcmp=I.Xp({type:X,selectors:[["main-menu"]],decls:19,vars:0,consts:[[1,"flex-row"],["routerLink","/layout/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/layout/form-preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/layout/editor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsStatic","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithLayoutEditor/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsComplex/preview","routerLinkActive","active",1,"margin-horizontal-small"],[1,"flex-1"],[1,"fas","fa-cog",3,"click"]],template:function(e,t){1&e&&(D.Tg(0,"div",0)(1,"a",1),M._(2,"Preview"),D.qZ(),D.Tg(3,"a",2),M._(4,"Form preview"),D.qZ(),D.Tg(5,"a",3),M._(6,"Editor"),D.qZ(),D.Tg(7,"a",4),M._(8,"Relations editor"),D.qZ(),D.Tg(9,"a",5),M._(10,"Relations"),D.qZ(),D.Tg(11,"a",6),M._(12,"Relations with editor"),D.qZ(),D.Tg(13,"a",7),M._(14,"Relations with layout editor"),D.qZ(),D.Tg(15,"a",8),M._(16,"Relations complex"),D.qZ(),D._U(17,"div",9),D.Tg(18,"a",10),B.N("click",(function(){return t.openSettings()})),D.qZ()())},dependencies:[H.y,J.O],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0}"],changeDetection:0});var W=n(80969);function K(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const ee=["outlet"];function te(e,t){1&e&&D._U(0,"console"),2&e&&P.Q("@consoleAnimation",void 0)}function ne(e,t){1&e&&(D.Tg(0,"div",6),D._U(1,"div"),D.qZ()),2&e&&P.Q("@loaderAnimation",void 0)}class ie{constructor(e,t,n,i,s,o){this._changeDetector=t,this._appHotkeys=n,this.consoleVisible=!1,this.routeComponentState="none",this.guiVersion=L.i,this.initialized=!1,s.verbose("Application is starting, main component constructed."),o.body.classList.add("app-page",i.settings.theme),this._theme=i.settings.theme,this._settingsChangeSubscription=i.settingsChange.subscribe((t=>{t==(0,C.$)("theme")&&(o.body.classList.remove(this._theme),this._theme=i.settings.theme,o.body.classList.add(this._theme)),t==(0,C.$)("language")&&(e.use(i.settings.language),this._changeDetector.detectChanges())})),this._settingsDebuggingChangeSubscription=i.settingsDebuggingChange.subscribe((e=>{e==(0,C.$)("consoleEnabled")&&this._toggleConsoleHotkey()})),e.setDefaultLang("en"),e.use(i.settings.language),i.settingsDebugging?.consoleEnabled&&this._toggleConsoleHotkey()}ngOnInit(){var e,t=this;return(e=function*(){t._changeDetector.detectChanges()},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){K(o,i,s,a,r,"next",e)}function r(e){K(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngAfterViewInit(){this._routerOutletActivatedSubscription=this.routerOutlet.activateEvents.subscribe((()=>{this.routeComponentState=this.routerOutlet.activatedRouteData.animation||this.routerOutlet.activatedRoute.component.name})),this.initialized=!0}ngOnDestroy(){this._routerOutletActivatedSubscription?.unsubscribe(),this._routerOutletActivatedSubscription=null,this._settingsChangeSubscription?.unsubscribe(),this._settingsChangeSubscription=null,this._settingsDebuggingChangeSubscription?.unsubscribe(),this._settingsDebuggingChangeSubscription=null,this._appHotkeys.destroy()}_toggleConsoleHotkey(){const e=this._appHotkeys.hotkeys.get("~");e?this._appHotkeys.hotkeys.remove(e):this._appHotkeys.hotkeys.add(new w.q("~",(()=>(this.consoleVisible=!this.consoleVisible,this._changeDetector.detectChanges(),!1)),null,"Show console"))}}ie.ɵfac=function(e){return new(e||ie)(T.Y(j.sK),T.Y(A.s),T.Y(b.H),T.Y(k.g),T.Y(f.bZ),T.Y(m.K))},ie.ɵcmp=I.Xp({type:ie,selectors:[["app"]],viewQuery:function(e,t){if(1&e&&R.Gf(ee,5),2&e){let e;R.iG(e=R.CR())&&(t.routerOutlet=e.first)}},features:[N._([b.H])],decls:13,vars:3,consts:[[1,"content","relative"],[1,"main-content"],["outlet","outlet"],[1,"gui-version"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"]],template:function(e,t){1&e&&(D._U(0,"main-menu")(1,"progress-indicator")(2,"internal-server-error")(3,"global-notifications")(4,"hotkeys-cheatsheet"),D.Tg(5,"div",0)(6,"div",1),D._U(7,"router-outlet",null,2),D.qZ()(),D.Tg(9,"div",3),M._(10),D.qZ(),E.Y(11,te,1,1,"console",4),E.Y(12,ne,2,1,"div",5)),2&e&&(z.x(10),V.hi("GUI version: ",t.guiVersion,""),z.x(1),P.Q("ngIf",t.consoleVisible),z.x(1),P.Q("ngIf",!t.initialized))},dependencies:[q.O,U.X,F.B,Y.u,Z.l,Q.X,X,W.m],styles:[".content[_ngcontent-%COMP%]{display:grid;flex:1;min-height:0;min-width:0;overflow:hidden}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0}.gui-version[_ngcontent-%COMP%]{text-align:center;font-size:.7em}console[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[S,y.I,_.K,x]},changeDetection:0});var se=n(14392),oe=n(94595),ae=n(76668),re=n(89001),le=n(3859),ue=n(61694),ge=n(21098),ce=n(65205),he=n(94054),de=n(15924),pe=n(78513),ve=n(17868),me=n(87966);const fe={rootModule:!0,rootModuleConfig:{enableTracing:!1,useHash:!0},staticRoutesBefore:[{path:"",redirectTo:"/layout/preview",pathMatch:"full"},{path:"",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(5957),n.e(3292),n.e(4780),n.e(728)]).then(n.bind(n,41621)).then((({DefaultModule:e})=>e))},{path:"layout",loadChildren:()=>Promise.all([n.e(4721),n.e(6473)]).then(n.bind(n,76956)).then((({LayoutModule:e})=>e))},{path:"layout",loadChildren:()=>Promise.all([n.e(9101),n.e(4204),n.e(111),n.e(4721),n.e(4780),n.e(7654),n.e(1973)]).then(n.bind(n,31203)).then((({LayoutEditorModule:e})=>e))},{path:"relationsStatic",loadChildren:()=>Promise.all([n.e(111),n.e(7329)]).then(n.bind(n,87329)).then((({RelationsStaticModule:e})=>e))},{path:"relationsEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(5957),n.e(111),n.e(4721),n.e(3292),n.e(9917)]).then(n.bind(n,68926)).then((({RelationsEditorModule:e})=>e))},{path:"relationsWithEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(5957),n.e(111),n.e(4721),n.e(3292),n.e(3409)]).then(n.bind(n,72611)).then((({RelationsWithEditorModule:e})=>e))},{path:"relationsWithLayoutEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(4204),n.e(5957),n.e(111),n.e(4721),n.e(3292),n.e(4780),n.e(7654),n.e(778),n.e(5184)]).then(n.bind(n,85184)).then((({RelationsWithLayoutEditorModule:e})=>e))},{path:"relationsComplex",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(4204),n.e(5957),n.e(111),n.e(4721),n.e(3292),n.e(4780),n.e(7654),n.e(778),n.e(6371)]).then(n.bind(n,36371)).then((({RelationsComplexModule:e})=>e))}],staticRoutesAfter:[{path:"accessDenied",loadComponent:()=>n.e(9264).then(n.bind(n,69264)).then((({AccessDeniedComponent:e})=>e))},{path:"**",loadComponent:()=>n.e(8831).then(n.bind(n,88831)).then((({NotFoundComponent:e})=>e))}]};var _e=n(95176),be=n(99079),ye=n(33215),Ce=n(95511),we=n(35100),Oe=n(99452),Se=n(57292),xe=n(9551),ke=n(39449),Le=n(91919),De=n(23547),Pe=n(41089),Te=n(91846),Ae=n(7384),Ie=n(14602),Re=n(77342),Ne=n(94550),Me=n(80330),Ee=n(62250),ze=n(53490),Ve=n(75772),je=n(1401),qe=n(31579),Ue=n(33018),Fe=n(89720),Ye=n(93192),Ze=n(29706),Qe=n(57177),$e=n(53556),Be=n(80406),Ge=n(91972),He=n(54248),Je=n(9249),Xe=n(34494),We=n(85980),Ke=n(53221),et=n(33420),tt=n(43770),nt=n(13969),it=n(7099),st=n(69517),ot=n(21340),at=n(34116),rt=n(8086),lt=n(70263),ut=n(66501),gt=n(23347),ct=n(89968),ht=n(88842),dt=n(43801),pt=n(38327);class vt extends Ce.v{get locale(){return"en"}get localeChange(){return ht.E}}vt.ɵfac=function(){let e;return function(t){return(e||(e=dt.n5(vt)))(t||vt)}}(),vt.ɵprov=pt.Yz({token:vt,factory:vt.ɵfac});var mt=n(26571);const ft=[ke.t,Le.H,De.w,Pe.Q,ye.B,{useFactory:()=>new Te.b("Server je mimo prevádzky."),provide:Te.b},{useFactory:()=>new Ae.R("Server neodpovedal v stanovenom čase."),provide:Ae.R},{provide:Ce.v,useClass:vt},Ie.o,Re.E,ze.B,{provide:Ve.u,useValue:{texts:{loading:"Loading data ...",noData:"No data for requested parameters",notLoaded:"Data have not been loaded yet"}}},{provide:je.xS,useValue:qe.G},{provide:Ue.P,useValue:{itemsPerPageValues:[15,30,60],initialItemsPerPage:15}},{provide:je.LL,useValue:Qe.j},{provide:Fe._,useValue:{showButtonVisible:!1}},{provide:Ye.T,useValue:{storageIppName:"all-grid-ipp"}},{provide:Ze.eP,useValue:{cssClasses:{containerDiv:"table-container thin-scrollbar"}}},{provide:Ze.ss,useValue:{cssClasses:{thDefault:"header-default fixed-header"}}},{provide:tt.M,useValue:{texts:{nothingSelected:"Nothing selected"}}},{provide:f.oF,useClass:xe.H},{provide:f.T0,useClass:be.w},{provide:Se.b,useFactory:e=>new Se.b(null,gt.ke[e?.settingsLogging?.consoleLogLevel]),deps:[k.g]},{provide:mt.L,useClass:k.l},{provide:we.H,useFactory:e=>{const t=new we.H;return t.setEnabled(e.settingsDebugging?.debugData),t},deps:[k.g]},{provide:nt.R2,useClass:it.Fh},st.V,it.Dx,{provide:st.v,useValue:{locale:ct.Z}},{provide:$e.xY,useValue:{required:"Položka je povinná.",number:"Položka musí byť číslo.",pattern:"Položka nie je v požadovanom formáte.",minValue:"Nedodržaná minimálna povolená hodnota.",maxValue:"Nedodržaná maximálna povolená hodnota.",minlength:"Nedodržaná minimálna dĺžka.",maxlength:"Nedodržaná maximálna dĺžka.",birthNumber:"Nesprávny formát rodného čísla.",email:"Položka musí byť email.",availableUsername:"Prihlasovacie meno je použité"}},{provide:$e.gt,useValue:{container:Be.f}},Oe.d,{provide:We.H,useExisting:f.wn},{provide:Ne._k,useExisting:f.wn},{provide:Ne.wN,useExisting:f.wn},{provide:Ge.r,useValue:new Ge.r(He.b)},{provide:Je.L,useValue:{confirmationText:"Prajete si pokračovať?",dialogCancelText:"Nie",dialogConfirmText:"Áno"}},Xe.G,{provide:We.w,useValue:{assetsPathPrefix:"dist/md",baseUrl:"/pomoc"}},ut.F,Ke.Q,{provide:ot.fD,useValue:[at.U,rt.m,lt.L,et.m]},{provide:Ne.r7,useValue:e=>e?.error?.errors?e?.error?.errors:(0,s.HD)(e?.error)?[e?.error]:(0,s.wV)(e?.error)?[JSON.stringify(e?.error)]:[e.message]},{provide:Ne.Sm,useValue:e=>e?.error?.validationErrors?e?.error?.validationErrors:null},{provide:Ne.IR,useFactory:e=>({400:t=>(0,Me.W)(t,{injector:e}),404:Ee.A}),deps:[_e.z]}];function _t(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}class bt{getTranslation(e){return new o.y((t=>{var i;(i=function*(){const i=yield n(25048)(`./${e}.json`);t.next(i.default),t.complete()},function(){var e=this,t=arguments;return new Promise((function(n,s){var o=i.apply(e,t);function a(e){_t(o,n,s,a,r,"next",e)}function r(e){_t(o,n,s,a,r,"throw",e)}a(void 0)}))})()}))}}bt.ɵfac=function(e){return new(e||bt)},bt.ɵprov=pt.Yz({token:bt,factory:bt.ɵfac});var yt=n(42983),Ct=n(11776);class wt{constructor(e){this._logger=e}handle(e){return this._logger.debug(`MISSING TRANSLATION: ${e.key}`),`MISSING: '${e.key}'`}}wt.ɵfac=function(e){return new(e||wt)(Ct.LF(f.bZ))},wt.ɵprov=pt.Yz({token:wt,factory:wt.ɵfac});let Ot=class{};Ot.ɵfac=function(e){return new(e||Ot)},Ot.ɵmod=I.oA({type:Ot}),Ot.ɵinj=pt.cJ({providers:ft,imports:[l.b2.withServerTransition({appId:"my-app-id"}),oe.JF,ge.m,ue._,ce.J.forRoot(),ae.Bz,v.m,yt.$9,le.R.forRoot(),ve.c8.forRoot({backend:me.PD}),he.aw.forRoot({loader:{provide:de.Z,useClass:bt},...a.v.configuration.debugTranslations?{missingTranslationHandler:{provide:pe.g,useClass:wt}}:{},useDefaultLang:!a.v.configuration.debugTranslations})]}),Ot=(0,se.gn)([(0,re.P)([],fe)],Ot);class St{}St.ɵfac=function(e){return new(e||St)},St.ɵmod=I.oA({type:St,bootstrap:[ie]}),St.ɵinj=pt.cJ({providers:[{provide:p.g,useFactory:()=>new p.g(a.v.configuration.debug,!1)}],imports:[Ot,h.PW,d.Cu,v.m.forRoot({cheatSheetCloseEsc:!0})]}),(0,u.G)();const xt=(0,l.q6)();(0,g.ZA)(xt.bootstrapModule(St),(e=>{e.injector.get(c.I)?.clearAndDeactivate()}),a.v.configuration.debug)},26571:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});const i=new(n(40296).O)("SETTINGS_STORAGE")},4503:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var i=n(27052),s=n(76668),o=n(38476),a=n(2175),r=n(39163),l=n(35285),u=n(99874),g=n(14454),c=n(94054),h=n(13691),d=n(38327);class p{}p.ɵfac=function(e){return new(e||p)},p.ɵmod=h.oA({type:p}),p.ɵinj=d.cJ({imports:[i.e,s.Bz,o.W,a.F,l.L,r.z,c.aw,g.N,u.o]})},79144:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var i=n(68624),s=n(7231),o=n(35648),a=n(25583),r=n(25626),l=n(86948),u=n(77880),g=n(90962),c=n(13691),h=n(38327);class d{}d.ɵfac=function(e){return new(e||d)},d.ɵmod=c.oA({type:d}),d.ɵinj=h.cJ({imports:[i.U,s.r,r.F,o.A,a.r,g.k,l.F,u.j]})},42983:(e,t,n)=>{"use strict";n.d(t,{nP:()=>a,_J:()=>r._,No:()=>l.N,$9:()=>d});var i=n(38707),s=n(13691),o=n(38327);class a{}a.ɵfac=function(e){return new(e||a)},a.ɵmod=s.oA({type:a}),a.ɵinj=o.cJ({imports:[i.s]});var r=n(4503),l=n(79144),u=n(45943);class g{}g.ɵfac=function(e){return new(e||g)},g.ɵmod=s.oA({type:g}),g.ɵinj=o.cJ({imports:[u.z]});var c=n(14669),h=n(18567);class d{}d.ɵfac=function(e){return new(e||d)},d.ɵmod=s.oA({type:d}),d.ɵinj=o.cJ({imports:[r._,h.$u,c.V]})},64527:(e,t,n)=>{"use strict";n.d(t,{l:()=>m,g:()=>u});var i=n(57466),s=n(86463),o=n(26571),a=n(11776),r=n(55845),l=n(38327);class u{constructor(e,t){this._storage=t,this._settings=this._storage.get(),this._settingsDebugging=this._storage.getDebugging(),this._settingsLogging=this._storage.getLogging(),this._settingsChangeSubject=new s.x,this._settingsDebuggingChangeSubject=new s.x,this._settingsValueDiff=e.find(this._settings).create(),this._settingsValueDiff.diff(this._settings),this._settingsDebuggingValueDiff=e.find(this._settingsDebugging).create(),this._settingsDebuggingValueDiff.diff(this._settingsDebugging)}get settings(){return this._settings}get settingsDebugging(){return this._settingsDebugging}get settingsLogging(){return this._settingsLogging}get settingsChange(){return this._settingsChangeSubject.asObservable()}get settingsDebuggingChange(){return this._settingsDebuggingChangeSubject.asObservable()}setSettings(e){this._settings=(0,i.l7)(!0,{},this._settings,e),this._storage.set(e);const t=this._settingsValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsChangeSubject.next(e.key)}))}setDebuggingSettings(e){this._settingsDebugging=(0,i.l7)(!0,{},this._settingsDebugging,e),this._storage.setDebugging(e);const t=this._settingsDebuggingValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsDebuggingChangeSubject.next(e.key)}))}setLoggingSettings(e){this._settingsLogging=(0,i.l7)(!0,{},this._settingsLogging,e),this._storage.setLogging(e)}}u.ɵfac=function(e){return new(e||u)(a.LF(r.a),a.LF(o.L))},u.ɵprov=l.Yz({token:u,factory:u.ɵfac,providedIn:"root"});var g=n(49108),c=n.n(g),h=n(87667);const d="general-settings",p="debugging-settings",v="logging-settings";class m{get(){let e=c().get(d);return e=(0,i.l7)(!0,{},{theme:h.v.general.theme,language:h.v.general.language},e),e}set(e){c().set(d,e)}getDebugging(){let e=c().get(p);return e=(0,i.l7)(!0,{},{consoleEnabled:h.v.debug.consoleEnabled,debugData:h.v.debug.debugData},e),e}setDebugging(e){c().set(p,e)}getLogging(){let e=c().get(v);return e=(0,i.l7)(!0,{},{consoleLogLevel:h.v.logging.consoleLogLevel},e),e}setLogging(e){c().set(v,e)}}m.ɵfac=function(e){return new(e||m)},m.ɵprov=l.Yz({token:m,factory:m.ɵfac})},6552:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var i=n(22206);function s(e){return(0,i.R)(e,"relationsEditorMetadata")}},36759:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(86463);function s(){return function(e,t){const n=t;Object.defineProperty(e,`${n}Change`,{get:function(){return this[`ɵ${n}Change`]||(this[`ɵ${n}Change`]=new i.x),this[`ɵ${n}Change`]}}),Object.defineProperty(e,n,{get:function(){return this[`ɵ${n}`]},set:function(e){this[`ɵ${n}`]=e,this[`${n}Change`].next()}})}}},20809:(e,t,n)=>{"use strict";n.d(t,{B6:()=>o,TZ:()=>a,te:()=>r,u7:()=>s});var i=n(40296);const s=new i.O("RELATIONS_COMPONENTS_MODULE_DATA_EXTRACTORS"),o=new i.O("RELATIONS_COMPONENTS_MODULE_PROVIDERS"),a=new i.O("RELATIONS_COMPONENTS_LOADER"),r=new i.O("RELATIONS_METADATA_STORAGE")},86485:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var i=n(46480),s=n(11776),o=n(38327);class a{constructor(e){this._logger=e,this._components={}}ngOnDestroy(){}registerComponent(e,t){this._components[e]?this._logger?.warn(`RelationsComponentManager: Component with id '${e}' is already registered, provide unique id.`):this._components[e]=t}unregisterComponent(e){this._components[e]?delete this._components[e]:this._logger?.warn(`RelationsComponentManager: Component with id '${e}' has already been unregistered.`)}get(e){return this._components[e]}}a.ɵfac=function(e){return new(e||a)(s.LF(i.bZ,8))},a.ɵprov=o.Yz({token:a,factory:a.ɵfac})},75990:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(86463),s=n(38327);class o{constructor(){this._relations=[],this._relationsChange=new i.x}get relations(){return this._relations}get relationsChange(){return this._relationsChange.asObservable()}setRelations(e){this._relations!=e&&(this._relations=e,this._relationsChange.next())}}o.ɵfac=function(e){return new(e||o)},o.ɵprov=s.Yz({token:o,factory:o.ɵfac})},96130:(e,t,n)=>{"use strict";n.d(t,{v:()=>v});var i=n(46480),s=n(43939),o=n(23199),a=n(28653),r=n(20809),l=n(11776),u=n(95176),g=n(38327),c=n(75990),h=n(86485);function d(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){d(o,i,s,a,r,"next",e)}function r(e){d(o,i,s,a,r,"throw",e)}a(void 0)}))}}class v{constructor(e,t,n,i,a){this._relationsManager=e,this._componentManager=t,this.injector=n,this._loader=i,this._logger=a,this._initialized=Promise.resolve(),this._resolveInitialized=s.ZT,this._initSubscriptions=new o.w0,this._relations={},this._backwardRelations={},this._initSubscriptions.add(this._relationsManager.relationsChange.subscribe((()=>this.initializeRelations()))),this.initializeRelations()}get initialized(){return this._initialized}ngOnDestroy(){this._initSubscriptions.unsubscribe(),this.destroyRelations()}updateRelations(e){this._logger?.debug("RelationsProcessor: Updating relations for {@id}",{id:e});const t=this._relations[e],n=this._backwardRelations[e];let i=this._componentManager.get(e);if(t&&i){if(this.initOptions(i,t),n?.length&&n.forEach((e=>{this.initBackwardRelation(e)})),t?.inputOutputs){Array.isArray(i)||(i=[i]),t.outputsChangeSubscriptions?.forEach((e=>e.unsubscribe())),t.outputsChangeSubscriptions=[];for(const n of t.inputOutputs){let s=this._componentManager.get(n.inputComponentId);s&&!Array.isArray(s)&&(s=[s]),this._logger?.verbose("RelationsProcessor: processing input outputs {@data} ",{id:e,inputOutput:n,inputComponents:s,components:i});for(const e of i){const i=e[`${n.outputName}Change`];if(i instanceof a.y)if(t.outputsChangeSubscriptions.push(i.subscribe((()=>{let t=this._componentManager.get(n.inputComponentId);if(t){Array.isArray(t)||(t=[t]);for(const i of t)this.transferData(e,n.outputName,i,n.inputName,!1)}else this._logger?.warn("RelationsProcessor: Missing input components {@data} on output change",n)}))),s&&Array.isArray(s))for(const t of s)n.initialized||(n.initialized=this.transferData(e,n.outputName,t,n.inputName,!0));else this._logger?.warn("RelationsProcessor: Missing input components {@data}",n);else this._logger?.warn("RelationsProcessor: Output on component {@data} is not observable",n)}}}}else this._logger?.warn("RelationsProcessor: No relations for {@id}",{id:e})}destroyComponent(e){const t=this._relations[e],n=this._backwardRelations[e];if(n)for(const e of n)e.initialized=!1;if(t){if(t.outputsChangeSubscriptions.forEach((e=>e.unsubscribe())),t.outputsChangeSubscriptions=[],t.optionsInitialized=!1,t.inputOutputs&&Array.isArray(t.inputOutputs))for(const e of t.inputOutputs)e.initialized=!1;if(t.autoCreated){let t=this._componentManager.get(e);if(!t)return;Array.isArray(t)||(t=[t]),this._componentManager.unregisterComponent(e);for(const e of t)e.ngOnDestroy?.()}}}initializeRelations(){var e=this;return p((function*(){if(yield e.destroyRelations(),e.setInitializePromise(),e._logger?.debug("RelationsProcessor: initializing relations"),e._relationsManager.relations.length){for(const t of e._relationsManager.relations){const n=[];if(t.outputs){for(const i of t.outputs)if(i.inputs)for(const s of i.inputs){const o={inputComponentId:s.id,outputComponentId:t.id,inputName:s.inputName,outputName:i.outputName,initialized:!1};n.push(o),e._backwardRelations[s.id]||(e._backwardRelations[s.id]=[]),e._backwardRelations[s.id].push(o)}yield e.initComponent(t,n)}}e._resolveInitialized()}else e._resolveInitialized()}))()}initBackwardRelation(e){let t=this._componentManager.get(e.outputComponentId),n=this._componentManager.get(e.inputComponentId);if((0,s.fp)(t)||Array.isArray(t)&&!t.length||(0,s.fp)(n)||Array.isArray(n)&&!n.length)this._logger?.warn("RelationsProcessor: missing metadata for backward relations {@data}",e);else{Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]);for(const i of n)for(const n of t)e.initialized||(e.initialized=this.transferData(n,e.outputName,i,e.inputName,!0))}}transferData(e,t,n,i,s){if(!e||!n)return!1;const o=n[i],a=e[t];n[i]=e[t];const r={};return r[i]={previousValue:o,currentValue:a,firstChange:s,isFirstChange:()=>s},n.ngOnChanges?.(r),n.invalidateVisuals(),!0}initComponent(e,t){var n=this;return p((function*(){if(n._componentManager.get(e.id))return n.initRelation(!1,e,t),void n.updateRelations(e.id);const i=yield n._loader.loadItem(e);if(!i)return n.initRelation(!1,e,t),void n._logger?.warn("RelationsProcessor: Unable to load relations component! {@meta}",{package:e.package,name:e.name});const s=new i.data(n.injector);n._componentManager.registerComponent(e.id,s),n.initRelation(!0,e,t),n.updateRelations(e.id)}))()}initRelation(e,t,n){this._relations[t.id]={autoCreated:e,inputOutputs:n,outputsChangeSubscriptions:[],optionsInitialized:!1,metadataOptions:t.relationsOptions}}initOptions(e,t){if(!t.optionsInitialized)if(t.optionsInitialized=!0,Array.isArray(e))for(const n of e)n.relationsOptions=t.metadataOptions;else e.relationsOptions=t.metadataOptions}setInitializePromise(){this._initialized=new Promise((e=>this._resolveInitialized=e))}destroyRelations(){var e=this;return p((function*(){yield e._initialized,Object.keys(e._relations).forEach((t=>e.destroyComponent(t))),e._relations={},e._backwardRelations={}}))()}}v.ɵfac=function(e){return new(e||v)(l.LF(c.N),l.LF(h.s),l.LF(u.z),l.LF(r.TZ),l.LF(i.bZ,8))},v.ɵprov=g.Yz({token:v,factory:v.ɵfac})},22206:(e,t,n)=>{"use strict";function i(e,t){return ngDesignerMetadata?function(n){return n[t]=e(),n}:function(e){return e}}n.d(t,{R:()=>i})},13457:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,Q:()=>s});var i=n(40296);const s=new i.O("METADATA_STATE_MANAGER"),o=new i.O("PACKAGE_SOURCES")},56454:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(98084),s=n(86463),o=n(11776),a=n(38327),r=n(39969);class l{constructor(e){this.hotkeys=e,this.undoSubject=new s.x,this.redoSubject=new s.x,this.newSubject=new s.x,this.saveSubject=new s.x}get undo(){return this.undoSubject.asObservable()}get redo(){return this.redoSubject.asObservable()}get new(){return this.newSubject.asObservable()}get save(){return this.saveSubject.asObservable()}destroy(){this.hotkeys.destroy()}init(){this.hotkeys.hotkeys.add(new i.q("ctrl+s",(()=>(this.saveSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits save event")),this.hotkeys.hotkeys.add(new i.q("ctrl+z",(()=>(this.undoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits undo event")),this.hotkeys.hotkeys.add(new i.q("ctrl+y",(()=>(this.redoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits redo event")),this.hotkeys.hotkeys.add(new i.q("ctrl+n",(()=>(this.newSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits new event"))}}l.ɵfac=function(e){return new(e||l)(o.LF(r.H))},l.ɵprov=a.Yz({token:l,factory:l.ɵfac})}}]);
//# sourceMappingURL=8602.chunk.97fa5043bcff48ea744c.js.map