"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6305],{96305:(e,t,n)=>{n.r(t),n.d(t,{StyleBlockLayoutEditorMetadata:()=>r});var o=n(9456);const i=new(n(87552).y)("css","css",(e=>e.getModel()?.getValue()??""));var a=n(73943);class s{constructor(e){this.style="",a.Rl.bind(this)(e)}}class r{constructor(){this.metaInfo={name:"Style",description:"Style block - allows styling of content",group:"Layout",optionsMetadata:{propertiesMetadata:[{modelType:s,propertiesControls:[(0,o.R)("style",i)]}]}},this.addDescendant=(e,t)=>{t.content=e},this.canDropMetadata=e=>!e?.content,this.removeDescendant=(e,t)=>{t.content=null},Object.freeze(this)}}},9456:(e,t,n)=>{n.d(t,{R:()=>x});var o=n(58418),i=n(65206),a=n(93917),s=n(73943),r=n(12009),c=n(57399),l=n(80033),d=n(49276),u=n(85410),p=n(5327),h=n(78190),g=n(88809),m=n(13315),f=n(43335),v=n(95741),y=n(57284),M=n(13757),C=n(46735),b=n(87003),w=n(46363);function E(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}class k extends c.k{constructor(e,t,n){super(e,t),this.dialog=n}showCodeEditor(){var e,t=this;return(e=function*(){if((0,s.fp)(t.property)||!t.languageModel)return;const e=yield(0,r.n)(t.dialog.open(a.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:t.form?.get(t.property)?.value??"",languageModel:t.languageModel}}).afterClosed());if((0,s.EN)(e)){const n=t.form?.get(t.property);n instanceof o.NI&&n.setValue(e.content)}},function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){E(a,o,i,s,r,"next",e)}function r(e){E(a,o,i,s,r,"throw",e)}s(void 0)}))})()}}function x(e,t){class n extends k{constructor(){super(...arguments),this.property=e,this.languageModel=t}}return n.ɵfac=(()=>{let e;return function(t){return(e||(e=C.n5(n)))(t||n)}})(),n.ɵcmp=u.Xp({type:n,selectors:[["code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[p.q,h.j],decls:8,vars:4,consts:[[1,"properties-form-group","ng-star-inserted"],[1,"properties-control-label"],[1,"properties-form-actions"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary","dynamic-margin-vertical-small",3,"click"]],template:function(e,t){1&e&&(g.Tg(0,"div",0)(1,"label",1),m._(2," "),g.qZ(),g.Tg(3,"div",2)(4,"button",3),f.N("click",(function(){return t.showCodeEditor()})),g.Tg(5,"span"),m._(6),v.AL(7,"firstUppercaseLocalize"),g.qZ()()()()),2&e&&(y.x(6),M.As("",v.lc(7,2,"edit")," ",t.property,""))},dependencies:[i.R],encapsulation:2,changeDetection:0}),n}k.ɵfac=function(e){return new(e||k)(l.Y(d.s),l.Y(b.T),l.Y(w.J))},k.ɵcmp=u.Xp({type:k,selectors:[["base-code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[p.q,h.j],decls:8,vars:4,consts:[[1,"properties-form-group","ng-star-inserted"],[1,"properties-control-label"],[1,"properties-form-actions"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary","dynamic-margin-vertical-small",3,"click"]],template:function(e,t){1&e&&(g.Tg(0,"div",0)(1,"label",1),m._(2," "),g.qZ(),g.Tg(3,"div",2)(4,"button",3),f.N("click",(function(){return t.showCodeEditor()})),g.Tg(5,"span"),m._(6),v.AL(7,"firstUppercaseLocalize"),g.qZ()()()()),2&e&&(y.x(6),M.As("",v.lc(7,2,"edit")," ",t.property,""))},dependencies:[i.R],encapsulation:2,changeDetection:0})},57399:(e,t,n)=>{n.d(t,{k:()=>l});var o=n(80033),i=n(49276),a=n(85410),s=n(87003);function r(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}class l{constructor(e,t){this._changeDetector=e,this._extractor=t,this._initialized=!1,this.propertiesMetadata=null}ngOnInit(){var e=this;return c((function*(){e._initialized||(e._initialized=!0,yield e._initialize())}))()}initialize(){var e=this;return c((function*(){yield e.ngOnInit()}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}}l.ɵfac=function(e){return new(e||l)(o.Y(i.s),o.Y(s.T))},l.ɵdir=a.lG({type:l,inputs:{form:"form",propertiesMetadata:"propertiesMetadata"}})},93917:(e,t,n)=>{n.d(t,{I:()=>T});var o=n(69363),i=n(80033),a=n(85410),s=n(88731),r=n(88809),c=n(43335),l=n(13315),d=n(95741),u=n(32603),p=n(26116),h=n(10065),g=n(57284),m=n(13757),f=n(52552),v=n(45148),y=n(52038),M=n(73943),C=n(36893);(0,M.yJ)((e=>{(0,M.fp)(e.ngDynamicMonacoPath)&&(e.ngDynamicMonacoPath="dist")})),self.MonacoEnvironment={getWorkerUrl:function(e,t){return"json"===t?"dist/json.worker.js":"css"===t||"scss"===t||"less"===t?"dist/css.worker.js":"html"===t||"handlebars"==t?"dist/html.worker.js":"typescript"===t||"javascript"===t?"dist/ts.worker.js":"dist/editor.worker.js"}};const b={target:C.Mj.typescript.ScriptTarget.ES2020,module:C.Mj.typescript.ModuleKind.CommonJS,moduleResolution:C.Mj.typescript.ModuleResolutionKind.NodeJs,allowNonTsExtensions:!0,removeComments:!0,noEmitOnError:!0,noImplicitAny:!0,noImplicitReturns:!0,noImplicitOverride:!0,noImplicitThis:!0,noUnusedLocals:!0,noUnusedParameters:!0,strict:!0,strictNullChecks:!0,esModuleInterop:!0,newLine:C.Mj.typescript.NewLineKind.LineFeed,typeRoots:["node_modules/@types"]};C.Mj.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),C.Mj.typescript.typescriptDefaults.setCompilerOptions(b);var w=n(25413),E=n(56949);function k(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){k(a,o,i,s,r,"next",e)}function r(e){k(a,o,i,s,r,"throw",e)}s(void 0)}))}}class D{constructor(e){this.element=e,this.codeEditor=null,this.openedFile=null,this.changeEvent=null,this.save=new y.v,this.contentChange=new y.v}ngOnChanges(e){(0,M.$0)("languageModel")in e&&this.languageModel&&(0,M.$0)("content")in e&&(0,M.EN)(this.content)&&this.updateContent()}ngAfterViewInit(){this.createEditor()}saveContent(){var e=this;return x((function*(){e.openedFile&&e.codeEditor&&e.languageModel&&e.save.emit({content:e.openedFile.getValue(),code:yield e.languageModel.compiledCode(e.codeEditor)})}))()}ngOnDestroy(){this.changeEvent?.dispose(),this.changeEvent=null,this.openedFile?.dispose(),this.openedFile=null,this.codeEditor?.dispose(),this.codeEditor=null}createEditor(){var e=this;this.codeEditor=C.j6.create(this.element.nativeElement,{theme:"vs-dark",model:this.openedFile,lightbulb:{enabled:!0},bracketPairColorization:{enabled:!0},minimap:{enabled:!0}}),this.codeEditor.addCommand(C.DC.CtrlCmd|C.VD.KeyS,(()=>{this.saveContent()})),this.changeEvent=this.codeEditor.onDidChangeModelContent(x((function*(){e.openedFile&&e.languageModel&&e.codeEditor&&e.contentChange.emit({content:e.openedFile.getValue(),code:yield e.languageModel.compiledCode(e.codeEditor)})})))}updateContent(){this.openedFile?.dispose(),this.openedFile=null,this.languageModel&&!(0,M.fp)(this.content)&&(this.openedFile=C.j6.createModel((this.content||this.languageModel.initialData)??"",this.languageModel.language,C.Sf.file(`file:///index.${this.languageModel.extension}`)),this.codeEditor?.setModel(this.openedFile))}}D.monacoInit=!0,D.ɵfac=function(e){return new(e||D)(i.Y(w.SB))},D.ɵcmp=a.Xp({type:D,selectors:[["code-editor"]],inputs:{content:"content",languageModel:"languageModel"},outputs:{save:"save",contentChange:"contentChange"},features:[E.T],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});var j=n(65206);function _(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}class T{constructor(e,t){this.data=e,this.dialog=t,this.editorContent=null}saveAndClose(e){var t,n=this;return(t=function*(){yield e.saveContent(),n.dialog.close(n.editorContent)},function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(e){_(a,o,i,s,r,"next",e)}function r(e){_(a,o,i,s,r,"throw",e)}s(void 0)}))})()}}T.ɵfac=function(e){return new(e||T)(i.Y(o.m),i.Y(f.s))},T.ɵcmp=a.Xp({type:T,selectors:[["code-editor-dialog"]],decls:11,vars:9,consts:[[2,"height","calc(70vh - 46px)","width","calc(75vw - 20px)",3,"content","languageModel","save"],["editor",""],[1,"dynamic-flex-row","dynamic-flex-end","dynamic-action-buttons"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=s.E();r.Tg(0,"code-editor",0,1),c.N("save",(function(e){return t.editorContent=e})),r.qZ(),r.Tg(2,"div",2)(3,"button",3)(4,"span"),l._(5),d.AL(6,"firstUppercaseLocalize"),r.qZ()(),r.Tg(7,"button",4),c.N("click",(function(){u.CH(e);const n=p.M(1);return u.Kt(t.saveAndClose(n))})),r.Tg(8,"span"),l._(9),d.AL(10,"firstUppercaseLocalize"),r.qZ()()()}2&e&&(h.Q("content",t.data.content)("languageModel",t.data.languageModel),g.x(3),h.Q("mat-dialog-close",null),g.x(2),m.Oq(d.lc(6,5,"cancel")),g.x(4),m.Oq(d.lc(10,7,"ok")))},dependencies:[v.ZT,D,j.R],encapsulation:2,changeDetection:0})},87552:(e,t,n)=>{n.d(t,{y:()=>o});class o{constructor(e,t,n,o){this.language=e,this.extension=t,this.compiledCode=n,this.initialData=o}}}}]);
//# sourceMappingURL=6305.chunk.8e754fbc2d1902bfa6b6.js.map