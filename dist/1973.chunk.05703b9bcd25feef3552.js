(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[1973],{31203:(e,t,a)=>{"use strict";a.r(t),a.d(t,{LayoutEditorModule:()=>D});var s=a(14392),n=a(89001),i=a(11650),r=a(40921),o=a(45529),c=a(56179),u=a(99043),d=a(57489),l=a(8477),g=a(22804),h=a(17505),p=a(30688),m=a(94761),f=a(44055),v=a(71785),y=a(57466),k=a(27049),b=a(85638),x=a(89952),P=a(79440),w=a(77842),_=a(80827),I=a(72891),F=a(41853),S=a(66794),C=a(73301),O=a(35218),N=a(86825);let M=class{constructor(e,t){this.store=e,this.history=t,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,y.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(e){return e}_loadDemo(){this._metadata=b.F.demoLayout}};M.ɵfac=function(e){return new(e||M)(P.Y(x.U),P.Y(v.dB))},M.ɵcmp=w.Xp({type:M,selectors:[["layout-editor-view"]],decls:6,vars:4,consts:[[1,"flex-row"],["routePath","/layout/editor",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(e,t){1&e&&(_.Tg(0,"div",0)(1,"load-save-new",1),I.N("metadataChange",(function(e){let a;return t._metadata=null!==(a=e)&&void 0!==a?a:t.emptyMetadata})),_.qZ(),_.Tg(2,"button",2),I.N("click",(function(){return t._loadDemo()})),_.Tg(3,"span"),F._(4,"demo"),_.qZ()()(),_._U(5,"layout-editor",3)),2&e&&(S.x(1),C.Q("store",t.store)("getMetadataCallback",t._getMetadata)("history",t.history),S.x(4),C.Q("metadata",t._metadata))},dependencies:[O.Z,N.Q],encapsulation:2,changeDetection:0}),(0,s.gn)([k.r,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object]),(0,s.w6)("design:returntype",Object)],M.prototype,"_getMetadata",null),M=(0,s.gn)([(0,m.N)({path:"editor"}),(0,m.N)({path:"editor/:id"}),(0,s.w6)("design:paramtypes",[x.U,f.Y])],M);const j=[M];var T=a(18567),Z=a(53245),U=a(77653),Y=a(38327);let D=class{};D.ɵfac=function(e){return new(e||D)},D.ɵmod=w.oA({type:D}),D.ɵinj=Y.cJ({providers:[{provide:l.qO,useFactory:e=>new g.I((t=>e.getData(t))),deps:[x.U]},(0,Z.Y)("LAYOUT_DATA"),(0,r.rj)(),(0,o.m_)(),(0,c.vQ)(),(0,u.gJ)(),(0,d.hd)(),(0,p.iS)(),{provide:h.L,useClass:U.y}],imports:[i.c.withProviders(),T.Qw]}),D=(0,s.gn)([(0,n.P)(j)],D)},38937:(e,t,a)=>{"use strict";var s;a.d(t,{Z:()=>s}),function(e){e.FormControl="FormControl",e.FormArray="FormArray",e.FormGroup="FormGroup"}(s||(s={}))},30688:(e,t,a)=>{"use strict";a.d(t,{Wm:()=>M,sx:()=>N,Hh:()=>F,iS:()=>S,I1:()=>O,pS:()=>C});var s=a(66398),n=a(17777),i=a(70625),r=a(14389),o=a(8477),c=a(71785),u=a(91861),d=a(20809),l=a(46480),g=a(11776),h=a(38327);function p(e,t,a,s,n,i,r){try{var o=e[i](r),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(s,n)}class m{constructor(e){this._logger=e}tryToGet(e){var t,s=this;return(t=function*(){if("form-components"!==e.package)return null;try{return s._logger?.debug("FormDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),yield a(54384)(`./${e.name}/type`)}catch(t){s._logger?.debug("FormDynamicModuleItemsProvider: item {@item} was not found, reason: "+t,{name:e.name,package:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(e){p(i,s,n,r,o,"next",e)}function o(e){p(i,s,n,r,o,"throw",e)}r(void 0)}))})()}}function f(e,t,a,s,n,i,r){try{var o=e[i](r),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(s,n)}m.ɵfac=function(e){return new(e||m)(g.LF(l.bZ,8))},m.ɵprov=h.Yz({token:m,factory:m.ɵfac});class v{constructor(e){this._logger=e}tryToGet(e){var t,s=this;return(t=function*(){try{return s._logger?.debug("FormDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),"form-components"===e.package?yield a.e(6311).then(a.bind(a,16311)):null}catch(t){s._logger?.debug("FormDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(e){f(i,s,n,r,o,"next",e)}function o(e){f(i,s,n,r,o,"throw",e)}r(void 0)}))})()}}function y(e,t,a,s,n,i,r){try{var o=e[i](r),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(s,n)}v.ɵfac=function(e){return new(e||v)(g.LF(l.bZ,8))},v.ɵprov=h.Yz({token:v,factory:v.ɵfac});class k{constructor(e){this._logger=e}tryToGet(e){var t,s=this;return(t=function*(){try{return s._logger?.debug("FormDynamicModuleRelationsProvider: trying to get relations types for module {@module}",{moduleName:e.package}),"form-components"===e.package?yield a.e(5737).then(a.bind(a,75737)):null}catch(t){s._logger?.debug("FormDynamicModuleRelationsProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(e){y(i,s,n,r,o,"next",e)}function o(e){y(i,s,n,r,o,"throw",e)}r(void 0)}))})()}}k.ɵfac=function(e){return new(e||k)(g.LF(l.bZ,8))},k.ɵprov=h.Yz({token:k,factory:k.ɵfac});const b={provide:o.Aw,useClass:m,multi:!0},x={provide:c.sc,useClass:v,multi:!0},P={provide:u.GP,useClass:k,multi:!0},w={provide:u.n7,useClass:m,multi:!0},_={provide:d.B6,useClass:m,multi:!0};var I=a(38937);function F(){return[b]}function S(){return[b,x,(0,r.XW)("form-components")]}function C(){return[P,w,(0,r.XW)("form-components"),...F()]}function O(){return[...F(),_]}function N(e,t,a=I.Z.FormControl,s){return t&&e?t.get(e)??M(a,s):M(a,s)}function M(e,t){switch(e){case I.Z.FormArray:return new s.Oe([]);case I.Z.FormGroup:return new n.cw(t??{});default:return new i.NI(t)}}},6535:(e,t,a)=>{"use strict";a.d(t,{X:()=>I});var s=a(80827),n=a(41853),i=a(73301),r=a(66794),o=a(6427),c=a(84773),u=a(72891),d=a(43870),l=a(6845),g=a(15686),h=a(11282),p=a(79440),m=a(77842),f=a(85320),v=a(17505),y=a(12311),k=a(21651),b=a(24881),x=a(17790);function P(e,t){if(1&e&&(s.Tg(0,"option",11),n._(1),s.qZ()),2&e){const e=t.$implicit;i.Q("value",e),r.x(1),o.Oq(e)}}function w(e,t){if(1&e){const e=c.E();s.Tg(0,"div",12)(1,"div",13),n._(2),s.qZ(),s.Tg(3,"button",8),u.N("click",(function(){const t=d.CH(e).$implicit,a=l.o(2);return d.Kt(a.removePackage(t))})),s._U(4,"span",14),s.qZ()()}if(2&e){const e=t.$implicit;r.x(2),o.Oq(e)}}function _(e,t){if(1&e){const e=c.E();s.Tg(0,"div")(1,"div",0)(2,"select",5,6),g.Y(4,P,2,2,"option",7),s.qZ(),s.Tg(5,"button",8),u.N("click",(function(){d.CH(e);const t=h.M(3),a=l.o();return d.Kt(a.addPackage(a.availablePackages[t.selectedIndex]))})),s._U(6,"span",9),s.qZ()(),g.Y(7,w,5,1,"div",10),s.qZ()}if(2&e){const e=l.o();r.x(4),i.Q("ngForOf",e.availablePackages),r.x(3),i.Q("ngForOf",e.usedPackages)}}class I{constructor(e){this.packageManager=e,this.detailVisible=!1,this.usedPackages=[],this.availablePackages=[]}ngOnInit(){this.usedPackages=this.packageManager.usedPackages,this.updatedAvailablePackages()}addPackage(e){e&&(this.usedPackages=[...this.usedPackages,e],this.updatedAvailablePackages(),this.packageManager.setUsedPackages(this.usedPackages))}removePackage(e){this.usedPackages=this.usedPackages.filter((t=>t!=e)),this.updatedAvailablePackages(),this.packageManager.setUsedPackages(this.usedPackages)}updatedAvailablePackages(){this.availablePackages=this.packageManager.packages.filter((e=>!this.usedPackages.find((t=>t==e))))}}I.ɵfac=function(e){return new(e||I)(p.Y(v.L))},I.ɵcmp=m.Xp({type:I,selectors:[["package-manager"]],decls:6,vars:5,consts:[[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-right-extra-small",3,"click"],[1,"fas"],[1,"pm-header"],[4,"ngIf"],[1,"dynamic-form-control","dynamic-flex-1"],["avPkgs",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"dynamic-btn-icon","dynamic-margin-left-extra-small",3,"click"],[1,"fas","fa-plus"],["class","dynamic-flex-row dynamic-align-items-center dynamic-margin-top-small",4,"ngFor","ngForOf"],[3,"value"],[1,"dynamic-flex-row","dynamic-align-items-center","dynamic-margin-top-small"],[1,"dynamic-flex-1"],[1,"fas","fa-times"]],template:function(e,t){1&e&&(s.Tg(0,"div",0)(1,"button",1),u.N("click",(function(){return t.detailVisible=!t.detailVisible})),s._U(2,"span",2),s.qZ(),s.Tg(3,"div",3),n._(4,"packages"),s.qZ()(),g.Y(5,_,8,2,"div",4)),2&e&&(r.x(2),f.ek("fa-plus",!t.detailVisible)("fa-minus",t.detailVisible),r.x(3),i.Q("ngIf",t.detailVisible))},dependencies:[y.s,k.O,b.YN,x.Kr],encapsulation:2,changeDetection:0})},44155:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var s=a(27052),n=a(48659),i=a(77842),r=a(38327);class o{}o.ɵfac=function(e){return new(e||o)},o.ɵmod=i.oA({type:o}),o.ɵinj=r.cJ({imports:[s.e,n.U]})},44055:(e,t,a)=>{"use strict";a.d(t,{Y:()=>c});var s=a(43939),n=a(86463),i=a(13457),r=a(11776),o=a(38327);class c{constructor(e){this.metadataState=e,this.activeIndex=null,this.saveIndex=null,this.states=[],this.enabled=!0,this.popSubject=new n.x,this.historyChangeSubject=new n.x}get canUndo(){return!(0,s.fp)(this.activeIndex)&&this.activeIndex>0}get canRedo(){return!(0,s.fp)(this.activeIndex)&&this.activeIndex+1<this.states.length}get saved(){return this.activeIndex===this.saveIndex}get pop(){return this.popSubject.asObservable()}get historyChange(){return this.historyChangeSubject.asObservable()}get state(){return(0,s.fp)(this.activeIndex)?null:JSON.parse(this.states[this.activeIndex])}undo(){this.canUndo&&!(0,s.fp)(this.activeIndex)&&(this.activeIndex--,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}redo(){this.canRedo&&!(0,s.fp)(this.activeIndex)&&(this.activeIndex++,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}getNewState(){if(!this.enabled)return;this.states.length>=200&&this.states.shift(),(0,s.EN)(this.activeIndex)&&this.activeIndex+1<this.states.length&&this.states.splice(this.activeIndex+1,this.states.length-(this.activeIndex+1));const e=this.metadataState.getMetadata();e&&(this.states.push(JSON.stringify(e)),this.activeIndex=this.states.length-1,this.historyChangeSubject.next())}save(){this.saveIndex=this.activeIndex}setInitialState(e){this.states.push(JSON.stringify(e)),this.activeIndex=this.states.length-1,this.save()}clean(){this.activeIndex=null,this.saveIndex=null,this.states=[]}enable(){this.enabled=!0}disable(){this.enabled=!1}}c.ɵfac=function(e){return new(e||c)(r.LF(i.Qh))},c.ɵprov=o.Yz({token:c,factory:c.ɵfac})},17505:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var s=a(11776),n=a(46480),i=a(23199),r=a(86463),o=a(13457);class c{constructor(e){this.storageName=e,this._usedPackages=[],this.initSubscriptions=new i.w0,this.usedPackagesSubject=new r.x,this.packagesChangeSubject=new r.x,this.store=(0,s.f3)(n.T0),this.packageSources=(0,s.f3)(o.BG),this.usedPackages=this.store.get(e)??[];for(const e of this.packageSources)this.initSubscriptions.add(e.packagesChange.subscribe((()=>this.packagesChangeSubject.next())))}get packagesChange(){return this.packagesChangeSubject.asObservable()}get packages(){const e=[];for(const t of this.packageSources)e.push(...t.packages);return e}get usedPackages(){return this._usedPackages}set usedPackages(e){this._usedPackages=e}get usedPackagesChange(){return this.usedPackagesSubject.asObservable()}setUsedPackages(e){this._usedPackages!=e&&(this._usedPackages=e,this.store.set(this.storageName,e),this.usedPackagesSubject.next())}refresh(){for(const e of this.packageSources)e.refresh()}destroy(){this.initSubscriptions.unsubscribe()}}},54384:(e,t,a)=>{var s={"./checkbox/type":[34757,4757],"./datepicker/type":[96425,6425],"./formGroup/type":[70613,613],"./numberField/type":[90560,560],"./period/type":[13487,3487],"./radio/type":[41197,1197],"./select/type":[98746,8746],"./textField/type":[80477,477],"./textarea/type":[25552,5552]};function n(e){if(!a.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return a.e(t[1]).then((()=>a(n)))}n.keys=()=>Object.keys(s),n.id=54384,e.exports=n}}]);
//# sourceMappingURL=1973.chunk.05703b9bcd25feef3552.js.map