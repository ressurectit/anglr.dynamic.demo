(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[8602],{25048:(e,t,n)=>{var i={"./en.json":[79587,9587],"./sk.json":[5930,5930]};function s(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return n.e(t[1]).then((()=>n.t(s,19)))}s.keys=()=>Object.keys(i),s.id=25048,e.exports=s},18567:(e,t,n)=>{"use strict";n.d(t,{Qw:()=>s.Q,mx:()=>o.m,oK:()=>a.o,$u:()=>Z});var i,s=n(86825),o=n(43747),a=n(31619),r=n(23347),l=n(87667),c=n(64527),u=n(4503),g=n(79144),h=n(80827),d=n(65589),p=n(73301),m=n(41853),v=n(15686),f=n(6845),b=n(66794),_=n(6427),y=n(79440),C=n(13691),w=n(82568),O=n(72891),S=n(85320),k=n(73612),x=n(77470),R=n(86170),L=n(66163),I=n(57292),D=n(35100),P=n(12311),T=n(21651),A=n(64421),M=n(98557),N=n(4489),E=n(68965),z=n(31686);function V(e,t){if(1&e&&(h._U(0,"ng-option",11),d.AL(1,"translate")),2&e){const e=t.$implicit;p.Q("text",d.lc(1,2,e))("value",e)}}function F(e,t){if(1&e&&h._U(0,"ng-option",11),2&e){const e=t.$implicit;p.Q("text",null==e?null:e.name)("value",null==e?null:e.lang)}}function j(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),m._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",8),v.Y(6,V,2,4,"ng-option",9),h.qZ()(),h.Tg(7,"div",7),m._(8),d.AL(9,"translate"),h.qZ(),h.Tg(10,"div")(11,"ng-select",10),v.Y(12,F,1,2,"ng-option",9),h.qZ()()()),2&e){const e=f.o();p.Q("formGroup",e.generalSettingsForm),b.x(2),_.Oq(d.lc(3,5,"theme")),b.x(4),p.Q("ngForOf",e.themes),b.x(2),_.Oq(d.lc(9,7,"language")),b.x(4),p.Q("ngForOf",e.languages)}}function q(e,t){if(1&e&&h._U(0,"ng-option",11),2&e){const e=t.$implicit;p.Q("text",null==e?null:e.name)("value",null==e?null:e.value)}}function U(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),m._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",12),v.Y(6,q,1,2,"ng-option",9),h.qZ()()()),2&e){const e=f.o();p.Q("formGroup",e.loggingSettingsForm),b.x(2),_.Oq(d.lc(3,3,"console log")),b.x(4),p.Q("ngForOf",e.logLevels)}}function Y(e,t){if(1&e&&(h.Tg(0,"div",6)(1,"div",7),m._(2),d.AL(3,"translate"),h.qZ(),h.Tg(4,"div"),h._U(5,"mat-slide-toggle",13),h.qZ(),h.Tg(6,"div",7),m._(7),d.AL(8,"translate"),h.qZ(),h.Tg(9,"div"),h._U(10,"mat-slide-toggle",14),h.qZ()()),2&e){const e=f.o();p.Q("formGroup",e.debuggingSettingsForm),b.x(2),_.Oq(d.lc(3,3,"console")),b.x(5),_.Oq(d.lc(8,5,"debug data"))}}!function(e){e[e.General=0]="General",e[e.Logging=1]="Logging",e[e.Debugging=2]="Debugging"}(i||(i={}));class Z{constructor(e,t,n,s){this.themes=l.v.configuration.themes,this.languages=l.v.configuration.languages,this.logLevels=[],this.activeSection=i.General,this.UserSettingsSections=i;const o=e.settings,a=e.settingsDebugging,c=e.settingsLogging;this._getLogLevels(),this.generalSettingsForm=t.group({language:o.language,theme:o.theme}),this.debuggingSettingsForm=t.group({consoleEnabled:a.consoleEnabled,debugData:a.debugData}),this.loggingSettingsForm=t.group({consoleLogLevel:r.ke[c.consoleLogLevel]}),this.generalSettingsForm.valueChanges.subscribe((t=>{e.setSettings(t)})),this.debuggingSettingsForm.valueChanges.subscribe((t=>{s.setEnabled(t.debugData),e.setDebuggingSettings(t)})),this.loggingSettingsForm.valueChanges.subscribe((t=>{n.restrictToLevel=+t.consoleLogLevel,e.setLoggingSettings({consoleLogLevel:r.ke[+t.consoleLogLevel]})}))}_getLogLevels(){Object.keys(r.ke).forEach((e=>{isNaN(+e)||this.logLevels.push({name:r.ke[e],value:e})}))}}Z.ɵfac=function(e){return new(e||Z)(y.Y(c.g),y.Y(k.qu),y.Y(I.b),y.Y(D.H))},Z.ɵcmp=C.Xp({type:Z,selectors:[["user-settings"]],standalone:!0,features:[w.j],decls:20,vars:18,consts:[[1,"flex-column","settings-menu"],[1,"btn-line",3,"click"],[1,"fas","fa-cog"],[1,"fas","fa-pen"],[1,"fas","fa-bug"],["class","settings-items",3,"formGroup",4,"ngIf"],[1,"settings-items",3,"formGroup"],[1,"text-capitalize"],["formControlName","theme"],[3,"text","value",4,"ngFor","ngForOf"],["formControlName","language"],[3,"text","value"],["formControlName","consoleLogLevel"],["formControlName","consoleEnabled"],["formControlName","debugData"]],template:function(e,t){1&e&&(h.Tg(0,"div",0)(1,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.General})),h._U(2,"span",2),h.Tg(3,"span"),m._(4),d.AL(5,"translate"),h.qZ()(),h.Tg(6,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.Logging})),h._U(7,"span",3),h.Tg(8,"span"),m._(9),d.AL(10,"translate"),h.qZ()(),h.Tg(11,"a",1),O.N("click",(function(){return t.activeSection=t.UserSettingsSections.Debugging})),h._U(12,"span",4),h.Tg(13,"span"),m._(14),d.AL(15,"translate"),h.qZ()()(),h.Tg(16,"div"),v.Y(17,j,13,9,"div",5),v.Y(18,U,7,5,"div",5),v.Y(19,Y,11,7,"div",5),h.qZ()),2&e&&(b.x(1),S.ek("active",t.activeSection==t.UserSettingsSections.General),b.x(3),_.Oq(d.lc(5,12,"general")),b.x(2),S.ek("active",t.activeSection==t.UserSettingsSections.Logging),b.x(3),_.Oq(d.lc(10,14,"logging")),b.x(2),S.ek("active",t.activeSection==t.UserSettingsSections.Debugging),b.x(3),_.Oq(d.lc(15,16,"debug")),b.x(3),p.Q("ngIf",t.activeSection==t.UserSettingsSections.General),b.x(1),p.Q("ngIf",t.activeSection==t.UserSettingsSections.Logging),b.x(1),p.Q("ngIf",t.activeSection==t.UserSettingsSections.Debugging))},dependencies:[u._,P.s,T.O,A.X,g.N,x.JJ,x.JL,R.s,L.u,M.Rr,N.x,E.w,z.v],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}.settings-menu[_ngcontent-%COMP%]{width:120px;font-size:1.1em;margin-right:48px}.settings-menu[_ngcontent-%COMP%]   span[class^=fa][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=fas][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=glyphicon][_ngcontent-%COMP%]{margin-right:10px}.settings-items[_ngcontent-%COMP%]{width:300px;display:grid;grid-template-columns:auto 160px;grid-template-rows:auto;column-gap:10px;row-gap:4px;align-items:center}"],changeDetection:0})},86825:(e,t,n)=>{"use strict";n.d(t,{Q:()=>F});var i=n(74445),s=n(27052),o=n(70625),a=n(68624),r=n(35648),l=n(13457),c=n(57466),u=n(23199),g=n(40043),h=n(80827),d=n(73301),p=n(4477),m=n(41853),v=n(6845),f=n(66794),b=n(79440),_=n(68961),y=n(13691),C=n(82568),w=n(15686),O=n(72891),S=n(23710),k=n(15467),x=n(56454),R=n(49280),L=n(70983),I=n(77470),D=n(27635),P=n(4489),T=n(68965),A=n(31686),M=n(12311),N=n(21651);function E(e,t){if(1&e&&h._U(0,"ng-option",9),2&e){const e=t.$implicit;d.Q("value",e)("text",e)}}function z(e,t){1&e&&(p.yn(0),m._(1,"*"),p.BQ())}function V(e,t){if(1&e&&(h.Tg(0,"label",10),h._U(1,"input",11),m._(2," component"),h.qZ()),2&e){const e=v.o();f.x(1),d.Q("formControl",e._component)}}class F{constructor(e,t,n,s,a,r){this._router=e,this._route=t,this._metaManager=n,this._changeDetector=s,this._customComponentsRegister=a,this._hotkeys=r,this._metadata=null,this._available=new o.NI(""),this._component=new o.NI(!1),this._name=new o.NI(null),this._availableNames=[],this.initSubscriptions=new u.w0,this.history=null,this.componentMarking=!1,this.metadataChange=new i.v}ngOnInit(){this.componentMarking&&(this._available.valueChanges.subscribe((e=>{if(!e)return;const t=this._customComponentsRegister?.getRegisteredComponents();this._component.setValue(t.indexOf(e)>=0,{emitEvent:!1})})),this._component.valueChanges.subscribe((()=>this._customComponentsRegister?.toggleRegisteredComponent(this._available.value)))),this._hotkeys&&(this.initSubscriptions.add(this._hotkeys.save.subscribe((()=>this._save()))),this.initSubscriptions.add(this._hotkeys.new.subscribe((()=>this._new())))),this.history&&(this.initSubscriptions.add(this.history.historyChange.subscribe((()=>this._changeDetector.detectChanges()))),this.initSubscriptions.add(this.history.pop.subscribe((()=>this._changeDetector.detectChanges())))),this._availableNames=this.store.getStored(),this._route.params.subscribe((({id:e})=>{e?(this._name.setValue(e),this._available.setValue(e),this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata)):(this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""))}))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}_load(){this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata),this._name.setValue(this._available.value),this._router.navigate([this.routePath,this._available.value],{skipLocationChange:!1,replaceUrl:!0})}_save(){this._saveData(this._metaManager.getMetadata())}_delete(){this.store.removeData(this._available.value),this._availableNames=this.store.getStored(),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_new(){this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_saveData(e){const t=this.store.getData(this._name.value)??{};this.history?.save(),this.store.setData(this._name.value,(0,c.l7)(t,this.getMetadataCallback(e))),this._availableNames=this.store.getStored(),this._changeDetector.detectChanges(),this._router.navigate([this.routePath,this._name.value],{skipLocationChange:!1,replaceUrl:!0})}}F.ɵfac=function(e){return new(e||F)(b.Y(S.F0),b.Y(k.gz),b.Y(l.Qh),b.Y(_.s),b.Y(g._,8),b.Y(x.z,8))},F.ɵcmp=y.Xp({type:F,selectors:[["load-save-new"]],inputs:{store:"store",history:"history",routePath:"routePath",getMetadataCallback:"getMetadataCallback",componentMarking:"componentMarking"},outputs:{metadataChange:"metadataChange"},standalone:!0,features:[C.j],decls:18,vars:9,consts:[[2,"width","180px",3,"formControl"],["text","*unsaved*",3,"value"],[3,"value","text",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","text",3,"formControl"],[4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["class","margin-horizontal-extra-small",4,"ngIf"],[3,"value","text"],[1,"margin-horizontal-extra-small"],["type","checkbox",3,"formControl"]],template:function(e,t){if(1&e&&(h.Tg(0,"ng-select",0),h._U(1,"ng-option",1),w.Y(2,E,1,2,"ng-option",2),h.qZ(),h.Tg(3,"button",3),O.N("click",(function(){return t._delete()})),h.Tg(4,"span"),m._(5,"remove"),h.qZ()(),h.Tg(6,"button",4),O.N("click",(function(){return t._load()})),h.Tg(7,"span"),m._(8,"load"),h.qZ()(),h._U(9,"input",5),h.Tg(10,"button",4),O.N("click",(function(){return t._save()})),h.Tg(11,"span"),m._(12,"save "),w.Y(13,z,2,0,"ng-container",6),h.qZ()(),h.Tg(14,"button",7),O.N("click",(function(){return t._new()})),h.Tg(15,"span"),m._(16,"new"),h.qZ()(),w.Y(17,V,3,1,"label",8)),2&e){let e;d.Q("formControl",t._available),f.x(1),d.Q("value",""),f.x(1),d.Q("ngForOf",t._availableNames),f.x(1),d.Q("disabled",!t._available.value),f.x(3),d.Q("disabled",!t._available.value),f.x(3),d.Q("formControl",t._name),f.x(1),d.Q("disabled",!t._name.value),f.x(3),d.Q("ngIf",!(null===(e=null==t.history?null:t.history.saved)||void 0===e||e)),f.x(4),d.Q("ngIf",t.componentMarking)}},dependencies:[a.U,R.Fj,L.W,I.JJ,D.oH,r.A,P.x,T.w,A.v,s.e,M.s,N.O],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0})},43747:(e,t,n)=>{"use strict";n.d(t,{m:()=>C});var i=n(14392),s=n(68961),o=n(96130),a=n(86485),r=n(6552),l=n(49891);function c(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const u=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(9360),n.e(4623),n.e(8745),n.e(930),n.e(2346)]).then(n.bind(n,53990))).RelationsResultRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){c(o,i,s,a,r,"next",e)}function r(e){c(o,i,s,a,r,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();var g,h=n(79440),d=n(13691),p=n(36973),m=n(82568),v=n(80827),f=n(41853),b=n(66794),_=n(6427);function y(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}let C=g=class{constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n}static get relationsId(){return"relations-result"}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(g.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(g.relationsId)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){y(o,i,s,a,r,"next",e)}function r(e){y(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(g.relationsId),this._componentManager.unregisterComponent(g.relationsId)}ngOnChanges(e){(0,l.$)("vstup")in e&&this.vstup&&console.log("vstup sa zmenil v result",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};C.ɵfac=function(e){return new(e||C)(h.Y(s.s),h.Y(o.v),h.Y(a.s))},C.ɵcmp=d.Xp({type:C,selectors:[["relations-result"]],inputs:{vstup:"vstup"},standalone:!0,features:[p.T,m.j],decls:2,vars:1,template:function(e,t){1&e&&(v.Tg(0,"div"),f._(1),v.qZ()),2&e&&(b.x(1),_.hi("VSTUP: ",t.vstup,""))},encapsulation:2,changeDetection:0}),C=g=(0,i.gn)([(0,r.i)(u),(0,i.w6)("design:paramtypes",[s.s,o.v,a.s])],C)},31619:(e,t,n)=>{"use strict";n.d(t,{o:()=>L});var i=n(14392),s=n(68961),o=n(70625),a=n(68624),r=n(36759),l=n(96130),c=n(86485),u=n(6552),g=n(49891);function h(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const d=function(){var e,t=(e=function*(){return new((yield Promise.all([n.e(9360),n.e(4623),n.e(8745),n.e(930),n.e(6152)]).then(n.bind(n,14663))).RelationsSampleClickRelationsEditorMetadata)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){h(o,i,s,a,r,"next",e)}function r(e){h(o,i,s,a,r,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();var p,m=n(79440),v=n(13691),f=n(36973),b=n(82568),_=n(80827),y=n(41853),C=n(66794),w=n(6427),O=n(73301),S=n(49280),k=n(77470),x=n(27635);function R(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}let L=p=class{constructor(e,t,n){this._changeDetector=e,this._relationsProcessor=t,this._componentManager=n,this._vystupForm=new o.NI(""),this._vystupForm.valueChanges.subscribe((e=>this.vystup=e))}static get relationsId(){return"relations-sample-click"}ngOnInit(){var e,t=this;return(e=function*(){t._componentManager.registerComponent(p.relationsId,t),yield t._relationsProcessor.initialized,t._relationsProcessor.updateRelations(p.relationsId)},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){R(o,i,s,a,r,"next",e)}function r(e){R(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(p.relationsId),this._componentManager.unregisterComponent(p.relationsId)}ngOnChanges(e){(0,g.$)("vstup")in e&&this.vstup&&console.log("vstup sa zmenil",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};L.ɵfac=function(e){return new(e||L)(m.Y(s.s),m.Y(l.v),m.Y(c.s))},L.ɵcmp=v.Xp({type:L,selectors:[["relations-sample-click"]],inputs:{vstup:"vstup"},standalone:!0,features:[f.T,b.j],decls:4,vars:2,consts:[["type","text",3,"formControl"]],template:function(e,t){1&e&&(_.Tg(0,"div"),y._(1),_.qZ(),_.Tg(2,"div"),_._U(3,"input",0),_.qZ()),2&e&&(C.x(1),w.hi("VSTUP: ",t.vstup,""),C.x(2),O.Q("formControl",t._vystupForm))},dependencies:[a.U,S.Fj,k.JJ,x.oH],encapsulation:2,changeDetection:0}),(0,i.gn)([(0,r.A)(),(0,i.w6)("design:type",String)],L.prototype,"vystup",void 0),L=p=(0,i.gn)([(0,u.i)(d),(0,i.w6)("design:paramtypes",[s.s,l.v,c.s])],L)},98602:(e,t,n)=>{"use strict";n.r(t),n(58420),n(88574),n(62374);var i=n(52266),s=n(43939),o=n(28653),a=n(87667);(0,i.y)((e=>{e.Document||(e.Document=function(){}),e.ngDesignerMetadata||(e.ngDesignerMetadata=!0)}));const r=o.y.prototype.subscribe;o.y.prototype.subscribe=function(e,t,n){return!(0,s.fp)(t)&&(0,s.mf)(t)||(t=e=>{a.v.configuration.debug&&console.log(e)}),r.call(this,e,t,n)};var l=n(76939),c=n(97326),u=n(17939),g=n(42711),h=n(26160),d=n(93742),p=n(72898),m=n(35980),v=n(48936),f=n(46480),b=n(55478),_=n(39969),y=n(53047),C=n(49891),w=n(98084),O=n(80022);const S=(0,O.X$)("routeAnimations",[(0,O.eR)("void <=> *, none <=> *",[(0,O.IO)(":enter",(0,O.pV)(),{optional:!0})]),(0,O.eR)("* => login",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative",perspective:"10000px"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms 350ms ease-out",(0,O.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])]),(0,O.eR)("login => *",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative",perspective:"10000px"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms 350ms ease-out",(0,O.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])]),(0,O.eR)("* => *",[(0,O.IO)(".main-content",[(0,O.oB)({position:"relative"}),(0,O.IO)(":enter, :leave",[(0,O.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,O.IO)(":enter",[(0,O.oB)({opacity:0})]),(0,O.IO)(":leave",(0,O.pV)()),(0,O.ru)([(0,O.IO)(":leave",[(0,O.jt)("350ms ease-out",(0,O.oB)({opacity:0}))]),(0,O.IO)(":enter",[(0,O.jt)("350ms ease-out",(0,O.oB)({opacity:1}))])]),(0,O.IO)(":enter",(0,O.pV)())])])]),k=(0,O.X$)("loaderAnimation",[(0,O.eR)(":leave",[])]);var x=n(64527);const R=JSON.parse('{"i":"1.0.0-beta.20220906144649"}');var L=n(80827),I=n(73301),D=n(79440),P=n(68961),T=n(13691),A=n(55436),M=n(73379),N=n(41853),E=n(15686),z=n(66794),V=n(6427),F=n(70575),j=n(21651),q=n(83915),U=n(53693),Y=n(38870),Z=n(94304),Q=n(69602),$=n(18567),B=n(72891),H=n(47826),G=n(32361),J=n(453);class X{constructor(e){this._dialog=e}openSettings(){this._dialog.open($.$u,{title:"user settings",maxHeight:"80vh"})}}X.ɵfac=function(e){return new(e||X)(D.Y(H.J))},X.ɵcmp=T.Xp({type:X,selectors:[["main-menu"]],decls:19,vars:0,consts:[[1,"flex-row"],["routerLink","/layout/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/layout/editor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsStatic","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithLayoutEditor/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsComplex/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsLayoutForm/form-preview","routerLinkActive","active",1,"margin-horizontal-small"],[1,"flex-1"],[1,"fas","fa-cog",3,"click"]],template:function(e,t){1&e&&(L.Tg(0,"div",0)(1,"a",1),N._(2,"Preview"),L.qZ(),L.Tg(3,"a",2),N._(4,"Editor"),L.qZ(),L.Tg(5,"a",3),N._(6,"Relations editor"),L.qZ(),L.Tg(7,"a",4),N._(8,"Relations"),L.qZ(),L.Tg(9,"a",5),N._(10,"Relations with editor"),L.qZ(),L.Tg(11,"a",6),N._(12,"Relations with layout editor"),L.qZ(),L.Tg(13,"a",7),N._(14,"Relations complex"),L.qZ(),L.Tg(15,"a",8),N._(16,"Relations form"),L.qZ(),L._U(17,"div",9),L.Tg(18,"a",10),B.N("click",(function(){return t.openSettings()})),L.qZ()())},dependencies:[G.y,J.O],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0}"],changeDetection:0});var W=n(80969);function K(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}const ee=["outlet"];function te(e,t){1&e&&L._U(0,"console"),2&e&&I.Q("@consoleAnimation",void 0)}function ne(e,t){1&e&&(L.Tg(0,"div",6),L._U(1,"div"),L.qZ()),2&e&&I.Q("@loaderAnimation",void 0)}class ie{constructor(e,t,n,i,s,o){this._changeDetector=t,this._appHotkeys=n,this.consoleVisible=!1,this.routeComponentState="none",this.guiVersion=R.i,this.initialized=!1,s.verbose("Application is starting, main component constructed."),o.body.classList.add("app-page",i.settings.theme),this._theme=i.settings.theme,this._settingsChangeSubscription=i.settingsChange.subscribe((t=>{t==(0,C.$)("theme")&&(o.body.classList.remove(this._theme),this._theme=i.settings.theme,o.body.classList.add(this._theme)),t==(0,C.$)("language")&&(e.use(i.settings.language),this._changeDetector.detectChanges())})),this._settingsDebuggingChangeSubscription=i.settingsDebuggingChange.subscribe((e=>{e==(0,C.$)("consoleEnabled")&&this._toggleConsoleHotkey()})),e.setDefaultLang("en"),e.use(i.settings.language),i.settingsDebugging?.consoleEnabled&&this._toggleConsoleHotkey()}ngOnInit(){var e,t=this;return(e=function*(){t._changeDetector.detectChanges()},function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){K(o,i,s,a,r,"next",e)}function r(e){K(o,i,s,a,r,"throw",e)}a(void 0)}))})()}ngAfterViewInit(){this._routerOutletActivatedSubscription=this.routerOutlet.activateEvents.subscribe((()=>{this.routeComponentState=this.routerOutlet.activatedRouteData.animation||this.routerOutlet.activatedRoute.component.name})),this.initialized=!0}ngOnDestroy(){this._routerOutletActivatedSubscription?.unsubscribe(),this._routerOutletActivatedSubscription=null,this._settingsChangeSubscription?.unsubscribe(),this._settingsChangeSubscription=null,this._settingsDebuggingChangeSubscription?.unsubscribe(),this._settingsDebuggingChangeSubscription=null,this._appHotkeys.destroy()}_toggleConsoleHotkey(){const e=this._appHotkeys.hotkeys.get("~");e?this._appHotkeys.hotkeys.remove(e):this._appHotkeys.hotkeys.add(new w.q("~",(()=>(this.consoleVisible=!this.consoleVisible,this._changeDetector.detectChanges(),!1)),null,"Show console"))}}ie.ɵfac=function(e){return new(e||ie)(D.Y(F.sK),D.Y(P.s),D.Y(_.H),D.Y(x.g),D.Y(f.bZ),D.Y(v.K))},ie.ɵcmp=T.Xp({type:ie,selectors:[["app"]],viewQuery:function(e,t){if(1&e&&A.Gf(ee,5),2&e){let e;A.iG(e=A.CR())&&(t.routerOutlet=e.first)}},features:[M._([_.H])],decls:13,vars:3,consts:[[1,"content","relative"],[1,"main-content"],["outlet","outlet"],[1,"gui-version"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"]],template:function(e,t){1&e&&(L._U(0,"main-menu")(1,"progress-indicator")(2,"internal-server-error")(3,"global-notifications")(4,"hotkeys-cheatsheet"),L.Tg(5,"div",0)(6,"div",1),L._U(7,"router-outlet",null,2),L.qZ()(),L.Tg(9,"div",3),N._(10),L.qZ(),E.Y(11,te,1,1,"console",4),E.Y(12,ne,2,1,"div",5)),2&e&&(z.x(10),V.hi("GUI version: ",t.guiVersion,""),z.x(1),I.Q("ngIf",t.consoleVisible),z.x(1),I.Q("ngIf",!t.initialized))},dependencies:[j.O,q.X,U.B,Y.u,Z.l,Q.X,X,W.m],styles:[".content[_ngcontent-%COMP%]{display:grid;flex:1;min-height:0;min-width:0;overflow:hidden}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0}.gui-version[_ngcontent-%COMP%]{text-align:center;font-size:.7em}console[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[S,y.I,b.K,k]},changeDetection:0});var se=n(14392),oe=n(94595),ae=n(76668),re=n(89001),le=n(3859),ce=n(61694),ue=n(21098),ge=n(65205),he=n(94054),de=n(15924),pe=n(78513),me=n(17868),ve=n(87966);const fe={rootModule:!0,rootModuleConfig:{enableTracing:!1,useHash:!0},staticRoutesBefore:[{path:"",redirectTo:"/layout/preview",pathMatch:"full"},{path:"",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(8745),n.e(3292),n.e(5842),n.e(8639)]).then(n.bind(n,41621)).then((({DefaultModule:e})=>e))},{path:"layout",loadChildren:()=>Promise.all([n.e(4721),n.e(1490)]).then(n.bind(n,57069)).then((({LayoutModule:e})=>e))},{path:"layout",loadChildren:()=>Promise.all([n.e(9101),n.e(4204),n.e(111),n.e(4721),n.e(5842),n.e(7654),n.e(1973)]).then(n.bind(n,31203)).then((({LayoutEditorModule:e})=>e))},{path:"relationsStatic",loadChildren:()=>Promise.all([n.e(111),n.e(7329)]).then(n.bind(n,87329)).then((({RelationsStaticModule:e})=>e))},{path:"relationsEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(8745),n.e(111),n.e(4721),n.e(3292),n.e(9917)]).then(n.bind(n,68926)).then((({RelationsEditorModule:e})=>e))},{path:"relationsWithEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(8745),n.e(111),n.e(4721),n.e(3292),n.e(3409)]).then(n.bind(n,72611)).then((({RelationsWithEditorModule:e})=>e))},{path:"relationsWithLayoutEditor",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(4204),n.e(8745),n.e(111),n.e(4721),n.e(3292),n.e(5842),n.e(7654),n.e(778),n.e(5184)]).then(n.bind(n,85184)).then((({RelationsWithLayoutEditorModule:e})=>e))},{path:"relationsComplex",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(4204),n.e(8745),n.e(111),n.e(4721),n.e(3292),n.e(5842),n.e(7654),n.e(778),n.e(9913)]).then(n.bind(n,9913)).then((({RelationsComplexModule:e})=>e))},{path:"relationsLayoutForm",loadChildren:()=>Promise.all([n.e(9360),n.e(9101),n.e(4204),n.e(8745),n.e(111),n.e(4721),n.e(3292),n.e(5842),n.e(7654),n.e(778),n.e(574)]).then(n.bind(n,60574)).then((({RelationsLayoutFormModule:e})=>e))}],staticRoutesAfter:[{path:"accessDenied",loadComponent:()=>n.e(9264).then(n.bind(n,69264)).then((({AccessDeniedComponent:e})=>e))},{path:"**",loadComponent:()=>n.e(8831).then(n.bind(n,88831)).then((({NotFoundComponent:e})=>e))}]};var be=n(95176),_e=n(99079),ye=n(33215),Ce=n(95511),we=n(35100),Oe=n(99452),Se=n(57292),ke=n(9551),xe=n(39449),Re=n(91919),Le=n(23547),Ie=n(41089),De=n(91846),Pe=n(7384),Te=n(14602),Ae=n(77342),Me=n(94550),Ne=n(80330),Ee=n(62250),ze=n(53490),Ve=n(75772),Fe=n(1401),je=n(31579),qe=n(33018),Ue=n(89720),Ye=n(93192),Ze=n(29706),Qe=n(57177),$e=n(53556),Be=n(80406),He=n(91972),Ge=n(54248),Je=n(9249),Xe=n(34494),We=n(85980),Ke=n(53221),et=n(33420),tt=n(43770),nt=n(13969),it=n(7099),st=n(69517),ot=n(21340),at=n(34116),rt=n(8086),lt=n(70263),ct=n(66501),ut=n(23347),gt=n(89968),ht=n(88842),dt=n(43801),pt=n(38327);class mt extends Ce.v{get locale(){return"en"}get localeChange(){return ht.E}}mt.ɵfac=function(){let e;return function(t){return(e||(e=dt.n5(mt)))(t||mt)}}(),mt.ɵprov=pt.Yz({token:mt,factory:mt.ɵfac});var vt=n(26571);const ft=[xe.t,Re.H,Le.w,Ie.Q,ye.B,{useFactory:()=>new De.b("Server je mimo prevádzky."),provide:De.b},{useFactory:()=>new Pe.R("Server neodpovedal v stanovenom čase."),provide:Pe.R},{provide:Ce.v,useClass:mt},Te.o,Ae.E,ze.B,{provide:Ve.u,useValue:{texts:{loading:"Loading data ...",noData:"No data for requested parameters",notLoaded:"Data have not been loaded yet"}}},{provide:Fe.xS,useValue:je.G},{provide:qe.P,useValue:{itemsPerPageValues:[15,30,60],initialItemsPerPage:15}},{provide:Fe.LL,useValue:Qe.j},{provide:Ue._,useValue:{showButtonVisible:!1}},{provide:Ye.T,useValue:{storageIppName:"all-grid-ipp"}},{provide:Ze.eP,useValue:{cssClasses:{containerDiv:"table-container thin-scrollbar"}}},{provide:Ze.ss,useValue:{cssClasses:{thDefault:"header-default fixed-header"}}},{provide:tt.M,useValue:{texts:{nothingSelected:"Nothing selected"}}},{provide:f.oF,useClass:ke.H},{provide:f.T0,useClass:_e.w},{provide:Se.b,useFactory:e=>new Se.b(null,ut.ke[e?.settingsLogging?.consoleLogLevel]),deps:[x.g]},{provide:vt.L,useClass:x.l},{provide:we.H,useFactory:e=>{const t=new we.H;return t.setEnabled(e.settingsDebugging?.debugData),t},deps:[x.g]},{provide:nt.R2,useClass:it.Fh},st.V,it.Dx,{provide:st.v,useValue:{locale:gt.Z}},{provide:$e.xY,useValue:{required:"Položka je povinná.",number:"Položka musí byť číslo.",pattern:"Položka nie je v požadovanom formáte.",minValue:"Nedodržaná minimálna povolená hodnota.",maxValue:"Nedodržaná maximálna povolená hodnota.",minlength:"Nedodržaná minimálna dĺžka.",maxlength:"Nedodržaná maximálna dĺžka.",birthNumber:"Nesprávny formát rodného čísla.",email:"Položka musí byť email.",availableUsername:"Prihlasovacie meno je použité"}},{provide:$e.gt,useValue:{container:Be.f}},Oe.d,{provide:We.H,useExisting:f.wn},{provide:Me._k,useExisting:f.wn},{provide:Me.wN,useExisting:f.wn},{provide:He.r,useValue:new He.r(Ge.b)},{provide:Je.L,useValue:{confirmationText:"Prajete si pokračovať?",dialogCancelText:"Nie",dialogConfirmText:"Áno"}},Xe.G,{provide:We.w,useValue:{assetsPathPrefix:"dist/md",baseUrl:"/pomoc"}},ct.F,Ke.Q,{provide:ot.fD,useValue:[at.U,rt.m,lt.L,et.m]},{provide:Me.r7,useValue:e=>e?.error?.errors?e?.error?.errors:(0,s.HD)(e?.error)?[e?.error]:(0,s.wV)(e?.error)?[JSON.stringify(e?.error)]:[e.message]},{provide:Me.Sm,useValue:e=>e?.error?.validationErrors?e?.error?.validationErrors:null},{provide:Me.IR,useFactory:e=>({400:t=>(0,Ne.W)(t,{injector:e}),404:Ee.A}),deps:[be.z]}];function bt(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}class _t{getTranslation(e){return new o.y((t=>{var i;(i=function*(){const i=yield n(25048)(`./${e}.json`);t.next(i.default),t.complete()},function(){var e=this,t=arguments;return new Promise((function(n,s){var o=i.apply(e,t);function a(e){bt(o,n,s,a,r,"next",e)}function r(e){bt(o,n,s,a,r,"throw",e)}a(void 0)}))})()}))}}_t.ɵfac=function(e){return new(e||_t)},_t.ɵprov=pt.Yz({token:_t,factory:_t.ɵfac});var yt=n(42983),Ct=n(11776);class wt{constructor(e){this._logger=e}handle(e){return this._logger.debug(`MISSING TRANSLATION: ${e.key}`),`MISSING: '${e.key}'`}}wt.ɵfac=function(e){return new(e||wt)(Ct.LF(f.bZ))},wt.ɵprov=pt.Yz({token:wt,factory:wt.ɵfac});let Ot=class{};Ot.ɵfac=function(e){return new(e||Ot)},Ot.ɵmod=T.oA({type:Ot}),Ot.ɵinj=pt.cJ({providers:ft,imports:[l.b2.withServerTransition({appId:"my-app-id"}),oe.JF,ue.m,ce._,ge.J.forRoot(),ae.Bz,m.m,yt.$9,le.R.forRoot(),me.c8.forRoot({backend:ve.PD}),he.aw.forRoot({loader:{provide:de.Z,useClass:_t},...a.v.configuration.debugTranslations?{missingTranslationHandler:{provide:pe.g,useClass:wt}}:{},useDefaultLang:!a.v.configuration.debugTranslations})]}),Ot=(0,se.gn)([(0,re.P)([],fe)],Ot);class St{}St.ɵfac=function(e){return new(e||St)},St.ɵmod=T.oA({type:St,bootstrap:[ie]}),St.ɵinj=pt.cJ({providers:[{provide:p.g,useFactory:()=>new p.g(a.v.configuration.debug,!1)}],imports:[Ot,h.PW,d.Cu,m.m.forRoot({cheatSheetCloseEsc:!0})]}),(0,c.G)();const kt=(0,l.q6)();(0,u.ZA)(kt.bootstrapModule(St),(e=>{e.injector.get(g.I)?.clearAndDeactivate()}),a.v.configuration.debug)},26571:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});const i=new(n(40296).O)("SETTINGS_STORAGE")},4503:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var i=n(27052),s=n(76668),o=n(38476),a=n(2175),r=n(39163),l=n(35285),c=n(99874),u=n(14454),g=n(94054),h=n(13691),d=n(38327);class p{}p.ɵfac=function(e){return new(e||p)},p.ɵmod=h.oA({type:p}),p.ɵinj=d.cJ({imports:[i.e,s.Bz,o.W,a.F,l.L,r.z,g.aw,u.N,c.o]})},79144:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var i=n(68624),s=n(7231),o=n(35648),a=n(25583),r=n(25626),l=n(86948),c=n(77880),u=n(90962),g=n(13691),h=n(38327);class d{}d.ɵfac=function(e){return new(e||d)},d.ɵmod=g.oA({type:d}),d.ɵinj=h.cJ({imports:[i.U,s.r,r.F,o.A,a.r,u.k,l.F,c.j]})},42983:(e,t,n)=>{"use strict";n.d(t,{nP:()=>a,_J:()=>r._,No:()=>l.N,$9:()=>d});var i=n(38707),s=n(13691),o=n(38327);class a{}a.ɵfac=function(e){return new(e||a)},a.ɵmod=s.oA({type:a}),a.ɵinj=o.cJ({imports:[i.s]});var r=n(4503),l=n(79144),c=n(45943);class u{}u.ɵfac=function(e){return new(e||u)},u.ɵmod=s.oA({type:u}),u.ɵinj=o.cJ({imports:[c.z]});var g=n(14669),h=n(18567);class d{}d.ɵfac=function(e){return new(e||d)},d.ɵmod=s.oA({type:d}),d.ɵinj=o.cJ({imports:[r._,h.$u,g.V]})},40043:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var i=n(26159),s=n(46480),o=n(86463),a=n(11776),r=n(38327);const l="CUSTOM_COMPONENTS";class c extends i.t{constructor(e){super(),this._store=e,this._registeredChange=new o.x}get registeredChange(){return this._registeredChange.asObservable()}toggleRegisteredComponent(e){const t=this.getRegisteredComponents(),n=t.indexOf(e);n>=0?t.splice(n,1):t.push(e),this._store.set(l,t),this._registeredChange.next()}getRegisteredComponents(){return this._store.get(l)??[]}}c.ɵfac=function(e){return new(e||c)(a.LF(s.T0))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},64527:(e,t,n)=>{"use strict";n.d(t,{l:()=>v,g:()=>c});var i=n(57466),s=n(86463),o=n(26571),a=n(11776),r=n(55845),l=n(38327);class c{constructor(e,t){this._storage=t,this._settings=this._storage.get(),this._settingsDebugging=this._storage.getDebugging(),this._settingsLogging=this._storage.getLogging(),this._settingsChangeSubject=new s.x,this._settingsDebuggingChangeSubject=new s.x,this._settingsValueDiff=e.find(this._settings).create(),this._settingsValueDiff.diff(this._settings),this._settingsDebuggingValueDiff=e.find(this._settingsDebugging).create(),this._settingsDebuggingValueDiff.diff(this._settingsDebugging)}get settings(){return this._settings}get settingsDebugging(){return this._settingsDebugging}get settingsLogging(){return this._settingsLogging}get settingsChange(){return this._settingsChangeSubject.asObservable()}get settingsDebuggingChange(){return this._settingsDebuggingChangeSubject.asObservable()}setSettings(e){this._settings=(0,i.l7)(!0,{},this._settings,e),this._storage.set(e);const t=this._settingsValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsChangeSubject.next(e.key)}))}setDebuggingSettings(e){this._settingsDebugging=(0,i.l7)(!0,{},this._settingsDebugging,e),this._storage.setDebugging(e);const t=this._settingsDebuggingValueDiff.diff(e);t&&t.forEachChangedItem((e=>{this._settingsDebuggingChangeSubject.next(e.key)}))}setLoggingSettings(e){this._settingsLogging=(0,i.l7)(!0,{},this._settingsLogging,e),this._storage.setLogging(e)}}c.ɵfac=function(e){return new(e||c)(a.LF(r.a),a.LF(o.L))},c.ɵprov=l.Yz({token:c,factory:c.ɵfac,providedIn:"root"});var u=n(49108),g=n.n(u),h=n(87667);const d="general-settings",p="debugging-settings",m="logging-settings";class v{get(){let e=g().get(d);return e=(0,i.l7)(!0,{},{theme:h.v.general.theme,language:h.v.general.language},e),e}set(e){g().set(d,e)}getDebugging(){let e=g().get(p);return e=(0,i.l7)(!0,{},{consoleEnabled:h.v.debug.consoleEnabled,debugData:h.v.debug.debugData},e),e}setDebugging(e){g().set(p,e)}getLogging(){let e=g().get(m);return e=(0,i.l7)(!0,{},{consoleLogLevel:h.v.logging.consoleLogLevel},e),e}setLogging(e){g().set(m,e)}}v.ɵfac=function(e){return new(e||v)},v.ɵprov=l.Yz({token:v,factory:v.ɵfac})},26159:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var i=n(38327);class s{getRegisteredComponents(){return[]}}s.ɵfac=function(e){return new(e||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},6552:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var i=n(22206);function s(e){return(0,i.R)(e,"relationsEditorMetadata")}},36759:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(86463);function s(){return function(e,t){const n=t;Object.defineProperty(e,`${n}Change`,{get:function(){return this[`ɵ${n}Change`]||(this[`ɵ${n}Change`]=new i.x),this[`ɵ${n}Change`]}}),Object.defineProperty(e,n,{get:function(){return this[`ɵ${n}`]},set:function(e){this[`ɵ${n}`]=e,this[`${n}Change`].next()}})}}},20809:(e,t,n)=>{"use strict";n.d(t,{B6:()=>o,TZ:()=>a,fX:()=>l,te:()=>r,u7:()=>s});var i=n(40296);const s=new i.O("RELATIONS_COMPONENTS_MODULE_DATA_EXTRACTORS"),o=new i.O("RELATIONS_COMPONENTS_MODULE_PROVIDERS"),a=new i.O("RELATIONS_COMPONENTS_LOADER"),r=new i.O("RELATIONS_METADATA_STORAGE"),l=new i.O("RELATIONS_PROCESSOR_SKIP_INIT")},86485:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var i=n(46480),s=n(57466),o=n(11776),a=n(38327);class r{constructor(e){this.logger=e,this.scopeId=null,this.components={},this.scopes={},this.parent=null,this.childrenCache={}}ngOnDestroy(){if(this.scopes)for(const e in this.scopes){const t=this.scopes[e];if(t)for(const e of t)e.ngOnDestroy();delete this.scopes[e]}for(const e in this.components)this.removeCacheFromHierarchy(e);if(this.parent&&this.scopeId){const e=this.parent.scopes[this.scopeId];if(e){const t=e.indexOf(this);t>=0&&e.splice(t,1)}}}registerComponent(e,t){this.components[e]?this.logger?.warn(`RelationsComponentManager: Component with id '${e}' is already registered, provide unique id.`):(t.ɵɵRelationsComponentId??(t.ɵɵRelationsComponentId=(0,s.Ox)(12)),this.removeCacheFromHierarchy(e),this.components[e]=t)}unregisterComponent(e){this.components[e]?(this.removeCacheFromHierarchy(e),delete this.components[e]):this.logger?.warn(`RelationsComponentManager: Component with id '${e}' has already been unregistered.`)}get(e){const t=this.components[e];if(t)return t;if(this.childrenCache[e])return this.childrenCache[e];return this.getChildrenComponents(e)||this.getParentComponents(e)}openScope(e){var t;(t=this.scopes)[e]??(t[e]=[]);const n=new r(this.logger);return n.scopeId=e,n.parent=this,this.scopes[e].push(n),n}removeCacheFromHierarchy(e){this.parent&&this.parent.childrenCache[e]&&(delete this.parent.childrenCache[e],this.parent.removeCacheFromHierarchy(e))}getChildrenComponents(e){const t=t=>{const n=this.scopes[t],i=[];for(const t of n){const n=t.components[e];if(n){i.push(n);continue}const s=t.getChildrenComponents(e);if(!Array.isArray(s))return null;for(const e of s)i.push(e)}return i.length?i:null};for(const n in this.scopes){const i=t(n);if(i)return this.childrenCache[e]=i,i}return null}getParentComponents(e){if(!this.parent)return null;return(this.parent.components[e]??null)||this.parent.getParentComponents(e)}}r.ɵfac=function(e){return new(e||r)(o.LF(i.bZ,8))},r.ɵprov=a.Yz({token:r,factory:r.ɵfac})},75990:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(86463),s=n(38327);class o{constructor(){this._relations=[],this._relationsChange=new i.x}get relations(){return this._relations}get relationsChange(){return this._relationsChange.asObservable()}setRelations(e){this._relations!=e&&(this._relations=e,this._relationsChange.next())}}o.ɵfac=function(e){return new(e||o)},o.ɵprov=s.Yz({token:o,factory:o.ɵfac})},96130:(e,t,n)=>{"use strict";n.d(t,{v:()=>m});var i=n(46480),s=n(43939),o=n(23199),a=n(28653),r=n(20809),l=n(11776),c=n(95176),u=n(38327),g=n(75990),h=n(86485);function d(e,t,n,i,s,o,a){try{var r=e[o](a),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,s)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){d(o,i,s,a,r,"next",e)}function r(e){d(o,i,s,a,r,"throw",e)}a(void 0)}))}}class m{constructor(e,t,n,i,a,r){this.relationsManager=e,this.componentManager=t,this.injector=n,this.loader=i,this.logger=a,this.ɵInitialized=Promise.resolve(),this.ɵRelations={},this.ɵBackwardRelations={},this.resolveInitialized=s.ZT,this.initSubscriptions=new o.w0,this.parent=null,this.scopeId=null,r||(this.initSubscriptions.add(this.relationsManager.relationsChange.subscribe((()=>this.initializeRelations()))),this.initializeRelations())}get relations(){return this.parent?this.parent.relations:this.ɵRelations}set relations(e){this.ɵRelations=e}get backwardRelations(){return this.parent?this.parent.backwardRelations:this.ɵBackwardRelations}set backwardRelations(e){this.ɵBackwardRelations=e}get initialized(){return this.ɵInitialized}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.destroyRelations()}updateRelations(e){this.logger?.debug("RelationsProcessor: Updating relations for {@id}",{id:e});const t=this.relations[e],n=this.backwardRelations[e];let i=this.componentManager.get(e);if(t&&i){if(this.initOptions(i,t),n?.length&&n.forEach((e=>{this.initBackwardRelation(e)})),t?.inputOutputs){Array.isArray(i)||(i=[i]);for(const n of i){n.ɵɵRelationsOutputsChangeSubscriptions?.forEach((e=>e.unsubscribe())),n.ɵɵRelationsOutputsChangeSubscriptions=[];for(const s of t.inputOutputs){let t=this.componentManager.get(s.inputComponentId);t&&!Array.isArray(t)&&(t=[t]),this.logger?.verbose("RelationsProcessor: processing input outputs {@data} ",{id:e,inputOutput:s,inputComponents:t,components:i});const o=n[`${s.outputName}Change`];if(o instanceof a.y)if(n.ɵɵRelationsOutputsChangeSubscriptions.push(o.subscribe((()=>{let e=this.componentManager.get(s.inputComponentId);if(e){Array.isArray(e)||(e=[e]);for(const t of e)this.transferData(n,s.outputName,t,s.inputName,!1)}else this.logger?.warn("RelationsProcessor: Missing input components {@data} on output change",s)}))),t&&Array.isArray(t))for(const e of t){const t=`${e.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;s.initialized[t]||(s.initialized[t]=this.transferData(n,s.outputName,e,s.inputName,!0))}else this.logger?.warn("RelationsProcessor: Missing input components {@data}",s);else this.logger?.warn("RelationsProcessor: Output on component {@data} is not observable",s)}}}}else this.logger?.warn("RelationsProcessor: No relations for {@id}",{id:e})}destroyComponent(e){const t=this.relations[e],n=this.backwardRelations[e];if(n)for(const e of n)e.initialized={};if(t){let n=this.componentManager.get(e);if(n){if(!n)return;Array.isArray(n)||(n=[n]);for(const e of n)e.ɵɵRelationsOutputsChangeSubscriptions?.forEach((e=>e.unsubscribe())),e.ɵɵRelationsOutputsChangeSubscriptions=[],e.ɵɵRelationsOptionsInitialized=!1}if(t.inputOutputs&&Array.isArray(t.inputOutputs))for(const e of t.inputOutputs)e.initialized={};if(t.autoCreated){let t=this.componentManager.get(e);if(!t)return;Array.isArray(t)||(t=[t]),this.componentManager.unregisterComponent(e);for(const e of t)e.ngOnDestroy?.()}}}openScope(e,t,n){const i=new m(this.relationsManager,t,n,this.loader,this.logger,!0);i.scopeId=e,i.parent=this;for(const s in this.relations){const o=this.relations[s];if(o.scope===e&&o.componentType){const e=new o.componentType(n);t.registerComponent(s,e),i.updateRelations(s)}}return i}destroyScope(){for(const e in this.relations)this.relations[e].scope===this.scopeId&&this.destroyComponent(e)}initializeRelations(){var e=this;return p((function*(){if(yield e.destroyRelations(),e.setInitializePromise(),e.logger?.debug("RelationsProcessor: initializing relations"),e.relationsManager.relations.length){for(const t of e.relationsManager.relations){const n=[];if(t.outputs){for(const i of t.outputs)if(i.inputs)for(const s of i.inputs){const o={inputComponentId:s.id,outputComponentId:t.id,inputName:s.inputName,outputName:i.outputName,initialized:{}};n.push(o),e.backwardRelations[s.id]||(e.backwardRelations[s.id]=[]),e.backwardRelations[s.id].push(o)}yield e.initComponent(t,n)}}e.resolveInitialized()}else e.resolveInitialized()}))()}initBackwardRelation(e){let t=this.componentManager.get(e.outputComponentId),n=this.componentManager.get(e.inputComponentId);if((0,s.fp)(t)||Array.isArray(t)&&!t.length||(0,s.fp)(n)||Array.isArray(n)&&!n.length)this.logger?.warn("RelationsProcessor: missing metadata for backward relations {@data}",e);else{Array.isArray(n)||(n=[n]),Array.isArray(t)||(t=[t]);for(const i of n)for(const n of t){const t=`${i.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;e.initialized[t]||(e.initialized[t]=this.transferData(n,e.outputName,i,e.inputName,!0))}}}transferData(e,t,n,i,s){if(!e||!n)return!1;const o=n[i],a=e[t];n[i]=e[t];const r={};return r[i]={previousValue:o,currentValue:a,firstChange:s,isFirstChange:()=>s},n.ngOnChanges?.(r),n.invalidateVisuals(),!0}initComponent(e,t){var n=this;return p((function*(){if(n.componentManager.get(e.id))return n.initRelation(!1,e,t,null,null),void n.updateRelations(e.id);const i=yield n.loader.loadItem(e);if(!i)return n.initRelation(!1,e,t,null,null),void n.logger?.warn("RelationsProcessor: Unable to load relations component! {@meta}",{package:e.package,name:e.name});if(!e.scope){const t=new i.data(n.injector);n.componentManager.registerComponent(e.id,t)}n.initRelation(!0,e,t,e.scope??null,e.scope?i.data:null),n.updateRelations(e.id)}))()}initRelation(e,t,n,i,s){this.relations[t.id]={autoCreated:e,inputOutputs:n,metadataOptions:t.relationsOptions,componentType:s,scope:i}}initOptions(e,t){if(Array.isArray(e))for(const n of e)n.ɵɵRelationsOptionsInitialized||(n.relationsOptions=t.metadataOptions);else e.ɵɵRelationsOptionsInitialized||(e.relationsOptions=t.metadataOptions)}setInitializePromise(){this.ɵInitialized=new Promise((e=>this.resolveInitialized=e))}destroyRelations(){var e=this;return p((function*(){yield e.ɵInitialized,Object.keys(e.relations).forEach((t=>e.destroyComponent(t))),e.relations={},e.backwardRelations={}}))()}}m.ɵfac=function(e){return new(e||m)(l.LF(g.N),l.LF(h.s),l.LF(c.z),l.LF(r.TZ),l.LF(i.bZ,8),l.LF(r.fX,8))},m.ɵprov=u.Yz({token:m,factory:m.ɵfac})},22206:(e,t,n)=>{"use strict";function i(e,t){return ngDesignerMetadata?function(n){return n[t]=e(),n}:function(e){return e}}n.d(t,{R:()=>i})},13457:(e,t,n)=>{"use strict";n.d(t,{BG:()=>o,H$:()=>a,Qh:()=>s});var i=n(40296);const s=new i.O("METADATA_STATE_MANAGER"),o=new i.O("PACKAGE_SOURCES"),a=new i.O("SCOPE_ID")},56454:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(98084),s=n(86463),o=n(11776),a=n(38327),r=n(39969);class l{constructor(e){this.hotkeys=e,this.undoSubject=new s.x,this.redoSubject=new s.x,this.newSubject=new s.x,this.saveSubject=new s.x}get undo(){return this.undoSubject.asObservable()}get redo(){return this.redoSubject.asObservable()}get new(){return this.newSubject.asObservable()}get save(){return this.saveSubject.asObservable()}destroy(){this.hotkeys.destroy()}init(){this.hotkeys.hotkeys.add(new i.q("ctrl+s",(()=>(this.saveSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits save event")),this.hotkeys.hotkeys.add(new i.q("ctrl+z",(()=>(this.undoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits undo event")),this.hotkeys.hotkeys.add(new i.q("ctrl+y",(()=>(this.redoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits redo event")),this.hotkeys.hotkeys.add(new i.q("ctrl+n",(()=>(this.newSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits new event"))}}l.ɵfac=function(e){return new(e||l)(o.LF(r.H))},l.ɵprov=a.Yz({token:l,factory:l.ɵfac})}}]);
//# sourceMappingURL=8602.chunk.7087732b7ab49dbfdac8.js.map