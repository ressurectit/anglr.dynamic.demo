"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[183],{90255:(e,n,t)=>{t.d(n,{W:()=>i});var o=t(22206);function i(e){return(0,o.R)(e,"layoutEditorDesignerType")}},23657:(e,n,t)=>{t.d(n,{w:()=>i});var o=t(22206);function i(e){return(0,o.R)(e,"layoutEditorMetadata")}},5451:(e,n,t)=>{t.d(n,{Y:()=>r});var o=t(31331);function i(e,n,t,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(o,i)}class r extends o.z{onInit(){var e,n=this;return(e=function*(){n.instance&&n.instance.setId(n.metadata.id)},function(){var n=this,t=arguments;return new Promise((function(o,r){var s=e.apply(n,t);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))})()}}},82878:(e,n,t)=>{t.d(n,{E:()=>u});var o=t(80056),i=t(70290),r=t(8477),s=t(86485),a=t(67626),l=t(96583),d=t(53584),p=t(75990),c=t(80607);class u{get id(){return this.ɵid??(this.ɵid=this.injector.get(this.componentWithIdType).id)}get isCustomComponent(){return!this.ɵisPlaceholder}get isPlaceholder(){return this.ɵisPlaceholder}get nearestCustomComponent(){let e=this;do{if(e.isCustomComponent)return e}while(e=e.parent);return null}get nearestDesignCustomComponent(){let e=this;do{if(e.isCustomComponent&&e.designMode)return e}while(e=e.parent);return null}get parent(){return this.ɵparent}get designMode(){return this.ɵdesignMode??(this.ɵdesignMode=this.ɵisPlaceholder?!!this.injector.get(r.xM,null,{optional:!0}):!!this.injector.get(r.xM,null,{skipSelf:!0,optional:!0}))}get placeholderContainer(){return!(!this.parent||this.parent.isPlaceholder&&this.parent.designMode)}get layoutDesignerComponentTransform(){return this.injector.get(r.xM,null,{skipSelf:!0,optional:!0})??this.findRelatedCustomComponentHandler()?.injector?.get(r.xM,null,{skipSelf:!0,optional:!0})??null}get relationsComponentManager(){return this.getParentCustomComponentHandler()?.injector.get(s.s,void 0,{skipSelf:!0})??null}get relationsProcessor(){return this.getParentCustomComponentHandler()?.injector.get(a.v,void 0,{skipSelf:!0})??null}get relationsChangeDetector(){return this.getParentCustomComponentHandler()?.injector.get(l.H,void 0,{skipSelf:!0})??null}get relationsDebugger(){return this.getParentCustomComponentHandler()?.injector.get(d.Y,void 0,{skipSelf:!0})??null}get relationsManager(){return this.getParentCustomComponentHandler()?.injector.get(p.N,void 0,{skipSelf:!0})??null}constructor(e,n){this.componentWithIdType=e,this.customComponent=n,this.ɵparent=(0,o.f3)(u,{optional:!0,skipSelf:!0}),this.injector=(0,o.f3)(i.z),this.logger=(0,o.f3)(c.bZ),this.ɵisPlaceholder=!this.customComponent}getOptions(e){return this.isPlaceholder?this.parent?this.parent.getOptions(e):null:this.isCustomComponent&&this.customComponent?.options?.placeholderContainers?.[e]?this.customComponent.options.placeholderContainers[e]:this.parent?this.parent.getOptions(e):null}initOptions(){var e;const n=this.nearestDesignCustomComponent;if(n?.designMode&&n.customComponent)if(n.customComponent.options){if(!n.customComponent.options.placeholderContainers?.[this.id]){const t=`placeholderContainer-${n.id}-${this.id}`;(e=n.customComponent.options).placeholderContainers??(e.placeholderContainers={}),n.customComponent.options.placeholderContainers[this.id]={id:t,name:"placeholderContainer",package:"custom-components",displayName:t,options:{}}}}else this.logger.error("PlaceholderHandler: missing custom component options!");else this.logger.error("PlaceholderHandler: closes parent custom component should be in editation mode!")}findRelatedCustomComponentHandler(){let e=0,n=0,t=this;if(!t.parent)return null;do{if(t.parent.isCustomComponent&&t.parent.designMode)return e==n?t.parent:null;t.parent.isCustomComponent?n++:e++}while(t=t.parent);return null}getParentCustomComponentHandler(){let e=this;if(!e.parent)throw new Error("PlaceholderHandler: parent must be present to work with relations!");do{if(!e.isPlaceholder&&e.customComponent?.options?.placeholderContainers?.[this.id])return e}while(e=e.parent);return this.logger.error("PlaceholderHandler: unable to find owning custom component for {{@id}}",{id:this.id}),null}}},53633:(e,n,t)=>{t.d(n,{h:()=>h});var o=t(80607),i=t(7199),r=t(15554),s=t(86870),a=t(8530),l=t(70290),d=t(5549),p=t(28539);function c(e,n,t,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(o,i)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var r=e.apply(n,t);function s(e){c(r,o,i,s,a,"next",e)}function a(e){c(r,o,i,s,a,"throw",e)}s(void 0)}))}}class h{get element(){return this.componentElement}get extensionsOptions(){return this.options}constructor(e,n,t,o){this.changeDetector=e,this.componentElement=n,this.injector=t,this.logger=o,this.extensions=[],this.initialized=!1,this.destroyed=!1}ngOnDestroy(){if(!this.destroyed){this.destroyed=!0;for(const e of this.extensions)e.destroy();this.onDestroy()}}ngOnInit(){var e=this;return u((function*(){if(e.initialized)return;e.initialized=!0;const n=e.extensionsOptions;if(yield e.onInit(),yield e.onOptionsSet(),n)for(const n of e.extensions)yield n.initialize(e.injector,e.element,e);yield e.afterInit()}))()}ngOnChanges(e){var n=this;return u((function*(){if((0,i.$0)("options")in e){yield n.onOptionsSet();const e=n.extensionsOptions;if(e)for(const t of n.extensions)yield t.optionsChange(e);if(!n.initialized)return;yield n.onOptionsChange()}delete e[(0,i.$0)("options")],(0,i.Qr)(e)||n.onChanges(e)}))()}registerExtensions(e){this.extensions=e}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(e){}onOptionsSet(){}onDestroy(){}}h.ɵfac=function(e){return new(e||h)(r.Y(s.s),r.Y(a.SB),r.Y(l.z),r.Y(o.bZ,8))},h.ɵdir=d.lG({type:h,features:[p.T]})},60405:(e,n,t)=>{t.d(n,{i:()=>M});var o,i=t(79077),r=t(70290),s=t(80607),a=t(13457),l=t(26038),d=t(7199);!function(e){e[e.ShowNotFound=0]="ShowNotFound",e[e.Ignore=1]="Ignore",e[e.ThrowError=2]="ThrowError"}(o||(o={}));class p{constructor(e){this.missingTypeBehavior=o.ShowNotFound,(0,d.EN)(e)&&(this.missingTypeBehavior=e)}}var c=t(94250),u=t(5549),h=t(83052),m=t(94353),g=t(78581),f=t(21179),C=t(55640),v=t(23527);class y{}y.ɵfac=function(e){return new(e||y)},y.ɵcmp=u.Xp({type:y,selectors:[["not-found-layout-type"]],standalone:!0,features:[h.j],decls:6,vars:3,consts:[[1,"fas","fa-minus-circle"]],template:function(e,n){1&e&&(m.Tg(0,"div"),m._U(1,"span",0),m.Tg(2,"span"),g._(3),f.AL(4,"localize"),m.qZ(),m._U(5,"span",0),m.qZ()),2&e&&(C.x(3),v.Oq(f.lc(4,1,"NOT FOUND")))},dependencies:[c.v],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var w=t(8477),R=t(15554),x=t(81874),P=t(61980),D=t(28539);function b(e,n,t,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(o,i)}class M{get component(){return this.ɵComponentRef?this.ɵComponentRef.instance:null}get componentRef(){return this.ɵComponentRef}constructor(e,n,t,o,r,s,a){this.viewContainerRef=e,this.loader=n,this.childExtensions=t,this.scopeId=o,this.options=r,this.metadataTransformer=s,this.logger=a,this.ɵComponentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new i.v,this.componentElementChange=new i.v,this.options&&this.options instanceof p||(this.options=new p)}ngOnChanges(e){var n,t=this;return(n=function*(){if(t.logger?.debug("LayoutComponentRendererSADirective: rendering component {{@id}}",{id:t.componentMetadata?.id}),t.ngOnDestroy(),t.viewContainerRef.clear(),(0,d.$0)("componentMetadata")in e&&t.componentMetadata){const e=t.customInjector??t.viewContainerRef.injector;let n=t.componentMetadata;const i=t.componentMetadata.scope;t.metadataTransformer&&!t.disableTransformer&&(n=t.metadataTransformer(t.componentMetadata,e));const s=yield t.loader.loadItem(n);if(!s){switch(t.logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {{@type}}",{type:{name:n.name,package:n.package}}),t.options?.missingTypeBehavior){default:t.viewContainerRef.createComponent(y);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${n.name} Package: ${n.package}`)}return}const d=r.z.create({parent:e,providers:[{provide:a.H$,useValue:i??t.scopeId??null},{provide:w.X5,useValue:s.childExtensions}]});t.ɵComponentRef=t.viewContainerRef.createComponent(s.data,{injector:d}),t.logger?.debug("LayoutComponentRendererSADirective: component rendered {{@id}}",{id:n?.id});const p=t.component;if(p){p.registerExtensions([...t.childExtensions?.map((e=>new e(n)))??[],...s?.extensions?.map((e=>new e(n)))??[]]);const e={};(0,l.mv)(e,"options",n.options,p.options,!0),t.logger?.debug("LayoutComponentRendererSADirective: setting options for component {{@id}}",{id:n?.id}),p.options=n.options,t.logger?.debug("LayoutComponentRendererSADirective: setting changes for component {{@id}}",{id:n?.id}),yield p.ngOnChanges?.(e),t.logger?.debug("LayoutComponentRendererSADirective: initializing component {{@id}}",{id:n?.id}),yield p.ngOnInit?.(),t.logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {{@id}}",{id:n?.id}),t.ɵComponentRef?.changeDetectorRef.markForCheck(),t.componentElementChange.next(t.ɵComponentRef?.hostView?.rootNodes?.[0]),t.componentChange.next(t.ɵComponentRef)}}},function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function s(e){b(r,o,i,s,a,"next",e)}function a(e){b(r,o,i,s,a,"throw",e)}s(void 0)}))})()}ngOnDestroy(){this.ɵComponentRef&&(this.logger?.debug("LayoutComponentRendererSADirective: destroying component {{@id}}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this.ɵComponentRef?.destroy(),this.ɵComponentRef=null,this.componentChange.next(null),this.componentElementChange.next(null))}}M.ɵfac=function(e){return new(e||M)(R.Y(x.s_),R.Y(w.Vl),R.Y(w.X5,12),R.Y(a.H$,8),R.Y(p,8),R.Y(w.xM,8),R.Y(s.bZ,8))},M.ɵdir=u.lG({type:M,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange",componentElementChange:"componentElementChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[P._([{provide:w.X5,useValue:null}]),D.T]})},31331:(e,n,t)=>{function o(e,n,t,o,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(o,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var s=e.apply(n,t);function a(e){o(s,i,r,a,l,"next",e)}function l(e){o(s,i,r,a,l,"throw",e)}a(void 0)}))}}t.d(n,{z:()=>r});class r{constructor(e){this.metadata=e,this.initialized=!1}initialize(e,n,t){var o=this;return i((function*(){o.initialized=!0,o.injector=e,o.element=n,o.instance=t,yield o.onInit()}))()}optionsChange(e){var n=this;return i((function*(){n.options=e,n.initialized&&(yield n.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}}}]);
//# sourceMappingURL=183.chunk.263c36a6c7bdbedda222.js.map