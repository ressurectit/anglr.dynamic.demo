"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[49],{49:(t,n,e)=>{e.r(n),e.d(n,{default:()=>b});var o=e(2032),i=e(27052),r=e(53867),s=e(60405),a=e(96791),c=e(57466),p=e(94596);function l(t,n,e,o,i,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(o,i)}class d extends p.Xt{_getInstance(){return(t=function*(){return new((yield e.e(169).then(e.bind(e,14169))).GridPanelLayoutEditorMetadata)},function(){var n=this,e=arguments;return new Promise((function(o,i){var r=t.apply(n,e);function s(t){l(r,o,i,s,a,"next",t)}function a(t){l(r,o,i,s,a,"throw",t)}s(void 0)}))})();var t}}var m=e(4477),u=e(15686),g=e(66794),h=e(73301),f=e(43801),_=e(77842),y=e(47098),v=e(82568),w=e(12311);function C(t,n){}function R(t,n){if(1&t&&(m.yn(0),u.Y(1,C,0,0,"ng-template",1),m.BQ()),2&t){const t=n.$implicit;g.x(1),h.Q("layoutComponentRenderer",t)}}let S=class extends r.N{_optionsSet(){this._fixCells();const t=this._element.nativeElement.style;let n="",e="";if(this._options?.rows&&Array.isArray(this._options?.rows))for(const t of this._options.rows)n+=`${t.height} `;if(this._options?.columns&&Array.isArray(this._options?.columns))for(const t of this._options.columns)e+=`${t.width} `;t.gridTemplateRows=n.trim(),t.gridTemplateColumns=e.trim()}_fixCells(){var t;if(!this._options)return;(t=this._options).cells??(t.cells=[]);const n=[];for(let t=0;t<(this._options.rows??[]).length;t++)for(let e=0;e<(this._options.columns??[]).length;e++)n[t]??(n[t]=[]),n[t][e]="";for(const t of this._options.cells){t.package="basic-components",t.name="gridPanelCell";for(let e=t.options?.gridRowStart??1;e<(t.options?.gridRowEnd??2);e++)for(let o=t.options?.gridColumnStart??1;o<(t.options?.gridColumnEnd??2);o++){const i=e-1,r=o-1;""===n[i][r]&&(n[i][r]=t.id)}}for(let t=1;t<=(this._options.rows??[]).length;t++)for(let e=1;e<=(this._options.columns??[]).length;e++)""===n[t-1][e-1]&&this._options.cells.push({id:`${(0,c.Ox)(6)}-r${t}-${t+1}-c${e}-${e+1}`,package:"basic-components",name:"gridPanelCell",options:{gridRowStart:t,gridRowEnd:t+1,gridColumnStart:e,gridColumnEnd:e+1}})}};S.ɵfac=function(){let t;return function(n){return(t||(t=f.n5(S)))(n||S)}}(),S.ɵcmp=_.Xp({type:S,selectors:[["grid-panel"]],standalone:!0,features:[y.q,v.j],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"layoutComponentRenderer"]],template:function(t,n){1&t&&u.Y(0,R,2,1,"ng-container",0),2&t&&h.Q("ngForOf",null==n.options?null:n.options.cells)},dependencies:[i.e,w.s,s.i],styles:["[_nghost-%COMP%]\n{\n    display: grid;\n}"],changeDetection:0}),S=(0,o.gn)([(0,a.w)(d)],S);const b=S},53867:(t,n,e)=>{e.d(n,{N:()=>u});var o=e(46480),i=e(43939),r=e(79440),s=e(4905),a=e(77842);class c{constructor(t){this._element=t}get options(){return this._options}set options(t){this._options=t,this._applyStyles()}_applyStyles(){const t=this._element.nativeElement.style;this._options?.margin&&((0,i.EN)(this._options.margin.bottom)&&(t.marginBottom=this._options.margin.bottom),(0,i.EN)(this._options.margin.right)&&(t.marginRight=this._options.margin.right),(0,i.EN)(this._options.margin.top)&&(t.marginTop=this._options.margin.top),(0,i.EN)(this._options.margin.left)&&(t.marginLeft=this._options.margin.left)),this._options?.padding&&((0,i.EN)(this._options.padding.bottom)&&(t.paddingBottom=this._options.padding.bottom),(0,i.EN)(this._options.padding.right)&&(t.paddingRight=this._options.padding.right),(0,i.EN)(this._options.padding.top)&&(t.paddingTop=this._options.padding.top),(0,i.EN)(this._options.padding.left)&&(t.paddingLeft=this._options.padding.left)),this._options?.textStyling&&((0,i.EN)(this._options.textStyling.fontSize)&&(t.fontSize=this._options.textStyling.fontSize),(0,i.EN)(this._options.textStyling.fontWeight)&&(t.fontWeight=this._options.textStyling.fontWeight.toString()))}}c.ɵfac=function(t){return new(t||c)(r.Y(s.SB))},c.ɵdir=a.lG({type:c,selectors:[["","componentStyling",""]],inputs:{options:["componentStyling","options"]},exportAs:["componentStyling"],standalone:!0});var p=e(53633),l=e(68961),d=e(86357),m=e(47098);class u extends p.h{constructor(t,n,e){super(t,n,e),this._componentStyling=new c(this._element)}invalidateVisuals(){this._componentStyling.options=this.options,this._changeDetector.detectChanges()}}u.ɵfac=function(t){return new(t||u)(r.Y(l.s),r.Y(s.SB),r.Y(o.bZ,8))},u.ɵdir=a.lG({type:u,hostVars:1,hostBindings:function(t,n){2&t&&d.u("componentStyling",n._componentStyling)},features:[m.q]})},60405:(t,n,e)=>{e.d(n,{i:()=>C});var o,i=e(74445),r=e(46480),s=e(49891),a=e(87606),c=e(43939);!function(t){t[t.ShowNotFound=0]="ShowNotFound",t[t.Ignore=1]="Ignore",t[t.ThrowError=2]="ThrowError"}(o||(o={}));class p{constructor(t){this.missingTypeBehavior=o.ShowNotFound,(0,c.EN)(t)&&(this.missingTypeBehavior=t)}}var l=e(77842),d=e(82568),m=e(80827),u=e(41853);class g{}g.ɵfac=function(t){return new(t||g)},g.ɵcmp=l.Xp({type:g,selectors:[["not-found-layout-type"]],standalone:!0,features:[d.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(t,n){1&t&&(m.Tg(0,"div"),m._U(1,"span",0),m.Tg(2,"span"),u._(3,"NOT FOUND"),m.qZ(),m._U(4,"span",0),m.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var h=e(8477),f=e(79440),_=e(8215),y=e(36973),v=e(12193);function w(t,n,e,o,i,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(o,i)}class C{constructor(t,n,e,o,r){this._viewContainerRef=t,this._loader=n,this._options=e,this._metadataTransformer=o,this._logger=r,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new i.v,this._options&&this._options instanceof p||(this._options=new p)}get component(){return this._componentRef?this._componentRef.instance:null}get componentRef(){return this._componentRef}ngOnChanges(t){var n,e=this;return(n=function*(){if(e._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:e.componentMetadata?.id}),e.ngOnDestroy(),e._viewContainerRef.clear(),(0,s.$)("componentMetadata")in t&&e.componentMetadata){const t=e.customInjector||e._viewContainerRef.injector;let n=e.componentMetadata;e._metadataTransformer&&!e.disableTransformer&&(n=e._metadataTransformer(e.componentMetadata,t));const i=yield e._loader.loadItem(n);if(!i){switch(e._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:n.name,package:n.package}),e._options?.missingTypeBehavior){default:e._viewContainerRef.createComponent(g);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${n.name} Package: ${n.package}`)}return}e._componentRef=e._viewContainerRef.createComponent(i.type,{injector:t}),e._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:n?.id}),e.componentChange.next(e._componentRef),e.component&&(e._logger?.debug("LayoutComponentRendererSADirective: initializing component with options {@id}",{id:n?.id}),yield(0,a.K)(e.component.initialize?.(n.options)),e._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:n?.id}),e.component?.invalidateVisuals())}},function(){var t=this,e=arguments;return new Promise((function(o,i){var r=n.apply(t,e);function s(t){w(r,o,i,s,a,"next",t)}function a(t){w(r,o,i,s,a,"throw",t)}s(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}C.ɵfac=function(t){return new(t||C)(f.Y(_.s_),f.Y(v.S),f.Y(p,8),f.Y(h.x,8),f.Y(r.bZ,8))},C.ɵdir=l.lG({type:C,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[y.T]})},12193:(t,n,e)=>{e.d(n,{S:()=>l});var o=e(46480),i=e(87606),r=e(43939),s=e(13457),a=e(11776),c=e(38327);function p(t,n,e,o,i,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(o,i)}class l{constructor(t,n,e){this._providers=t,this._extractors=n,this._logger=e,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[])}loadItem(t){var n,e=this;return(n=function*(){let n=null;const o=`${t.package}-${t.name}`;if(e._cachedDynamicItems[o])return e._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:t.name,package:t.package}),e._cachedDynamicItems[o];for(const o of e._providers){const e=o.tryToGet(t);if(n=e?yield(0,i.K)(e):null,n)break}if(!n)return e._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:t.name,package:t.package}),null;for(const t of e._extractors){const i=t.tryToExtract(n);if(i&&(0,r.P9)(i)){const t={type:i};return e._cachedDynamicItems[o]=t}}return e._logger?.debug("DynamicItemLoader: Failed to extract dynamic type {@source}",{name:t.name,package:t.package}),null},function(){var t=this,e=arguments;return new Promise((function(o,i){var r=n.apply(t,e);function s(t){p(r,o,i,s,a,"next",t)}function a(t){p(r,o,i,s,a,"throw",t)}s(void 0)}))})()}}l.ɵfac=function(t){return new(t||l)(a.LF(s.iD),a.LF(s.WU),a.LF(o.bZ,8))},l.ɵprov=c.Yz({token:l,factory:l.ɵfac,providedIn:"root"})},87606:(t,n,e)=>{function o(t,n,e,o,i,r,s){try{var a=t[r](s),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(o,i)}function i(t){return function(){var n=this,e=arguments;return new Promise((function(i,r){var s=t.apply(n,e);function a(t){o(s,i,r,a,c,"next",t)}function c(t){o(s,i,r,a,c,"throw",t)}a(void 0)}))}}function r(t){return s.apply(this,arguments)}function s(){return(s=i((function*(t){return t instanceof Promise?yield t:t}))).apply(this,arguments)}e.d(n,{K:()=>r})}}]);
//# sourceMappingURL=49.chunk.e4d06a1dd6b9840e4546.js.map