"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9913],{9913:(t,e,n)=>{n.r(e),n.d(e,{RelationsComplexModule:()=>Dt});var a=n(14392),o=n(27052),r=n(68624),i=n(76668),s=n(89001),l=n(35648),u=n(97212),c=n(66888),p=n(94761),d=n(97149),g=n(83434),m=n(22804),h=n(56179),v=n(99043),_=n(57489),f=n(57466),y=n(27049),b=n(85638),w=n(89952),x=n(87752),C=n(79440),M=n(13691),I=n(73379),k=n(80827),T=n(41853),P=n(72891),N=n(66794),Y=n(73301),O=n(84967),U=n(7842),D=n(86825);let Z=class{constructor(t,e){this._manager=t,this._store=e,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,f.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return{layout:this._manager.getMetadata()}}_loadDemo(){this._metadata=b.F.demoRelationsComplexLayout}};Z.ɵfac=function(t){return new(t||Z)(C.Y(g.t),C.Y(w.U))},Z.ɵcmp=M.Xp({type:Z,selectors:[["layout-editor-view"]],features:[I._([x.X,{provide:m.I,useExisting:x.X},(0,d._)(),(0,h.vQ)(),(0,v.gJ)(),(0,_.hd)()])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(k.Tg(0,"div",0)(1,"button",1)(2,"span"),T._(3,"go back"),k.qZ()(),k.Tg(4,"load-save-new",2),P.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),k.qZ(),k.Tg(5,"button",3),P.N("click",(function(){return e._loadDemo()})),k.Tg(6,"span"),T._(7,"demo"),k.qZ()()(),k._U(8,"layout-editor",4)),2&t&&(N.x(4),Y.Q("store",e._store)("getMetadataCallback",e._getMetadata),N.x(4),Y.Q("metadata",e._metadata))},dependencies:[O.v,U.Z,D.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([y.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],Z.prototype,"_getMetadata",null),Z=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[g.t,w.U])],Z);var q=n(37943),F=n(15467),Q=n(70625),R=n(2991),A=n(56224),L=n(75990),J=n(15686),X=n(4477),j=n(94727),z=n(32361),E=n(12311),S=n(77470),V=n(27635),B=n(4489),H=n(68965),K=n(31686),W=n(60405),$=n(68961),G=n(36759),tt=n(96130),et=n(86485),nt=n(6552);function at(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}const ot=function(){var t,e=(t=function*(){return new((yield n.e(9776).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){at(r,a,o,i,s,"next",t)}function s(t){at(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var rt,it=n(82568),st=n(49280),lt=n(70983);function ut(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let ct=rt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new Q.NI(""),this.booleanForm=new Q.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}static get relationsId(){return"static-input"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(rt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(rt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){ut(r,a,o,i,s,"next",t)}function s(t){ut(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(rt.relationsId),this._componentManager.unregisterComponent(rt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function pt(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}ct.ɵfac=function(t){return new(t||ct)(C.Y($.s),C.Y(tt.v),C.Y(et.s))},ct.ɵcmp=M.Xp({type:ct,selectors:[["static-input"]],standalone:!0,features:[it.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(k.Tg(0,"div"),T._(1,"INPUT:"),k.qZ(),k.Tg(2,"div",0),k._U(3,"input",1)(4,"input",2),k.qZ()),2&t&&(N.x(3),Y.Q("formControl",e.stringForm),N.x(1),Y.Q("formControl",e.booleanForm))},dependencies:[r.U,st.Fj,lt.W,S.JJ,V.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,G.A)(),(0,a.w6)("design:type",String)],ct.prototype,"stringOutput",void 0),(0,a.gn)([(0,G.A)(),(0,a.w6)("design:type",Boolean)],ct.prototype,"booleanOutput",void 0),ct=rt=(0,a.gn)([(0,nt.i)(ot),(0,a.w6)("design:paramtypes",[$.s,tt.v,et.s])],ct);const dt=function(){var t,e=(t=function*(){return new((yield n.e(7863).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){pt(r,a,o,i,s,"next",t)}function s(t){pt(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var gt,mt=n(6427);function ht(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let vt=gt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}static get relationsId(){return"static-output"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(gt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(gt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){ht(r,a,o,i,s,"next",t)}function s(t){ht(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(gt.relationsId),this._componentManager.unregisterComponent(gt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function _t(t,e){if(1&t&&k._U(0,"ng-option",9),2&t){const t=e.$implicit;Y.Q("value",t)("text",t)}}vt.ɵfac=function(t){return new(t||vt)(C.Y($.s),C.Y(tt.v),C.Y(et.s))},vt.ɵcmp=M.Xp({type:vt,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[it.j],decls:7,vars:2,template:function(t,e){1&t&&(k.Tg(0,"div"),T._(1,"OUTPUT:"),k.qZ(),k.Tg(2,"div")(3,"div"),T._(4),k.qZ(),k.Tg(5,"div"),T._(6),k.qZ()()),2&t&&(N.x(4),mt.hi("string: ",e.stringInput,""),N.x(2),mt.hi("boolean: ",e.booleanInput,""))},dependencies:[r.U],encapsulation:2,changeDetection:0}),vt=gt=(0,a.gn)([(0,nt.i)(dt),(0,a.w6)("design:paramtypes",[$.s,tt.v,et.s])],vt);const ft=function(t){return["/relationsComplex/layout",t]},yt=function(t){return["/relationsComplex/relations",t]};let bt=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new Q.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};bt.ɵfac=function(t){return new(t||bt)(C.Y(w.U),C.Y(q.F0),C.Y(L.N),C.Y(F.gz))},bt.ɵcmp=M.Xp({type:bt,selectors:[["layout-preview-view"]],features:[I._([(0,R._)(),(0,A.A)(),(0,h.I3)(),(0,v.Yj)(),(0,v.fm)(),(0,_.IM)(),(0,_.y)()])],decls:12,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(k.Tg(0,"div",0)(1,"a",1),T._(2,"layout"),k.qZ(),k.Tg(3,"a",1),T._(4,"relations"),k.qZ(),k.Tg(5,"ng-select",2),J.Y(6,_t,1,2,"ng-option",3),k.qZ()(),k.Tg(7,"div",4),k._U(8,"static-input",5),k.Tg(9,"div",6),X.Gk(10,7),k.qZ(),k._U(11,"static-output",8),k.qZ()),2&t&&(N.x(1),Y.Q("routerLink",j.VK(5,ft,e._available.value)),N.x(2),Y.Q("routerLink",j.VK(7,yt,e._available.value)),N.x(2),Y.Q("formControl",e._available),N.x(1),Y.Q("ngForOf",e._availableNames),N.x(4),Y.Q("layoutComponentRenderer",e._metadata))},dependencies:[E.s,S.JJ,V.oH,z.y,B.x,H.w,K.v,W.i,ct,vt],encapsulation:2,changeDetection:0}),bt=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[w.U,q.F0,L.N,F.gz])],bt);var wt=n(48397),xt=n(28626),Ct=n(80734),Mt=n(54870),It=n(43801),kt=n(38327);class Tt extends Mt.w{getDefinedTypes(){const t={};return t[ct.relationsId]=ct,t[vt.relationsId]=vt,t}}Tt.ɵfac=function(){let t;return function(e){return(t||(t=It.n5(Tt)))(e||Tt)}}(),Tt.ɵprov=kt.Yz({token:Tt,factory:Tt.ɵfac});var Pt=n(36159);let Nt=class{constructor(t,e,n){this._manager=t,this._store=e,this._layoutManager=n,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(){return{relations:this._manager.getMetadata()}}_loadDemo(){this._metadata=b.F.demoRelationsComplexRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};Nt.ɵfac=function(t){return new(t||Nt)(C.Y(wt.J),C.Y(w.U),C.Y(Ct.n))},Nt.ɵcmp=M.Xp({type:Nt,selectors:[["relations-editor-view"]],features:[I._([(0,xt.S)(Tt),(0,_.vu)(),(0,v.Rn)(),(0,h.El)()])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(k.Tg(0,"div",0)(1,"button",1)(2,"span"),T._(3,"go back"),k.qZ()(),k.Tg(4,"load-save-new",2),P.N("metadataChange",(function(t){return e.setMetadata(t)})),k.qZ(),k.Tg(5,"button",3),P.N("click",(function(){return e._loadDemo()})),k.Tg(6,"span"),T._(7,"demo"),k.qZ()()(),k._U(8,"relations-editor",4)),2&t&&(N.x(4),Y.Q("store",e._store)("getMetadataCallback",e._getMetadata),N.x(4),Y.Q("metadata",e._metadata))},dependencies:[O.v,Pt.Y,D.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([y.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],Nt.prototype,"_getMetadata",null),Nt=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[wt.J,w.U,Ct.n])],Nt);const Yt=[Z,Nt,bt];var Ot=n(18567),Ut=n(53245);let Dt=class{};Dt.ɵfac=function(t){return new(t||Dt)},Dt.ɵmod=M.oA({type:Dt}),Dt.ɵinj=kt.cJ({providers:[(0,Ut.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,r.U,i.Bz,l.A,u.p,c.W,Ot.Qw,ct,vt]}),Dt=(0,a.gn)([(0,s.P)(Yt)],Dt)}}]);
//# sourceMappingURL=9913.chunk.42405a35d71b15fd2a19.js.map