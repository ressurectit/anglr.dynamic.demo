/*! For license information please see 7533.chunk.67a0f136f173fd9e517b.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7533],{18978:(t,e,n)=>{n.r(e),n.d(e,{RestRelationsEditorMetadata:()=>ot});var a=n(27052),o=n(68624),i=n(93551),s=n(40876),r=n(60901),c=n(85478),l=n(71791),u=n(57466),d=n(64297),p=n(30621),f=n(9249);class m{constructor(t){this.type="PATH",this.configurable=!1,this.value="",this.name=null,u.Rl.bind(this)(t)}}var h=n(80827),g=n(41853),_=n(79440),v=n(77842),C=n(73379),T=n(82568),w=n(15686),O=n(73301),y=n(66794),b=n(21651),E=n(24881),S=n(17790),R=n(49280),x=n(70983),P=n(77470),Z=n(86170),q=n(66163),D=n(80943);function Y(t,e){1&t&&(h.Tg(0,"option",13),g._(1,"BODY"),h.qZ())}class L{constructor(t,e){this.data=t,this.form=e.build(new m(t.parameter)),this.form.valueChanges.subscribe((e=>(0,u.l7)(t.parameter,e)))}}L.ɵfac=function(t){return new(t||L)(_.Y(f.m),_.Y(l.p))},L.ɵcmp=v.Xp({type:L,selectors:[["configure-rest-parameter"]],standalone:!0,features:[C._([l.p]),T.j],decls:29,vars:4,consts:[[3,"formGroup"],[1,"form-group","margin-bottom-extra-small"],[1,"control-label","text-uppercase"],["formControlName","type",1,"form-control"],["value","BODY",4,"ngIf"],["value","PATH"],["value","QUERY"],["type","text","formControlName","value",1,"form-control"],["type","text","formControlName","name",1,"form-control"],["type","checkbox","formControlName","configurable",1,"form-control"],[1,"flex-row","flex-end"],["type","button",1,"btn","btn-info","margin-right-extra-small",3,"mat-dialog-close"],["type","button",1,"btn","btn-primary",3,"mat-dialog-close"],["value","BODY"]],template:function(t,e){1&t&&(h.Tg(0,"div",0)(1,"div",1)(2,"label",2),g._(3,"type"),h.qZ(),h.Tg(4,"select",3),w.Y(5,Y,2,0,"option",4),h.Tg(6,"option",5),g._(7,"PATH"),h.qZ(),h.Tg(8,"option",6),g._(9,"QUERY"),h.qZ()()(),h.Tg(10,"div",1)(11,"label",2),g._(12,"value"),h.qZ(),h._U(13,"input",7),h.qZ(),h.Tg(14,"div",1)(15,"label",2),g._(16,"name"),h.qZ(),h._U(17,"input",8),h.qZ(),h.Tg(18,"div",1)(19,"label",2),g._(20,"configurable"),h.qZ(),h._U(21,"input",9),h.qZ()(),h.Tg(22,"div",10)(23,"button",11)(24,"span"),g._(25,"cancel"),h.qZ()(),h.Tg(26,"button",12)(27,"span"),g._(28,"ok"),h.qZ()()()),2&t&&(O.Q("formGroup",e.form),y.x(5),O.Q("ngIf",!e.data.hasBody),y.x(18),O.Q("mat-dialog-close",null),y.x(3),O.Q("mat-dialog-close",!0))},dependencies:[a.e,b.O,o.U,E.YN,S.Kr,R.Fj,x.W,E.EJ,P.JJ,P.JL,Z.s,q.u,p.I,D.ZT],encapsulation:2,changeDetection:0});class N{constructor(t){this.url="",this.method="GET",this.runImmediately=!0,u.Rl.bind(this)(t)}}var U=n(6845),A=n(84773),I=n(72891),k=n(43870),Q=n(6427),V=n(4477),z=n(68961),H=n(4905),F=n(47098),B=n(47826),j=n(12311),G=n(30084);function $(t,e,n,a,o,i,s){try{var r=t[i](s),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(a,o)}function J(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){$(i,a,o,s,r,"next",t)}function r(t){$(i,a,o,s,r,"throw",t)}s(void 0)}))}}function M(t,e){if(1&t&&h._U(0,"relation-node-input",29),2&t){const t=U.o(2).$implicit,e=U.o();O.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e)}}function K(t,e){if(1&t){const t=A.E();h.Tg(0,"div",23),w.Y(1,M,1,4,"relation-node-input",24),h.Tg(2,"div",25)(3,"div"),g._(4),h.qZ(),h.Tg(5,"button",26),I.N("click",(function(e){k.CH(t);const n=U.o().$implicit,a=U.o();return e.preventDefault(),e.stopPropagation(),k.Kt(a.configureRestParameter(n))})),h._U(6,"span",27),h.qZ(),h.Tg(7,"button",15),I.N("click",(function(e){k.CH(t);const n=U.o().$implicit,a=U.o();return e.preventDefault(),e.stopPropagation(),k.Kt(a.removeParam(n))})),h._U(8,"span",28),h.qZ()()()}if(2&t){const t=U.o().$implicit;y.x(1),O.Q("ngIf",t.configurable),y.x(3),Q.hi("BODY: ",t.name,"")}}function X(t,e){if(1&t&&h._U(0,"relation-node-input",29),2&t){const t=U.o(2).$implicit,e=U.o();O.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e)}}function W(t,e){if(1&t){const t=A.E();h.Tg(0,"div",23),w.Y(1,X,1,4,"relation-node-input",24),h.Tg(2,"div",25)(3,"div"),g._(4),h.qZ(),h.Tg(5,"button",26),I.N("click",(function(){k.CH(t);const e=U.o().$implicit,n=U.o();return k.Kt(n.configureRestParameter(e))})),h._U(6,"span",27),h.qZ(),h.Tg(7,"button",15),I.N("click",(function(e){k.CH(t);const n=U.o().$implicit,a=U.o();return e.preventDefault(),e.stopPropagation(),k.Kt(a.removeParam(n))})),h._U(8,"span",28),h.qZ()()()}if(2&t){const t=U.o().$implicit;y.x(1),O.Q("ngIf",t.configurable),y.x(3),Q.hi("PATH: ",t.name,"")}}function tt(t,e){if(1&t&&h._U(0,"relation-node-input",29),2&t){const t=U.o(2).$implicit,e=U.o();O.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e)}}function et(t,e){if(1&t){const t=A.E();h.Tg(0,"div",23),w.Y(1,tt,1,4,"relation-node-input",24),h.Tg(2,"div",25)(3,"div"),g._(4),h.qZ(),h.Tg(5,"button",26),I.N("click",(function(){k.CH(t);const e=U.o().$implicit,n=U.o();return k.Kt(n.configureRestParameter(e))})),h._U(6,"span",27),h.qZ(),h.Tg(7,"button",15),I.N("click",(function(e){k.CH(t);const n=U.o().$implicit,a=U.o();return e.preventDefault(),e.stopPropagation(),k.Kt(a.removeParam(n))})),h._U(8,"span",28),h.qZ()()()}if(2&t){const t=U.o().$implicit;y.x(1),O.Q("ngIf",t.configurable),y.x(3),Q.hi("QUERY: ",t.name,"")}}function nt(t,e){if(1&t&&(V.yn(0)(1,21),w.Y(2,K,9,2,"div",22),w.Y(3,W,9,2,"div",22),w.Y(4,et,9,2,"div",22),V.BQ()()),2&t){const t=e.$implicit;y.x(1),O.Q("ngSwitch",t.type),y.x(1),O.Q("ngSwitchCase","BODY"),y.x(1),O.Q("ngSwitchCase","PATH"),y.x(1),O.Q("ngSwitchCase","QUERY")}}class at extends i.M{constructor(t,e,n,a){super(t,e),this.dialog=n,this.form=a.build(new N(null)),this.form.valueChanges.subscribe((t=>{this.metadata?.relationsOptions&&(0,u.l7)(this.metadata.relationsOptions,t)}))}get params(){var t,e;return this.metadata?((t=this.metadata).relationsOptions??(t.relationsOptions={params:[],url:null,method:null,runImmediately:!0}),(e=this.metadata.relationsOptions).params??(e.params=[])):[]}addParam(){var t=this;return J((function*(){const e={configurable:!1,name:null,type:"PATH",value:null};(yield t.configureRestParameter(e))&&t.params.push(e)}))()}removeParam(t){const e=this.params.indexOf(t);e>=0&&this.params.splice(e,1)}configureRestParameter(t){var e=this;return J((function*(){const n=JSON.parse(JSON.stringify(t)),a=yield(0,d.n)(e.dialog.open(L,{title:"configure rest parameter",width:"60vw",data:{parameter:t,hasBody:"BODY"!==t.type&&!!e.params.find((t=>"BODY"===t.type))}}).afterClosed());return a||(0,u.l7)(t,n),a??!1}))()}metadataSet(){this.metadata?.relationsOptions&&this.form.patchValue(this.metadata.relationsOptions)}}at.ɵfac=function(t){return new(t||at)(_.Y(z.s),_.Y(H.SB),_.Y(B.J),_.Y(l.p))},at.ɵcmp=v.Xp({type:at,selectors:[["rest-node"]],standalone:!0,features:[C._([l.p]),F.q,T.j],decls:38,vars:10,consts:[["name","rest",3,"parent","destroySubject"],[1,"node-content",3,"formGroup"],[1,"form-group","margin-bottom-extra-small"],[1,"control-label","text-uppercase"],["type","text","formControlName","url",1,"form-control"],["formControlName","method",1,"form-control"],["value","GET"],["value","POST"],["value","PUT"],["value","PATCH"],["value","DELETE"],["type","checkbox","formControlName","runImmediately",1,"form-control"],[1,"inputs-outputs"],[1,"inputs"],[4,"ngFor","ngForOf"],["type","button",1,"btn-icon",3,"click"],[1,"fas","fa-plus"],[1,"outputs"],[1,"output"],["name","success",3,"parentCoordiantes","zoomLevel","parent"],["name","error",3,"parentCoordiantes","zoomLevel","parent"],[3,"ngSwitch"],["class","input",4,"ngSwitchCase"],[1,"input"],[3,"parentCoordiantes","zoomLevel","name","parent",4,"ngIf"],[1,"flex-row"],["type","button",1,"btn-icon","margin-horizontal-extra-small",3,"click"],[1,"fas","fa-cog"],[1,"fas","fa-times"],[3,"parentCoordiantes","zoomLevel","name","parent"]],template:function(t,e){1&t&&(h._U(0,"relations-node-header",0),h.Tg(1,"div",1)(2,"div",2)(3,"label",3),g._(4,"url"),h.qZ(),h._U(5,"input",4),h.qZ(),h.Tg(6,"div",2)(7,"label",3),g._(8,"method"),h.qZ(),h.Tg(9,"select",5)(10,"option",6),g._(11,"GET"),h.qZ(),h.Tg(12,"option",7),g._(13,"POST"),h.qZ(),h.Tg(14,"option",8),g._(15,"PUT"),h.qZ(),h.Tg(16,"option",9),g._(17,"PATCH"),h.qZ(),h.Tg(18,"option",10),g._(19,"DELETE"),h.qZ()()(),h.Tg(20,"div",2)(21,"label",3),g._(22,"run immediately"),h.qZ(),h._U(23,"input",11),h.qZ(),h.Tg(24,"div",12)(25,"div",13),w.Y(26,nt,5,4,"ng-container",14),h.Tg(27,"button",15),I.N("click",(function(t){return t.preventDefault(),t.stopPropagation(),e.addParam()})),h._U(28,"span",16),h.qZ()(),h.Tg(29,"div",17)(30,"div",18)(31,"div"),g._(32,"success"),h.qZ(),h._U(33,"relation-node-output",19),h.qZ(),h.Tg(34,"div",18)(35,"div"),g._(36,"error"),h.qZ(),h._U(37,"relation-node-output",20),h.qZ()()()()),2&t&&(O.Q("parent",e)("destroySubject",e.destroySubject),y.x(1),O.Q("formGroup",e.form),y.x(25),O.Q("ngForOf",e.params),y.x(7),O.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e),y.x(4),O.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("parent",e))},dependencies:[a.e,j.s,b.O,G.RF,G.n9,o.U,E.YN,S.Kr,R.Fj,x.W,E.EJ,P.JJ,P.JL,Z.s,q.u,s.e,r.P,c.n],encapsulation:2,changeDetection:0});class ot{constructor(){this.metaInfo={name:"Rest",description:"Restfull requests",group:"Http"},this.nodeDefinition=at,Object.freeze(this)}}},91861:(t,e,n)=>{n.d(e,{Bj:()=>s,DZ:()=>o,GP:()=>i,dK:()=>u,fI:()=>l,n7:()=>c,nR:()=>d,yh:()=>r});var a=n(40296);const o=new a.O("RELATIONS_MODULE_TYPES_DATA_EXTRACTORS"),i=new a.O("RELATIONS_MODULE_TYPES_PROVIDERS"),s=new a.O("RELATIONS_MODULE_TYPES_LOADER"),r=new a.O("RELATIONS_NODES_DATA_EXTRACTORS"),c=new a.O("RELATIONS_NODES_PROVIDERS"),l=new a.O("RELATIONS_NODES_LOADER"),u=new a.O("REFRESH_PALETTE_OBSERVABLES"),d=new a.O("RELATIONS_HISTORY_MANAGER")},44677:(t,e,n)=>{n.d(e,{L:()=>o});var a=n(43939);const o=(t,e)=>{const n=t;return e?.debug("defaultExportExtractor: trying to extract default dynamic data"),(0,a.EN)(n.default)?{data:n.default}:null}},14389:(t,e,n)=>{n.d(e,{LK:()=>r,XW:()=>s,mv:()=>i});var a=n(97825),o=n(13457);function i(t,e,n,a,o=!1){t[e]={currentValue:n,previousValue:a,firstChange:o,isFirstChange:()=>o}}function s(t){return{provide:o.BG,useValue:{packages:[t],packagesChange:a.C,refresh(){}},multi:!0}}function r(t){try{return JSON.parse(t)}catch{return null}}},97825:(t,e,n)=>{n.d(e,{C:()=>i});var a=n(28653),o=n(58656);const i=new a.y(o.Z)},92640:(t,e,n)=>{n.d(e,{x:()=>o});var a=n(70625);const o={asyncValidators:[],validators:[],disabled:!1,type:a.NI,childType:a.NI,args:{}}},71791:(t,e,n)=>{n.d(e,{p:()=>m});var a=n(17777),o=n(66398),i=n(70625),s=n(92640);class r{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}class c{constructor(t,e){this._factoryFn=t,this._args=e}valueOf(){return this._args?t=>(t={...this._args,args:t},this._factoryFn(t)):this._factoryFn}}function l(t,e){if(!t)return new a.cw({});const n=t.ɵControlsMetadata??{},u=t.ɵValidators??[],d=t.ɵAsyncValidators??[],p=t.ɵArgs??{},f=Object.keys(t),m=new a.cw({},{validators:u?.map((t=>t instanceof r?t.valueOf()({...p,...e}):t)).filter((t=>!!t)),asyncValidators:d?.map((t=>t instanceof c?t.valueOf()({...p,...e}):t)).filter((t=>!!t))});for(const u of f){const d=n[u]??s.x,p=t[u];if(void 0===p)continue;const f=d.validators.map((t=>t instanceof r?t.valueOf()({...d.args,...e}):t)).filter((t=>!!t)),h=d.asyncValidators.map((t=>t instanceof c?t.valueOf()({...d.args,...e}):t)).filter((t=>!!t));let g;switch(d.type){case a.cw:g=l(p,e);break;case o.Oe:if(g=new o.Oe([],{validators:f,asyncValidators:h,...d.controlOptions}),p&&Array.isArray(p)){const t=g;for(const n of p)switch(d.childType){case a.cw:t.push(l(n,e));break;case o.Oe:break;default:t.push(new i.NI(n,{validators:f,asyncValidators:h,...d.controlOptions}))}}break;default:g=new i.NI(p,{validators:f,asyncValidators:h,...d.controlOptions})}d.disabled&&g.disable(),m.addControl(u,g)}return m}function u(t,e){return l(t,e)}var d=n(11776),p=n(95176),f=n(38327);class m{constructor(t){this._injector=t}build(t,e){return u(t,{...e,injector:this._injector})}}m.ɵfac=function(t){return new(t||m)(d.LF(p.z))},m.ɵprov=f.Yz({token:m,factory:m.ɵfac})},30084:(t,e,n)=>{n.d(e,{ED:()=>u,RF:()=>c,n9:()=>l});var a=n(77842),o=n(79440),i=n(8215),s=n(93802);class r{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class c{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}c.ɵfac=function(t){return new(t||c)},c.ɵdir=a.lG({type:c,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});class l{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new r(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}l.ɵfac=function(t){return new(t||l)(o.Y(i.s_),o.Y(s.Rg),o.Y(c,9))},l.ɵdir=a.lG({type:l,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});class u{constructor(t,e,n){n._addDefault(new r(t,e))}}u.ɵfac=function(t){return new(t||u)(o.Y(i.s_),o.Y(s.Rg),o.Y(c,9))},u.ɵdir=a.lG({type:u,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}]);
//# sourceMappingURL=7533.chunk.67a0f136f173fd9e517b.js.map