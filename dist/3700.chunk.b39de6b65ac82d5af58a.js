(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3700],{25048:(t,e,n)=>{var o={"./en.json":[79587,9587],"./sk.json":[5930,5930]};function i(t){if(!n.o(o,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],i=e[0];return n.e(e[1]).then((()=>n.t(i,19)))}i.keys=()=>Object.keys(o),i.id=25048,t.exports=i},18567:(t,e,n)=>{"use strict";n.d(e,{Qw:()=>i.Q,mx:()=>s.m,oK:()=>r.o,$u:()=>Z});var o,i=n(71298),s=n(43747),r=n(31619),a=n(91960),c=n(23347),u=n(87667),l=n(64527),p=n(4503),d=n(79144),h=n(94353),g=n(21179),m=n(31246),f=n(78581),v=n(41820),y=n(84746),C=n(55640),b=n(23527),_=n(15554),O=n(5549),w=n(83052),x=n(45473),S=n(12931),I=n(85364),R=n(95381),P=n(15528),k=n(42938),T=n(56735),L=n(60054),D=n(88195),E=n(82977),N=n(99421),A=n(4489),M=n(81287),F=n(31686);function j(t,e){if(1&t&&(h._U(0,"ng-option",11),g.AL(1,"translate")),2&t){const t=e.$implicit;m.Q("text",g.lc(1,2,t))("value",t)}}function z(t,e){if(1&t&&h._U(0,"ng-option",11),2&t){const t=e.$implicit;m.Q("text",null==t?null:t.name)("value",null==t?null:t.lang)}}function Y(t,e){if(1&t&&(h.Tg(0,"div",6)(1,"div",7),f._(2),g.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",8),v.Y(6,j,2,4,"ng-option",9),h.qZ()(),h.Tg(7,"div",7),f._(8),g.AL(9,"translate"),h.qZ(),h.Tg(10,"div")(11,"ng-select",10),v.Y(12,z,1,2,"ng-option",9),h.qZ()()()),2&t){const t=y.o();m.Q("formGroup",t.generalSettingsForm),C.x(2),b.Oq(g.lc(3,5,"theme")),C.x(4),m.Q("ngForOf",t.themes),C.x(2),b.Oq(g.lc(9,7,"language")),C.x(4),m.Q("ngForOf",t.languages)}}function U(t,e){if(1&t&&h._U(0,"ng-option",11),2&t){const t=e.$implicit;m.Q("text",null==t?null:t.name)("value",null==t?null:t.value)}}function q(t,e){if(1&t&&(h.Tg(0,"div",6)(1,"div",7),f._(2),g.AL(3,"translate"),h.qZ(),h.Tg(4,"div")(5,"ng-select",12),v.Y(6,U,1,2,"ng-option",9),h.qZ()()()),2&t){const t=y.o();m.Q("formGroup",t.loggingSettingsForm),C.x(2),b.Oq(g.lc(3,3,"console log")),C.x(4),m.Q("ngForOf",t.logLevels)}}function V(t,e){if(1&t&&(h.Tg(0,"div",6)(1,"div",7),f._(2),g.AL(3,"translate"),h.qZ(),h.Tg(4,"div"),h._U(5,"mat-slide-toggle",13),h.qZ(),h.Tg(6,"div",7),f._(7),g.AL(8,"translate"),h.qZ(),h.Tg(9,"div"),h._U(10,"mat-slide-toggle",14),h.qZ()()),2&t){const t=y.o();m.Q("formGroup",t.debuggingSettingsForm),C.x(2),b.Oq(g.lc(3,3,"console")),C.x(5),b.Oq(g.lc(8,5,"debug data"))}}!function(t){t[t.General=0]="General",t[t.Logging=1]="Logging",t[t.Debugging=2]="Debugging"}(o||(o={}));class Z{constructor(t,e,n){this.themes=u.v.configuration.themes,this.languages=u.v.configuration.languages,this.logLevels=[],this.activeSection=o.General,this.UserSettingsSections=o;const i=t.settings,s=t.settingsDebugging,r=t.settingsLogging;this._getLogLevels(),this.generalSettingsForm=e.group({language:i.language,theme:i.theme}),this.debuggingSettingsForm=e.group({consoleEnabled:s.consoleEnabled,debugData:s.debugData}),this.loggingSettingsForm=e.group({consoleLogLevel:c.ke[r.consoleLogLevel]}),this.generalSettingsForm.valueChanges.subscribe((e=>{t.setSettings(e)})),this.debuggingSettingsForm.valueChanges.subscribe((e=>{n.setEnabled(e.debugData),t.setDebuggingSettings(e)})),this.loggingSettingsForm.valueChanges.subscribe((e=>{t.setLoggingSettings({consoleLogLevel:a.i[+e.consoleLogLevel]})}))}_getLogLevels(){Object.keys(c.ke).forEach((t=>{isNaN(+t)||this.logLevels.push({name:c.ke[t],value:t})}))}}Z.ɵfac=function(t){return new(t||Z)(_.Y(l.g),_.Y(I.qu),_.Y(T.H))},Z.ɵcmp=O.Xp({type:Z,selectors:[["user-settings"]],standalone:!0,features:[w.j],decls:20,vars:18,consts:[[1,"flex-column","settings-menu"],[1,"btn-line",3,"click"],[1,"fas","fa-cog"],[1,"fas","fa-pen"],[1,"fas","fa-bug"],["class","settings-items",3,"formGroup",4,"ngIf"],[1,"settings-items",3,"formGroup"],[1,"text-capitalize"],["formControlName","theme"],[3,"text","value",4,"ngFor","ngForOf"],["formControlName","language"],[3,"text","value"],["formControlName","consoleLogLevel"],["formControlName","consoleEnabled"],["formControlName","debugData"]],template:function(t,e){1&t&&(h.Tg(0,"div",0)(1,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.General})),h._U(2,"span",2),h.Tg(3,"span"),f._(4),g.AL(5,"translate"),h.qZ()(),h.Tg(6,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.Logging})),h._U(7,"span",3),h.Tg(8,"span"),f._(9),g.AL(10,"translate"),h.qZ()(),h.Tg(11,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.Debugging})),h._U(12,"span",4),h.Tg(13,"span"),f._(14),g.AL(15,"translate"),h.qZ()()(),h.Tg(16,"div"),v.Y(17,Y,13,9,"div",5)(18,q,7,5,"div",5)(19,V,11,7,"div",5),h.qZ()),2&t&&(C.x(1),S.ek("active",e.activeSection==e.UserSettingsSections.General),C.x(3),b.Oq(g.lc(5,12,"general")),C.x(2),S.ek("active",e.activeSection==e.UserSettingsSections.Logging),C.x(3),b.Oq(g.lc(10,14,"logging")),C.x(2),S.ek("active",e.activeSection==e.UserSettingsSections.Debugging),C.x(3),b.Oq(g.lc(15,16,"debug")),C.x(3),m.Q("ngIf",e.activeSection==e.UserSettingsSections.General),C.x(1),m.Q("ngIf",e.activeSection==e.UserSettingsSections.Logging),C.x(1),m.Q("ngIf",e.activeSection==e.UserSettingsSections.Debugging))},dependencies:[p._,L.sg,D.O,E.X,d.N,R.JJ,R.JL,P.s,k.u,N.Rr,A.x,M.w,F.v],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}.settings-menu[_ngcontent-%COMP%]{width:120px;font-size:1.1em;margin-right:48px}.settings-menu[_ngcontent-%COMP%]   span[class^=fa][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=fas][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=glyphicon][_ngcontent-%COMP%]{margin-right:10px}.settings-items[_ngcontent-%COMP%]{width:300px;display:grid;grid-template-columns:auto 160px;grid-template-rows:auto;column-gap:10px;row-gap:4px;align-items:center}"],changeDetection:0})},71298:(t,e,n)=>{"use strict";n.d(e,{Q:()=>Rt});var o=n(79077),i=n(94060),s=n(93496),r=n(47496),a=n(47260),c=n(35648),u=n(13457),l=n(28903),p=n(34558),d=n(8945),h=n(16311),g=n(62414),m=n(63375),f=n(5549);class v{transform(t,e,n,o){return!!t[e]?.[n]&&t[e][n].indexOf(o)>=0}}v.ɵfac=function(t){return new(t||v)},v.ɵpipe=f.Yj({name:"propertySelected",type:v,pure:!0,standalone:!0});var y=n(62568),C=n(43856),b=n(94353),_=n(78581),O=n(84746),w=n(31246),x=n(55640),S=n(23527),I=n(97710),R=n(45473),P=n(71325),k=n(21179),T=n(41820),L=n(12142),D=n(15554),E=n(61980),N=n(83052),A=n(16945),M=n(85801),F=n(60054),j=n(88195),z=n(22813),Y=n(58328),U=n(68751),q=n(78002),V=n(95381),Z=n(79555),$=n(38132);function Q(t,e){if(1&t&&(b.Tg(0,"option",11),_._(1),b.qZ()),2&t){const t=e.$implicit,n=O.o();w.Q("value",t),x.x(1),S.Oq(null==n.data.customComponentContentMetadata[t]||null==n.data.customComponentContentMetadata[t].metadata?null:n.data.customComponentContentMetadata[t].metadata.displayName)}}function G(t,e){if(1&t&&b._U(0,"span",20),2&t){const t=e.ngIf;w.Q("tooltip",t)}}function B(t,e){if(1&t){const t=I.E();b.Tg(0,"div")(1,"label")(2,"input",18),R.N("change",(function(){const e=P.CH(t).$implicit,n=O.o().$implicit,o=O.o().$implicit,i=O.o();return P.Kt(i.toggleSelected(o.key,n.key,e))})),k.AL(3,"propertySelected"),b.qZ(),b.Tg(4,"span"),_._(5),k.AL(6,"propertiesMetadata"),k.AL(7,"getModel"),b.qZ(),T.Y(8,G,1,1,"span",19),k.AL(9,"propertiesMetadata"),k.AL(10,"getModel"),b.qZ()()}if(2&t){const t=e.$implicit,n=O.o().$implicit,o=O.o().$implicit,i=O.o();let s,r;x.x(2),w.Q("checked",k.tD(3,3,i.usedProperties,o.key,n.key,t)),x.x(3),S.Oq(null!==(s=null==(s=k.xi(6,8,k.xi(7,11,n.key,i.data.customComponentContentMetadata[o.key]),i.data.propsMetadataExtractor))||null==s[t]?null:s[t].name)&&void 0!==s?s:t),x.x(3),w.Q("ngIf",null==(r=k.xi(9,14,k.xi(10,17,n.key,i.data.customComponentContentMetadata[o.key]),i.data.propsMetadataExtractor))||null==r[t]?null:r[t].description)}}function H(t,e){if(1&t&&(L.yn(0),T.Y(1,B,11,20,"div",17),L.BQ()),2&t){const t=e.$implicit;x.x(1),w.Q("ngForOf",t.value)}}function J(t,e){if(1&t){const t=I.E();b.Tg(0,"div",12)(1,"div",13)(2,"span",14),_._(3),b.qZ(),b.Tg(4,"a",15),R.N("click",(function(){const e=P.CH(t).$implicit,n=O.o();return P.Kt(n.removeComponent(e.key))})),b._U(5,"span",16),b.qZ()(),T.Y(6,H,2,1,"ng-container",17),k.AL(7,"keyvalue"),b.qZ()}if(2&t){const t=e.$implicit,n=O.o();x.x(3),S.Oq(null==n.data.customComponentContentMetadata[t.key]||null==n.data.customComponentContentMetadata[t.key].metadata?null:n.data.customComponentContentMetadata[t.key].metadata.displayName),x.x(3),w.Q("ngForOf",k.lc(7,2,n.availableProperties[t.key]))}}const X=t=>({configurableProperties:t,displayName:"",description:""});class K{constructor(t,e,n){var o,i,s;this.data=t,this.dialog=e,this.component=new r.NI,this.usedProperties={},this.availableProperties={},this.contentComponents=[],this.contentComponents=Object.keys(t.customComponentContentMetadata),this.nameDescriptionForm=n.build({displayName:"",description:""});for(const t in this.data.configuration.configurableProperties){const e=this.data.configuration.configurableProperties[t];(o=this.usedProperties)[t]??(o[t]={});for(const n in e){const o=e[n];this.usedProperties[t][n]=[...o]}}const a=Object.keys(this.usedProperties);this.contentComponents=this.contentComponents.filter((t=>a.indexOf(t)<0));for(const e in t.customComponentContentMetadata){const n=t.customComponentContentMetadata[e];if(n?.editorMetadata.metaInfo?.optionsMetadata?.propertiesMetadata)for(const t of n.editorMetadata.metaInfo.optionsMetadata.propertiesMetadata){const n=new t.modelType(void 0);if(!Object.keys(n).length)continue;const o=t.modelType.name;(i=this.availableProperties)[e]??(i[e]={}),(s=this.availableProperties[e])[o]??(s[o]=[]);for(const t in n)this.availableProperties[e][o].push(t)}}}addComponent(){if(!this.component.value)return;this.usedProperties[this.component.value]={};const t=this.contentComponents.indexOf(this.component.value);t>=0&&(this.contentComponents.splice(t,1),this.component.setValue(this.contentComponents[0]??null))}removeComponent(t){delete this.usedProperties[t],this.contentComponents.push(t),1==this.contentComponents.length&&this.component.setValue(this.contentComponents[0])}toggleSelected(t,e,n){var o,i;(o=this.usedProperties)[t]??(o[t]={}),(i=this.usedProperties[t])[e]??(i[e]=[]);const s=this.usedProperties[t][e].indexOf(n);s>=0?(this.usedProperties[t][e].splice(s,1),this.usedProperties[t][e]=[...this.usedProperties[t][e]]):this.usedProperties[t][e]=[...this.usedProperties[t][e],n]}}K.ɵfac=function(t){return new(t||K)(D.Y(h.m),D.Y(M.z),D.Y(d.p))},K.ɵcmp=f.Xp({type:K,selectors:[["custom-component-options"]],standalone:!0,features:[E._([d.p]),N.j],decls:21,vars:18,consts:[[1,"dynamic-margin-bottom-small","dynamic-flex-row"],[1,"dynamic-flex-1","dynamic-margin-right-small"],[1,"dynamic-control-label"],[1,"dynamic-form-control",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"dynamic-btn-icon","dynamic-margin-left-small","dynamic-large-text",3,"click"],[1,"fas","fa-plus"],["class","dynamic-margin-bottom-small",4,"ngFor","ngForOf"],[1,"dynamic-flex-row","dynamic-flex-end","dynamic-action-buttons"],["type","button",1,"dynamic-btn","dynamic-btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"mat-dialog-close"],[3,"value"],[1,"dynamic-margin-bottom-small"],[1,"dynamic-bold","dynamic-flex-row"],[1,"dynamic-margin-right-small"],[1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],["class","fas fa-info-circle dynamic-margin-left-extra-small",3,"tooltip",4,"ngIf"],[1,"fas","fa-info-circle","dynamic-margin-left-extra-small",3,"tooltip"]],template:function(t,e){1&t&&(b.Tg(0,"div",0)(1,"div",1)(2,"label",2),_._(3),k.AL(4,"firstUppercaseLocalize"),b.qZ(),b.Tg(5,"select",3),T.Y(6,Q,2,2,"option",4),b.qZ()(),b.Tg(7,"a",5),R.N("click",(function(){return e.addComponent()})),b._U(8,"span",6),b.qZ()(),b.Tg(9,"div"),T.Y(10,J,8,4,"div",7),k.AL(11,"keyvalue"),b.qZ(),b.Tg(12,"div",8)(13,"button",9)(14,"span"),_._(15),k.AL(16,"firstUppercaseLocalize"),b.qZ()(),b.Tg(17,"button",10)(18,"span"),_._(19),k.AL(20,"firstUppercaseLocalize"),b.qZ()()()),2&t&&(x.x(3),S.Oq(k.lc(4,8,"available content components")),x.x(2),w.Q("formControl",e.component),x.x(1),w.Q("ngForOf",e.contentComponents),x.x(4),w.Q("ngForOf",k.lc(11,10,e.usedProperties)),x.x(3),w.Q("mat-dialog-close",void 0),x.x(2),S.Oq(k.lc(16,12,"cancel")),x.x(2),w.Q("mat-dialog-close",A.VK(16,X,e.usedProperties)),x.x(2),S.Oq(k.lc(20,14,"ok")))},dependencies:[i.e,F.sg,j.O,z.N,p.I,Y.ZT,a.U,U.Y,q.Kr,U.E,V.JJ,Z.o,v,y.m,C.l,g.z,$.i,m.R],encapsulation:2,changeDetection:0});var W=n(79842),tt=n(70290),et=n(8530),nt=n(28539),ot=n(34984),it=n(26159),st=n(43671);function rt(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function at(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){rt(s,o,i,r,a,"next",t)}function a(t){rt(s,o,i,r,a,"throw",t)}r(void 0)}))}}class ct{constructor(t,e,n,o,i){this.injector=t,this.dialogSvc=e,this.customComponentsRegister=n,this.propsMetadataExtractor=o,this.element=i,this.customComponentContentMetadata={}}ngOnChanges(){var t=this;return at((function*(){if(!t.name)return;const e=yield(0,W.Qd)(t.name,t.injector);e&&(t.customComponentContentMetadata=e.contentMetadata,t.customComponentMetadata=e.metadata)}))()}ngOnInit(){var t=this;return at((function*(){if(!t.name&&!t.element.nativeElement.disabled)throw new Error("Please provide name of custom component for its options")}))()}show(t){var e=this;return at((function*(){t.preventDefault(),t.stopPropagation();const n=yield(0,l.n)(e.dialogSvc.open(K,{title:"custom component options",width:"75vw",data:{customComponentContentMetadata:e.customComponentContentMetadata,configuration:e.customComponentsRegister.getConfigurationForComponent(e.name??"")??{},propsMetadataExtractor:e.propsMetadataExtractor}}).afterClosed());n&&(yield e.customComponentsRegister.setConfigurationForComponent(e.name??"",n))}))()}}ct.ɵfac=function(t){return new(t||ct)(D.Y(tt.z),D.Y(ot.J),D.Y(it.t),D.Y(st.L),D.Y(et.SB))},ct.ɵdir=f.lG({type:ct,selectors:[["","showCustomComponentOptions",""]],hostBindings:function(t,e){1&t&&R.N("click",(function(t){return e.show(t)}))},inputs:{name:["showCustomComponentOptions","name"]},standalone:!0,features:[nt.T]});var ut=n(7199),lt=n(23199),pt=n(40043),dt=n(86870),ht=n(33907),gt=n(98023),mt=n(88271),ft=n(56454),vt=n(68742),yt=n(89086),Ct=n(4489),bt=n(81287),_t=n(31686),Ot=n(99421);function wt(t,e){if(1&t&&b._U(0,"ng-option",8),2&t){const t=e.$implicit;w.Q("value",t)("text",t)}}function xt(t,e){1&t&&(L.yn(0),_._(1,"*"),L.BQ())}function St(t,e){if(1&t&&(b.Tg(0,"label",12),b._U(1,"input",13),_._(2," component"),b.qZ()),2&t){const t=O.o(2);x.x(1),w.Q("formControl",t._component)}}function It(t,e){if(1&t){const t=I.E();L.yn(0),b.Tg(1,"mat-slide-toggle",9),R.N("change",(function(){P.CH(t);const e=O.o();return P.Kt(e.liveEvents.setEnabled(!e.liveEvents.enabled))})),_._(2,"live events"),b.qZ(),T.Y(3,St,3,1,"label",10),b.Tg(4,"button",11),_._(5,"CC options"),b.qZ(),L.BQ()}if(2&t){const t=O.o();x.x(1),w.Q("checked",t.liveEvents.enabled),x.x(2),w.Q("ngIf",t.componentMarking),x.x(1),w.Q("showCustomComponentOptions",t._available.value)("disabled",!t._component.value)}}class Rt{constructor(t,e,n,i,s,a,c){this._router=t,this._route=e,this._metaManager=n,this._changeDetector=i,this.liveEvents=s,this._customComponentsRegister=a,this._hotkeys=c,this._metadata=null,this._available=new r.NI(""),this._component=new r.NI(!1),this._name=new r.NI(null),this._availableNames=[],this.initSubscriptions=new lt.w0,this.history=null,this.componentMarking=!1,this.layoutControls=!0,this.metadataChange=new o.v}ngOnInit(){this.componentMarking&&(this._available.valueChanges.subscribe((t=>{if(!t)return;const e=this._customComponentsRegister?.getRegisteredComponents();this._component.setValue(e.indexOf(t)>=0,{emitEvent:!1})})),this._component.valueChanges.subscribe((()=>this._customComponentsRegister?.toggleRegisteredComponent(this._available.value)))),this._hotkeys&&this.initSubscriptions.add(this._hotkeys.save.subscribe((()=>this._save()))),this.history&&(this.initSubscriptions.add(this.history.historyChange.subscribe((()=>this._changeDetector.detectChanges()))),this.initSubscriptions.add(this.history.pop.subscribe((()=>this._changeDetector.detectChanges())))),this._availableNames=this.store.getStored(),this._route.params.subscribe((({id:t})=>{t?(this._name.setValue(t),this._available.setValue(t),this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata)):(this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""))}))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}_load(){this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata),this._name.setValue(this._available.value),this._router.navigate([this.routePath,this._available.value],{skipLocationChange:!1,replaceUrl:!0})}_save(){this._saveData(this._metaManager.getMetadata())}_delete(){this.store.removeData(this._available.value),this._availableNames=this.store.getStored(),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_new(){this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_saveData(t){const e=this.store.getData(this._name.value)??{};this.history?.save(),this.store.setData(this._name.value,(0,ut.l7)(e,this.getMetadataCallback(t))),this._availableNames=this.store.getStored(),this._changeDetector.detectChanges(),this._router.navigate([this.routePath,this._name.value],{skipLocationChange:!1,replaceUrl:!0})}}Rt.ɵfac=function(t){return new(t||Rt)(D.Y(ht.F0),D.Y(gt.gz),D.Y(u.Qh),D.Y(dt.s),D.Y(mt._),D.Y(pt._,8),D.Y(ft.z,8))},Rt.ɵcmp=f.Xp({type:Rt,selectors:[["load-save-new"]],inputs:{store:"store",history:"history",routePath:"routePath",getMetadataCallback:"getMetadataCallback",componentMarking:"componentMarking",layoutControls:"layoutControls"},outputs:{metadataChange:"metadataChange"},standalone:!0,features:[N.j],decls:18,vars:9,consts:[[2,"width","180px",3,"formControl"],["text","*unsaved*",3,"value"],[3,"value","text",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","text",3,"formControl"],[4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value","text"],[3,"checked","change"],["class","margin-horizontal-extra-small",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"showCustomComponentOptions","disabled"],[1,"margin-horizontal-extra-small"],["type","checkbox",3,"formControl"]],template:function(t,e){if(1&t&&(b.Tg(0,"ng-select",0),b._U(1,"ng-option",1),T.Y(2,wt,1,2,"ng-option",2),b.qZ(),b.Tg(3,"button",3),R.N("click",(function(){return e._delete()})),b.Tg(4,"span"),_._(5,"remove"),b.qZ()(),b.Tg(6,"button",4),R.N("click",(function(){return e._load()})),b.Tg(7,"span"),_._(8,"load"),b.qZ()(),b._U(9,"input",5),b.Tg(10,"button",4),R.N("click",(function(){return e._save()})),b.Tg(11,"span"),_._(12,"save "),T.Y(13,xt,2,0,"ng-container",6),b.qZ()(),b.Tg(14,"button",7),R.N("click",(function(){return e._new()})),b.Tg(15,"span"),_._(16,"new"),b.qZ()(),T.Y(17,It,6,4,"ng-container",6)),2&t){let t;w.Q("formControl",e._available),x.x(1),w.Q("value",""),x.x(1),w.Q("ngForOf",e._availableNames),x.x(1),w.Q("disabled",!e._available.value),x.x(3),w.Q("disabled",!e._available.value),x.x(3),w.Q("formControl",e._name),x.x(1),w.Q("disabled",!e._name.value),x.x(3),w.Q("ngIf",!(null===(t=null==e.history?null:e.history.saved)||void 0===t||t)),x.x(4),w.Q("ngIf",e.layoutControls)}},dependencies:[a.U,vt.Fj,yt.W,V.JJ,Z.o,c.A,Ct.x,bt.w,_t.v,i.e,F.sg,j.O,ct,s.r,Ot.Rr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0})},43747:(t,e,n)=>{"use strict";n.d(e,{m:()=>_});var o=n(44067),i=n(86870),s=n(67626),r=n(86485),a=n(6552),c=n(7199);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const l=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(8232),n.e(9678),n.e(8745),n.e(5446)]).then(n.bind(n,53990))).RelationsResultRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();var p,d=n(15554),h=n(5549),g=n(28539),m=n(83052),f=n(94353),v=n(78581),y=n(55640),C=n(23527);function b(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}let _=p=class{static get relationsId(){return"relations-result"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(p.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(p.relationsId)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){b(s,o,i,r,a,"next",t)}function a(t){b(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(p.relationsId),this._componentManager.unregisterComponent(p.relationsId)}ngOnChanges(t){(0,c.$0)("vstup")in t&&this.vstup&&console.log("vstup sa zmenil v result",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};_.ɵfac=function(t){return new(t||_)(d.Y(i.s),d.Y(s.v),d.Y(r.s))},_.ɵcmp=h.Xp({type:_,selectors:[["relations-result"]],inputs:{vstup:"vstup"},standalone:!0,features:[g.T,m.j],decls:2,vars:1,template:function(t,e){1&t&&(f.Tg(0,"div"),v._(1),f.qZ()),2&t&&(y.x(1),C.hi("VSTUP: ",e.vstup,""))},encapsulation:2,changeDetection:0}),_=p=(0,o.gn)([(0,a.i)(l),(0,o.w6)("design:paramtypes",[i.s,s.v,r.s])],_)},31619:(t,e,n)=>{"use strict";n.d(e,{o:()=>P});var o=n(44067),i=n(86870),s=n(47496),r=n(47260),a=n(36759),c=n(67626),u=n(86485),l=n(6552),p=n(7199);function d(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const h=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(8232),n.e(9678),n.e(8745),n.e(4663)]).then(n.bind(n,14663))).RelationsSampleClickRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){d(s,o,i,r,a,"next",t)}function a(t){d(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();var g,m=n(15554),f=n(5549),v=n(28539),y=n(83052),C=n(94353),b=n(78581),_=n(55640),O=n(23527),w=n(31246),x=n(68742),S=n(95381),I=n(79555);function R(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}let P=g=class{static get relationsId(){return"relations-sample-click"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this._vystupForm=new s.NI(""),this._vystupForm.valueChanges.subscribe((t=>this.vystup=t))}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(g.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(g.relationsId)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){R(s,o,i,r,a,"next",t)}function a(t){R(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(g.relationsId),this._componentManager.unregisterComponent(g.relationsId)}ngOnChanges(t){(0,p.$0)("vstup")in t&&this.vstup&&console.log("vstup sa zmenil",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};P.ɵfac=function(t){return new(t||P)(m.Y(i.s),m.Y(c.v),m.Y(u.s))},P.ɵcmp=f.Xp({type:P,selectors:[["relations-sample-click"]],inputs:{vstup:"vstup"},standalone:!0,features:[v.T,y.j],decls:4,vars:2,consts:[["type","text",3,"formControl"]],template:function(t,e){1&t&&(C.Tg(0,"div"),b._(1),C.qZ(),C.Tg(2,"div"),C._U(3,"input",0),C.qZ()),2&t&&(_.x(1),O.hi("VSTUP: ",e.vstup,""),_.x(2),w.Q("formControl",e._vystupForm))},dependencies:[r.U,x.Fj,S.JJ,I.o],encapsulation:2,changeDetection:0}),(0,o.gn)([(0,a.A)(),(0,o.w6)("design:type",String)],P.prototype,"vystup",void 0),P=g=(0,o.gn)([(0,l.i)(h),(0,o.w6)("design:paramtypes",[i.s,c.v,u.s])],P)},3700:(t,e,n)=>{"use strict";n.r(e);var o={};n.r(o),n.d(o,{default:()=>Me}),n(58420),n(88574),n(62374);var i=n(7199),s=n(28653),r=n(87667);(0,i.yJ)((t=>{t.Document||(t.Document=function(){})}));const a=s.y.prototype.subscribe;s.y.prototype.subscribe=function(t,e,n){return!(0,i.fp)(e)&&(0,i.mf)(e)||(e=t=>{r.v.configuration.debug&&console.log(t)}),a.call(this,t,e,n)};var c=n(27501),u=n(19678),l=n(39240),p=n(30334),d=n(35330),h=n(72898),g=n(30219),m=n(30441),f=n(74332),v=n(94060),y=n(61942),C=n(80607),b=n(80517),_=n(11271),O=n(54911),w=n(83286),x=n(81052),S=n(53047),I=n(21098),R=n(54264),P=n(73411),k=n(4220);const T=(0,k.X$)("routeAnimations",[(0,k.eR)("void <=> *, none <=> *",[(0,k.IO)(":enter",(0,k.pV)(),{optional:!0})]),(0,k.eR)("* => login",[(0,k.IO)(".main-content",[(0,k.oB)({position:"relative",perspective:"10000px"}),(0,k.IO)(":enter, :leave",[(0,k.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,k.IO)(":enter",[(0,k.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,k.IO)(":leave",(0,k.pV)()),(0,k.ru)([(0,k.IO)(":leave",[(0,k.jt)("350ms ease-out",(0,k.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,k.IO)(":enter",[(0,k.jt)("350ms 350ms ease-out",(0,k.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,k.IO)(":enter",(0,k.pV)())])]),(0,k.eR)("login => *",[(0,k.IO)(".main-content",[(0,k.oB)({position:"relative",perspective:"10000px"}),(0,k.IO)(":enter, :leave",[(0,k.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,k.IO)(":enter",[(0,k.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,k.IO)(":leave",(0,k.pV)()),(0,k.ru)([(0,k.IO)(":leave",[(0,k.jt)("350ms ease-out",(0,k.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,k.IO)(":enter",[(0,k.jt)("350ms 350ms ease-out",(0,k.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,k.IO)(":enter",(0,k.pV)())])]),(0,k.eR)("* => *",[(0,k.IO)(".main-content",[(0,k.oB)({position:"relative"}),(0,k.IO)(":enter, :leave",[(0,k.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,k.IO)(":enter",[(0,k.oB)({opacity:0})]),(0,k.IO)(":leave",(0,k.pV)()),(0,k.ru)([(0,k.IO)(":leave",[(0,k.jt)("350ms ease-out",(0,k.oB)({opacity:0}))]),(0,k.IO)(":enter",[(0,k.jt)("350ms ease-out",(0,k.oB)({opacity:1}))])]),(0,k.IO)(":enter",(0,k.pV)())])])]),L=(0,k.X$)("loaderAnimation",[(0,k.eR)(":leave",[])]);var D=n(64527);const E=JSON.parse('{"i":"1.0.0-beta.20231218163346"}');var N=n(71794),A=n(5549),M=n(36059);class F{}F.ɵfac=function(t){return new(t||F)},F.ɵmod=A.oA({type:F}),F.ɵinj=M.cJ({imports:[N.s]});var j=n(4503),z=(n(79144),n(45943));class Y{}Y.ɵfac=function(t){return new(t||Y)},Y.ɵmod=A.oA({type:Y}),Y.ɵinj=M.cJ({imports:[z.z]});var U=n(30900);class q{}q.ɵfac=function(t){return new(t||q)},q.ɵmod=A.oA({type:q}),q.ɵinj=M.cJ({imports:[j._,U.V]});var V=n(94353),Z=n(31246),$=n(15554),Q=n(86870),G=n(11845),B=n(61980),H=n(83052),J=n(78581),X=n(41820),K=n(55640),W=n(23527),tt=n(21451),et=n(88195),nt=n(15183),ot=n(27846),it=n(23498),st=n(47942),rt=n(18567),at=n(45473),ct=n(34984),ut=n(49402),lt=n(10524);class pt{constructor(t){this._dialog=t}openSettings(){this._dialog.open(rt.$u,{title:"user settings",maxHeight:"80vh"})}}function dt(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}pt.ɵfac=function(t){return new(t||pt)($.Y(ct.J))},pt.ɵcmp=A.Xp({type:pt,selectors:[["main-menu"]],decls:19,vars:0,consts:[[1,"flex-row"],["routerLink","/layout/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/layout/editor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsStatic","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithLayoutEditor/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsComplex/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsLayoutForm/form-preview","routerLinkActive","active",1,"margin-horizontal-small"],[1,"flex-1"],[1,"fas","fa-cog",3,"click"]],template:function(t,e){1&t&&(V.Tg(0,"div",0)(1,"a",1),J._(2,"Preview"),V.qZ(),V.Tg(3,"a",2),J._(4,"Editor"),V.qZ(),V.Tg(5,"a",3),J._(6,"Relations editor"),V.qZ(),V.Tg(7,"a",4),J._(8,"Relations"),V.qZ(),V.Tg(9,"a",5),J._(10,"Relations with editor"),V.qZ(),V.Tg(11,"a",6),J._(12,"Relations with layout editor"),V.qZ(),V.Tg(13,"a",7),J._(14,"Relations complex"),V.qZ(),V.Tg(15,"a",8),J._(16,"Relations form"),V.qZ(),V._U(17,"div",9),V.Tg(18,"a",10),at.N("click",(function(){return e.openSettings()})),V.qZ()())},dependencies:[ut.r,lt.O],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0}"],changeDetection:0});const ht=["outlet"];function gt(t,e){1&t&&V._U(0,"console"),2&t&&Z.Q("@consoleAnimation",void 0)}function mt(t,e){1&t&&(V.Tg(0,"div",6),V._U(1,"div"),V.qZ()),2&t&&Z.Q("@loaderAnimation",void 0)}class ft{constructor(t,e,n,o,s,r){this._changeDetector=e,this._appHotkeys=n,this.consoleVisible=!1,this.routeComponentState="none",this.guiVersion=E.i,this.initialized=!1,s.verbose("Application is starting, main component constructed."),r.body.classList.add("app-page",o.settings.theme),this._theme=o.settings.theme,this._settingsChangeSubscription=o.settingsChange.subscribe((e=>{e==(0,i.$0)("theme")&&(r.body.classList.remove(this._theme),this._theme=o.settings.theme,r.body.classList.add(this._theme)),e==(0,i.$0)("language")&&(t.use(o.settings.language),this._changeDetector.detectChanges())})),this._settingsDebuggingChangeSubscription=o.settingsDebuggingChange.subscribe((t=>{t==(0,i.$0)("consoleEnabled")&&this._toggleConsoleHotkey()})),t.setDefaultLang("en"),t.use(o.settings.language),o.settingsDebugging?.consoleEnabled&&this._toggleConsoleHotkey()}ngOnInit(){var t,e=this;return(t=function*(){e._changeDetector.detectChanges()},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){dt(s,o,i,r,a,"next",t)}function a(t){dt(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngAfterViewInit(){this._routerOutletActivatedSubscription=this.routerOutlet.activateEvents.subscribe((()=>{this.routeComponentState=this.routerOutlet.activatedRouteData.animation||this.routerOutlet.activatedRoute.component.name})),this.initialized=!0}ngOnDestroy(){this._routerOutletActivatedSubscription?.unsubscribe(),this._routerOutletActivatedSubscription=null,this._settingsChangeSubscription?.unsubscribe(),this._settingsChangeSubscription=null,this._settingsDebuggingChangeSubscription?.unsubscribe(),this._settingsDebuggingChangeSubscription=null,this._appHotkeys.destroy()}_toggleConsoleHotkey(){const t=this._appHotkeys.hotkeys.get("~");t?this._appHotkeys.hotkeys.remove(t):this._appHotkeys.hotkeys.add(new P.q("~",(()=>(this.consoleVisible=!this.consoleVisible,this._changeDetector.detectChanges(),!1)),null,"Show console"))}}ft.ɵfac=function(t){return new(t||ft)($.Y(tt.sK),$.Y(Q.s),$.Y(w.H),$.Y(D.g),$.Y(C.bZ),$.Y(f.K))},ft.ɵcmp=A.Xp({type:ft,selectors:[["app"]],viewQuery:function(t,e){if(1&t&&G.Gf(ht,5),2&t){let t;G.iG(t=G.CR())&&(e.routerOutlet=t.first)}},standalone:!0,features:[B._([w.H]),H.j],decls:13,vars:3,consts:[[1,"content","relative"],[1,"main-content"],["outlet","outlet"],[1,"gui-version"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"]],template:function(t,e){1&t&&(V._U(0,"main-menu")(1,"progress-indicator")(2,"internal-server-error")(3,"global-notifications")(4,"hotkeys-cheatsheet"),V.Tg(5,"div",0)(6,"div",1),V._U(7,"router-outlet",null,2),V.qZ()(),V.Tg(9,"div",3),J._(10),V.qZ(),X.Y(11,gt,1,1,"console",4)(12,mt,2,1,"div",5)),2&t&&(K.x(10),W.hi("GUI version: ",e.guiVersion,""),K.x(1),Z.Q("ngIf",e.consoleVisible),K.x(1),Z.Q("ngIf",!e.initialized))},dependencies:[v.e,et.O,y.Bz,nt.lC,I.m,ot.X,b._,it.B,R.J,st.u,q,pt,_.y,x.m],styles:[".content[_ngcontent-%COMP%]{display:grid;flex:1;min-height:0;min-width:0;overflow:hidden}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0}.gui-version[_ngcontent-%COMP%]{text-align:center;font-size:.7em}console[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[T,S.I,O.K,L]},changeDetection:0});var vt=n(96244),yt=n(80056),Ct=n(40329),bt=n(99302),_t=n(26869),Ot=n(34558),wt=n(2577),xt=n(83179),St=n(95043),It=n(77049),Rt=n(44785),Pt=n(91960),kt=n(7982),Tt=n(33181),Lt=n(22781),Dt=n(56735),Et=n(17667),Nt=n(7527),At=n(9551),Mt=n(39449),Ft=n(91919),jt=n(23547),zt=n(41089),Yt=n(91846),Ut=n(7384),qt=n(14602),Vt=n(77342),Zt=n(94550),$t=n(62250),Qt=n(43978),Gt=n(53490),Bt=n(75772),Ht=n(1401),Jt=n(31579),Xt=n(33018),Kt=n(93192),Wt=n(29706),te=n(89782),ee=n(24432),ne=n(41137),oe=n(84951),ie=n(16311),se=n(23087),re=n(20367),ae=n(53221),ce=n(93499),ue=n(21572),le=n(43770),pe=n(47167),de=n(71802),he=n(77991),ge=n(43999),me=n(53014),fe=n(8086),ve=n(70263),ye=n(66501),Ce=n(20809),be=n(79763),_e=n(70290),Oe=n(53584),we=n(86485),xe=n(71938),Se=n(86463),Ie=n(90378);const Re="COMPONENT_DEBUGGER_PROPERTY";class Pe extends Oe.Y{constructor(){super(...arguments),this.injector=(0,yt.f3)(_e.z),this.logger=(0,yt.f3)(C.bZ,{optional:!0}),this.stepChangeSubject=new Se.x,this.currentStepIndex=0,this.components=[],this.steps=[],this.componentDefs={}}get relationsComponentManager(){return this.ɵrelationsComponentManager??(this.ɵrelationsComponentManager=this.injector.get(we.s))}get stepChange(){return this.stepChangeSubject.asObservable()}initialize(t,e){const n=t=>{this.addOutputDef(t.outputComponentId,t.outputName),this.addInputDef(t.inputComponentId,t.inputName)};for(const e in t){const o=t[e];for(const t of o.inputOutputs??[])n(t)}for(const t in e){const o=e[t];for(const t of o)n(t)}}registerComponent(t,e){this.tryToGetEndpoints(t,e);let n=this.getLastComponents();if(n[t]&&n[t].indexOf(e.ɵɵRelationsComponentId??"")>=0)this.logger?.warn('RelationsDebugger: component "{{@id}}" has already been registered',{id:`${t}--${e.ɵɵRelationsComponentId}`});else{if(this.components.push((0,i.l7)(!0,{},n)),n=this.getLastComponents(),n[t]??(n[t]=[]),n[t].push(e.ɵɵRelationsComponentId??""),!Reflect.getOwnPropertyDescriptor(e,Re)){Reflect.defineProperty(e,Re,{configurable:!0,enumerable:!1,writable:!1,value:!0});let n,o=e;do{if(n=Reflect.getOwnPropertyDescriptor(o,(0,i.$0)("relationsOptions")))break}while(o=Reflect.getPrototypeOf(o));const s=this;if(n){const o=n.get,r=n.set;if(!o||!r)throw new Error("RelationsDebugger: relations options property must have getter and setter!");Reflect.defineProperty(e,(0,i.$0)("relationsOptions"),{configurable:!0,enumerable:!1,get:function(){return o.call(this)},set:function(n){r.call(this,n),s.tryToGetEndpoints(t,e),s.readComponentState(t),s.setComponentRelationsOptions(t,n)}})}else Reflect.defineProperty(e,(0,i.$0)("relationsOptions"),{configurable:!0,enumerable:!1,get:function(){return this["ɵrelationsOptions"]},set:function(n){this["ɵrelationsOptions"]=n,s.tryToGetEndpoints(t,e),s.readComponentState(t),s.setComponentRelationsOptions(t,n)}})}this.steps.push({timestamp:Date.now(),componentRegistration:{componentId:t,componentInternalId:e.ɵɵRelationsComponentId??""},componentState:null,componentUnregistration:null,dataTransfer:null,componentRelationsOptions:null,previousStep:this.getLastStepData()})}}unregisterComponent(t,e){let n,o=this.getLastComponents();!o[t]||(n=o[t].indexOf(e.ɵɵRelationsComponentId??""))<0?this.logger?.warn('RelationsDebugger: component "{{@id}}" does not exists!',{id:`${t}--${e.ɵɵRelationsComponentId}`}):(this.components.push((0,i.l7)(!0,{},o)),o=this.getLastComponents(),o[t].splice(n,1),o[t].length||delete o[t],Reflect.getOwnPropertyDescriptor(e,Re)&&(Reflect.deleteProperty(e,Re),Reflect.deleteProperty(e,(0,i.$0)("relationsOptions"))),this.steps.push({timestamp:Date.now(),componentRegistration:null,componentState:null,componentUnregistration:{componentId:t,componentInternalId:e.ɵɵRelationsComponentId??""},dataTransfer:null,componentRelationsOptions:null,previousStep:this.getLastStepData()}))}transferData(t,e){t.ɵuniqueId??(t.ɵuniqueId=(0,i.Ox)(16));const n=t.applyChanges;t.applyChanges=(()=>{n.call(t);const o=this.getLastComponents();this.components.push((0,i.l7)(!0,{},o)),this.steps.push({timestamp:Date.now(),componentRegistration:null,componentState:null,componentUnregistration:null,dataTransfer:{change:t.changes[e.inputName],inputComponentId:e.inputComponentId,inputName:e.inputName,outputComponentId:e.outputComponentId,outputName:e.outputName,scope:e.scope,ɵuniqueId:t.ɵuniqueId??""},componentRelationsOptions:null,previousStep:this.getLastStepData()}),this.readComponentState(e.inputComponentId),this.readComponentState(e.outputComponentId);const s=this.getLastStepData();if(!s)throw Error("RelationsDebugger: no step available!");if(s.componentState)for(const t of s.componentState[e.inputComponentId])t.inputs[e.inputName]=s.dataTransfer?.change.currentValue}).bind(t)}getCurrentComponents(){return this.components.length?this.components[this.currentStepIndex]:{}}getComponentDef(t){return this.componentDefs[t]??null}getComponentState(t){let e=this.getCurrentStep();if(!e)return[];do{if(e.componentState?.[t])return e.componentState[t]}while(e=e.previousStep);return[]}getComponentRelationsOptions(t){let e=this.getCurrentStep();if(e)do{if(e.componentRelationsOptions?.[t])return e.componentRelationsOptions[t]}while(e=e.previousStep)}getLastStep(){return this.steps.length&&this.steps.length-1!=this.currentStepIndex?(this.currentStepIndex=this.steps.length-1,this.stepChangeSubject.next(),this.steps[this.currentStepIndex]):null}getFirstStep(){return this.steps.length&&0!=this.currentStepIndex?(this.currentStepIndex=0,this.stepChangeSubject.next(),this.steps[this.currentStepIndex]):null}getNextStep(){return this.steps.length&&this.steps.length-1!=this.currentStepIndex?(this.currentStepIndex++,this.stepChangeSubject.next(),this.steps[this.currentStepIndex]):null}getPreviousStep(){return this.steps.length&&0!=this.currentStepIndex?(this.currentStepIndex--,this.stepChangeSubject.next(),this.steps[this.currentStepIndex]):null}getCurrentStep(){return this.steps.length?this.steps[this.currentStepIndex]:null}clearSteps(){this.currentStepIndex=0,this.stepChangeSubject.next(),this.steps=[],this.components=[]}readComponentState(t){let e=this.relationsComponentManager.get(t);if(!e)return void this.logger?.warn("RelationsDebugger: unable to find component with id {{@id}}",{id:t});Array.isArray(e)||(e=[e]);const n=e.map((e=>{const n=this.componentDefs[t],o=e,i={},s={};if(n){for(const t of n.inputs)try{i[t]=o[t]}catch(e){this.logger?.warn(`RelationsDebugger: failed reading input '${t}', {{@error}}`,{error:e}),i[t]=void 0}for(const t of n.outputs)try{s[t]??(s[t]={assigned:void 0,skipInit:void 0,value:void 0}),s[t].value=o[t],s[t].assigned=o[`${t}Assigned`],s[t].skipInit=o[`${t}SkipInit`]}catch(e){this.logger?.warn(`RelationsDebugger: failed reading output '${t}', {{@error}}`,{error:e}),s[t]={assigned:void 0,skipInit:void 0,value:void 0}}}return{componentId:t,componentInternalId:e.ɵɵRelationsComponentId??"",inputs:i,outputs:s}})),o=this.getLastStepData();if(!o)throw Error("RelationsDebugger: no step available!");o.componentState??(o.componentState={}),o.componentState[t]=n}setComponentRelationsOptions(t,e){const n=this.getLastStepData();if(!n)throw Error("RelationsDebugger: no step available!");n.componentRelationsOptions??(n.componentRelationsOptions={}),n.componentRelationsOptions[t]=e}getLastStepData(){return this.steps.length>0?this.steps[this.steps.length-1]:null}getLastComponents(){return this.components.length?this.components[this.components.length-1]:{}}tryToGetEndpoints(t,e){const n=(0,xe.s)(Reflect.getPrototypeOf(e).constructor);if(n){if(n.inputs)for(const e of n.inputs)this.addInputDef(t,e);if(n.outputs)for(const e of n.outputs)this.addOutputDef(t,e);if(n.dynamicEndpointsGetter){const o=n.dynamicEndpointsGetter(e,e.ɵɵinjector??this.injector);for(const e of o.inputs)this.addInputDef(t,e);for(const e of o.outputs)this.addOutputDef(t,e)}}}addInputDef(t,e){var n;(n=this.componentDefs)[t]??(n[t]={inputs:[],outputs:[]}),this.componentDefs[t].inputs.indexOf(e)<0&&this.componentDefs[t].inputs.push(e)}addOutputDef(t,e){var n;(n=this.componentDefs)[t]??(n[t]={inputs:[],outputs:[]}),this.componentDefs[t].outputs.indexOf(e)<0&&this.componentDefs[t].outputs.push(e)}}Pe.ɵfac=(()=>{let t;return function(e){return(t||(t=Ie.n5(Pe)))(e||Pe)}})(),Pe.ɵprov=M.Yz({token:Pe,factory:Pe.ɵfac});var ke=n(91861),Te=n(64461),Le=n(6552),De=n(89402);function Ee(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const Ne=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(8232),n.e(422),n.e(8745),n.e(8369)]).then(n.bind(n,28369))).DebuggerNodeRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){Ee(s,o,i,r,a,"next",t)}function a(t){Ee(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();let Ae=class{};Ae=(0,Te.gn)([(0,De.H)(),(0,Le.i)(Ne)],Ae);const Me=Ae;function Fe(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class je{constructor(t){this._logger=t}tryToGet(t){return(e=function*(){return"relations-debugger"===t.package?o:null},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){Fe(s,o,i,r,a,"next",t)}function a(t){Fe(s,o,i,r,a,"throw",t)}r(void 0)}))})();var e}}je.ɵfac=function(t){return new(t||je)(yt.LF(C.bZ,8))},je.ɵprov=M.Yz({token:je,factory:je.ɵfac});const ze={provide:ke.n7,useClass:je,multi:!0};var Ye=n(39829),Ue=n(16020),qe=n(22674),Ve=n(17868),Ze=n(89968),$e=n(87966);const Qe={path:"accessDenied",loadComponent:()=>n.e(9264).then(n.bind(n,69264)).then((({AccessDeniedComponent:t})=>t))},Ge={path:"**",loadComponent:()=>n.e(8831).then(n.bind(n,88831)).then((({NotFoundComponent:t})=>t))},Be=[{path:"",redirectTo:"/layout/preview",pathMatch:"full"},{path:"layout",loadChildren:()=>Promise.all([n.e(833),n.e(8763),n.e(7069)]).then(n.bind(n,57069)).then((({LayoutModule:t})=>t))},{path:"layout",loadChildren:()=>Promise.all([n.e(6879),n.e(3101),n.e(5638),n.e(833),n.e(8763),n.e(1601),n.e(6440)]).then(n.bind(n,31203)).then((({LayoutEditorModule:t})=>t))},{path:"relationsStatic",loadChildren:()=>Promise.all([n.e(5638),n.e(7329)]).then(n.bind(n,87329)).then((({RelationsStaticModule:t})=>t))},{path:"relationsEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(5501),n.e(8745),n.e(5638),n.e(833),n.e(7141),n.e(8926)]).then(n.bind(n,68926)).then((({RelationsEditorModule:t})=>t))},{path:"relationsWithEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(5501),n.e(8745),n.e(5638),n.e(833),n.e(7141),n.e(2611)]).then(n.bind(n,72611)).then((({RelationsWithEditorModule:t})=>t))},{path:"relationsWithLayoutEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(6879),n.e(3101),n.e(5501),n.e(8745),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(5986)]).then(n.bind(n,85184)).then((({RelationsWithLayoutEditorModule:t})=>t))},{path:"relationsComplex",loadChildren:()=>Promise.all([n.e(8232),n.e(6879),n.e(3101),n.e(5501),n.e(8745),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(6502)]).then(n.bind(n,87139)).then((({RelationsComplexModule:t})=>t))},{path:"relationsLayoutForm",loadChildren:()=>Promise.all([n.e(8232),n.e(6879),n.e(3101),n.e(5501),n.e(9654),n.e(8745),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(5170)]).then(n.bind(n,55170)).then((({RelationsLayoutFormModule:t})=>t))},...(0,n(42303).I)([]),Qe,Ge];var He=n(88842);class Je extends St.v{get locale(){return"en"}get localeChange(){return He.E}}Je.ɵfac=(()=>{let t;return function(e){return(t||(t=Ie.n5(Je)))(e||Je)}})(),Je.ɵprov=M.Yz({token:Je,factory:Je.ɵfac});var Xe=n(26571);function Ke(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class We{getTranslation(t){return new s.y((e=>{var o;(o=function*(){const o=yield n(25048)(`./${t}.json`);e.next(o.default),e.complete()},function(){var t=this,e=arguments;return new Promise((function(n,i){var s=o.apply(t,e);function r(t){Ke(s,n,i,r,a,"next",t)}function a(t){Ke(s,n,i,r,a,"throw",t)}r(void 0)}))})()}))}}We.ɵfac=function(t){return new(t||We)},We.ɵprov=M.Yz({token:We,factory:We.ɵfac});class tn{constructor(t){this._logger=t}handle(t){return this._logger.debug(`MISSING TRANSLATION: ${t.key}`),`MISSING: '${t.key}'`}}tn.ɵfac=function(t){return new(t||tn)(yt.LF(C.bZ))},tn.ɵprov=M.Yz({token:tn,factory:tn.ɵfac});const en=[(0,_t.bU)(Be,(0,_t.E_)(),(0,_t.jK)()),(0,Ct.ly)(),(0,bt.h_)((0,bt.MP)()),(0,vt.T1)({eventCoalescing:!0,runCoalescing:!0}),(0,u.RI)(Ye.aw.forRoot({loader:{provide:Ue.Z,useClass:We},...r.v.configuration.debugTranslations?{missingTranslationHandler:{provide:qe.g,useClass:tn}}:{},useDefaultLang:!r.v.configuration.debugTranslations})),Mt.t,Ft.H,jt.w,zt.Q,xt.B,{useFactory:()=>new Yt.b("Server je mimo prevádzky."),provide:Yt.b},{useFactory:()=>new Ut.R("Server neodpovedal v stanovenom čase."),provide:Ut.R},{provide:St.v,useClass:Je},qt.o,Vt.E,Gt.B,{provide:Bt.u,useValue:{texts:{loading:"Nahrávam dáta ...",noData:"Neboli nájdené dáta odpovedajúce zadaným parametrom",notLoaded:"Neboli načítané žiadne dáta zatiaľ"}}},{provide:Ht.xS,useValue:Jt.G},{provide:Xt.P,useValue:{itemsPerPageValues:[15,30,60],initialItemsPerPage:15}},{provide:Kt.T,useValue:{storageIppName:"all-grid-ipp"}},{provide:Wt.eP,useValue:{cssClasses:{containerDiv:"table-container thin-scrollbar"}}},{provide:Wt.ss,useValue:{cssClasses:{thDefault:"header-default fixed-header"}}},{provide:le.M,useValue:{texts:{nothingSelected:"Nothing selected"}}},{provide:C.oF,useClass:At.H},{provide:C.T0,useClass:wt.Q},(0,It.L2)((t=>t.writeTo((t=>t.writeTo(Rt.f).minimumLevel((()=>{const t=(0,yt.f3)(D.g);return()=>Pt.i[t.settingsLogging.consoleLogLevel]})))).writeTo(kt.n).enrichWith(Tt.D).enrichWith(Lt.V).minimumLevel(Pt.i.Verbose).messageTemplate("{{timestamp}} [{{logLevel}}] {{messageLog}}"))),{provide:Xe.L,useClass:D.l},{provide:Dt.H,useFactory:()=>{const t=(0,yt.f3)(D.g),e=new Dt.H;return e.setEnabled(t.settingsDebugging?.debugData),e}},{provide:de.R2,useClass:he.Fh},ge.V,he.Dx,{provide:ge.v,useValue:{locale:Ze.Z}},{provide:te.xY,useValue:{required:"Položka je povinná.",number:"Položka musí byť číslo.",pattern:"Položka nie je v požadovanom formáte.",minValue:"Nedodržaná minimálna povolená hodnota.",maxValue:"Nedodržaná maximálna povolená hodnota.",minlength:"Nedodržaná minimálna dĺžka.",maxlength:"Nedodržaná maximálna dĺžka.",birthNumber:"Nesprávny formát rodného čísla.",email:"Položka musí byť email.",availableUsername:"Prihlasovacie meno je použité"}},{provide:te.gt,useValue:{container:ee.f}},(0,pe.S)(),Et.d,{provide:re.H,useExisting:C.wn},{provide:Zt._k,useExisting:C.wn},{provide:Zt.wN,useExisting:C.wn},(0,u.RI)(Ot.I),ct.J,{provide:ne.r,useValue:new ne.r(oe.b)},{provide:ie.L,useValue:{confirmationText:"Prajete si pokračovať?",dialogCancelText:"Nie",dialogConfirmText:"Áno"}},(0,Nt.NK)(se.c),{provide:re.w,useValue:{assetsPathPrefix:"dist/md",baseUrl:"/pomoc"}},ye.F,ae.Q,{provide:me.fD,useValue:[fe.m,ve.L,ce.m]},{provide:Zt.r7,useValue:t=>t?.error?.errors?t?.error?.errors:(0,i.HD)(t?.error)?[t?.error]:(0,i.wV)(t?.error)?[JSON.stringify(t?.error)]:[t.message]},{provide:Zt.Sm,useValue:t=>t?.error?.validationErrors?t?.error?.validationErrors:null},{provide:ue.IR,useValue:{404:[$t.A,t=>new Qt.fM(t.errors)]}},[ze,be.md,be.Oq,{provide:Ce.bE,useValue:Pe}],(0,u.RI)(Ve.c8.forRoot({backend:$e.PD}))];(0,c.G)();const nn=[...en,(0,l.iQ)(),{provide:h.g,useFactory:()=>new h.g(r.v.configuration.debug,!1)},(0,u.RI)(m.m.forRoot({cheatSheetCloseEsc:!0}))];(0,d.yA)((0,p.Cg)(ft,{providers:nn}),(t=>{t.injector.get(g.I)?.clearAndDeactivate()}),r.v.configuration.debug)},26571:(t,e,n)=>{"use strict";n.d(e,{L:()=>o});const o=new(n(88011).O)("SETTINGS_STORAGE")},4503:(t,e,n)=>{"use strict";n.d(e,{_:()=>d});var o=n(94060),i=n(61942),s=n(74518),r=n(38042),a=n(62414),c=n(63044),u=n(39829),l=n(5549),p=n(36059);class d{}d.ɵfac=function(t){return new(t||d)},d.ɵmod=l.oA({type:d}),d.ɵinj=p.cJ({imports:[o.e,i.Bz,s.W,r.F,a.z,u.aw,c.N]})},79144:(t,e,n)=>{"use strict";n.d(e,{N:()=>d});var o=n(47260),i=n(93496),s=n(35648),r=n(25583),a=n(52075),c=n(74218),u=n(99566),l=n(5549),p=n(36059);class d{}d.ɵfac=function(t){return new(t||d)},d.ɵmod=l.oA({type:d}),d.ɵinj=p.cJ({imports:[o.U,i.r,a.F,s.A,r.r,c.F,u.j]})},40043:(t,e,n)=>{"use strict";n.d(e,{_:()=>u});var o=n(26159),i=n(80607),s=n(86463),r=n(80056),a=n(36059);const c="DEMO_CUSTOM_COMPONENTS";class u extends o.t{get registeredChange(){return this._registeredChange.asObservable()}constructor(t){super(),this._store=t,this._registeredChange=new s.x}toggleRegisteredComponent(t){const e=this._store.get(c)??{};e[t]?delete e[t]:e[t]={},this._store.set(c,e),this._registeredChange.next()}getRegisteredComponents(){return Object.keys(this._store.get(c)??{})}getConfigurationForComponent(t){const e=this._store.get(c)??{};return e[t]?e[t]:null}setConfigurationForComponent(t,e){const n=this._store.get(c)??{};n[t]&&(n[t]=e,this._store.set(c,n),this._registeredChange.next())}}u.ɵfac=function(t){return new(t||u)(r.LF(i.T0))},u.ɵprov=a.Yz({token:u,factory:u.ɵfac})},64527:(t,e,n)=>{"use strict";n.d(e,{l:()=>f,g:()=>u});var o=n(7199),i=n(86463),s=n(26571),r=n(80056),a=n(26361),c=n(36059);class u{get settings(){return this._settings}get settingsDebugging(){return this._settingsDebugging}get settingsLogging(){return this._settingsLogging}get settingsChange(){return this._settingsChangeSubject.asObservable()}get settingsDebuggingChange(){return this._settingsDebuggingChangeSubject.asObservable()}constructor(t,e){this._storage=e,this._settings=this._storage.get(),this._settingsDebugging=this._storage.getDebugging(),this._settingsLogging=this._storage.getLogging(),this._settingsChangeSubject=new i.x,this._settingsDebuggingChangeSubject=new i.x,this._settingsValueDiff=t.find(this._settings).create(),this._settingsValueDiff.diff(this._settings),this._settingsDebuggingValueDiff=t.find(this._settingsDebugging).create(),this._settingsDebuggingValueDiff.diff(this._settingsDebugging)}setSettings(t){this._settings=(0,o.l7)(!0,{},this._settings,t),this._storage.set(t);const e=this._settingsValueDiff.diff(t);e&&e.forEachChangedItem((t=>{this._settingsChangeSubject.next(t.key)}))}setDebuggingSettings(t){this._settingsDebugging=(0,o.l7)(!0,{},this._settingsDebugging,t),this._storage.setDebugging(t);const e=this._settingsDebuggingValueDiff.diff(t);e&&e.forEachChangedItem((t=>{this._settingsDebuggingChangeSubject.next(t.key)}))}setLoggingSettings(t){this._settingsLogging=(0,o.l7)(!0,{},this._settingsLogging,t),this._storage.setLogging(t)}}u.ɵfac=function(t){return new(t||u)(r.LF(a.a),r.LF(s.L))},u.ɵprov=c.Yz({token:u,factory:u.ɵfac,providedIn:"root"});var l=n(49108),p=n.n(l),d=n(87667);const h="general-settings",g="debugging-settings",m="logging-settings";class f{get(){let t=p().get(h);return t=(0,o.l7)(!0,{},{theme:d.v.general.theme,language:d.v.general.language},t),t}set(t){p().set(h,t)}getDebugging(){let t=p().get(g);return t=(0,o.l7)(!0,{},{consoleEnabled:d.v.debug.consoleEnabled,debugData:d.v.debug.debugData},t),t}setDebugging(t){p().set(g,t)}getLogging(){let t=p().get(m);return t=(0,o.l7)(!0,{},{consoleLogLevel:d.v.logging.consoleLogLevel},t),t}setLogging(t){p().set(m,t)}}f.ɵfac=function(t){return new(t||f)},f.ɵprov=c.Yz({token:f,factory:f.ɵfac})},39940:(t,e,n)=>{"use strict";n.d(e,{T:()=>i,u:()=>s});const o=Symbol("descendantsGetter");function i(t){return function(e){return Object.defineProperty(e,o,{writable:!1,configurable:!1,enumerable:!1,value:t}),e}}function s(t){return o in t?t[o]:null}},10517:(t,e,n)=>{"use strict";n.d(e,{G5:()=>S,Nc:()=>O,TA:()=>w,NX:()=>x,r4:()=>I,f4:()=>k,DN:()=>P,qF:()=>R});var o=n(78876),i=n(80056),s=n(65569),r=n(44677),a=n(12193),c=n(13457),u=n(44055),l=n(8477),p=n(80607),d=n(36059);function h(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class g{constructor(t){this._logger=t}tryToGet(t){var e,o=this;return(e=function*(){if("@anglr/dynamic/layout-editor"!=t.package)return null;try{if(o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {{@item}}",{item:{name:t.name,package:t.package}}),"layout-designer"==t.name)return yield Promise.all([n.e(4474),n.e(2526)]).then(n.bind(n,45800))}catch(e){o._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {{@item}} was not found, reason:"+e,{item:{name:t.name,package:t.package}})}return o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {{@item}} was not found",{item:{name:t.name,package:t.package}}),null},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){h(s,o,i,r,a,"next",t)}function a(t){h(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}g.ɵfac=function(t){return new(t||g)(i.LF(p.bZ,8))},g.ɵprov=d.Yz({token:g,factory:g.ɵfac});var m=n(83434),f=n(89651),v=n(94596),y=n(97149),C=n(9142);function b(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const _=function(){var t,e=(t=function*(t,e){const n=yield(0,r.L)(t,e),o=yield(0,C.k)(t,e),i=n?.data,s=t;if(e?.debug("layoutDesignerTypeExtractor: trying to extract default dynamic data"),!i?.layoutEditorDesignerType)return null;const a=yield i?.layoutEditorDesignerType;return a?{data:a,displayName:s?.displayName,description:s?.description,group:s?.group,childExtensions:o?.childExtensions,extensions:o?.extensions}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){b(s,o,i,r,a,"next",t)}function a(t){b(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),O={provide:l.gM,useFactory:t=>new s.$([_],t),deps:[[new o.Fi,p.bZ]],multi:!0},w={provide:l.Aw,useClass:g,multi:!0},x={provide:l.xM,useValue:function(t){return{id:`${t.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:t}}}},S={provide:f.FX,useFactory:t=>new s.$([r.L],t),deps:[[new o.Fi,p.bZ]],multi:!0},I={provide:f.RI,useValue:[v.$]},R={provide:f.QT,useFactory:()=>new a.S((0,i.f3)(f.sc),(0,i.f3)(f.FX),y.Gl,(0,i.f3)(p.bZ,{optional:!0})??void 0,!0)},P={provide:c.Qh,useExisting:m.t},k={provide:f.dB,useClass:u.Y}},89651:(t,e,n)=>{"use strict";n.d(e,{An:()=>P,RI:()=>_,Yh:()=>O,dB:()=>I,FX:()=>w,QT:()=>S,sc:()=>x,dK:()=>R});var o=n(88011),i=n(20350),s=n(39273),r=n(90378),a=n(5549),c=n(91513),u=n(94353),l=n(21179),p=n(31246),d=n(89086),h=n(95381),g=n(79555),m=n(62478);class f extends s.L{}f.ɵfac=(()=>{let t;return function(e){return(t||(t=r.n5(f)))(e||f)}})(),f.ɵcmp=a.Xp({type:f,selectors:[["input-boolean"]],features:[c.q],decls:2,vars:3,consts:[["type","checkbox",1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(u._U(0,"input",0),l.AL(1,"asRequired")),2&t&&p.Q("formControl",l.lc(1,1,e._control))},dependencies:[d.W,h.JJ,g.o,m.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var v=n(21147),y=n(68742);class C extends s.L{}C.ɵfac=(()=>{let t;return function(e){return(t||(t=r.n5(C)))(e||C)}})(),C.ɵcmp=a.Xp({type:C,selectors:[["textarea-input"]],features:[c.q],decls:2,vars:3,consts:[[1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(u._U(0,"textarea",0),l.AL(1,"asRequired")),2&t&&p.Q("formControl",l.lc(1,1,e._control))},dependencies:[y.Fj,h.JJ,g.o,m.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var b=n(45684);const _=new o.O("LAYOUT_EDITOR_PROPERTY_METADATA_PROPERTIES"),O=new o.O("LAYOUT_EDITOR_PROPERTY_TYPE_CONTROLS",{providedIn:"root",factory:()=>({inputString:i.q,inputBoolean:f,selectValue:v.f,textarea:C,inputNumber:b.l})}),w=new o.O("LAYOUT_MODULE_TYPES_DATA_EXTRACTORS"),x=new o.O("LAYOUT_MODULE_TYPES_PROVIDERS"),S=new o.O("LAYOUT_MODULE_TYPES_LOADER"),I=new o.O("LAYOUT_HISTORY_MANAGER"),R=new o.O("REFRESH_PALETTE_OBSERVABLES"),P=new o.O("LAYOUT_DEFAULTS_OVERRIDE")},94596:(t,e,n)=>{"use strict";n.d(e,{$:()=>o});const o=Symbol("LayoutPropertyMetadata")},97149:(t,e,n)=>{"use strict";n.d(e,{CK:()=>g,Gl:()=>m,_T:()=>h});var o=n(2991),i=n(7199),s=n(10517),r=n(85902),a=n(43671),c=n(83434),u=n(98906),l=n(88271),p=n(26938),d=n(89651);function h(t=!0){return[...t?[s.Nc]:[],...(0,o._)(),s.TA,s.G5,s.r4,s.qF,r.T,a.L,c.t,u.z,l._,p.$,s.f4,s.DN]}function g(t){return{provide:d.An,useClass:t}}const m=function(t){return!((0,i.fp)(t?.data)||!Array.isArray(t.data))}},45684:(t,e,n)=>{"use strict";n.d(e,{l:()=>f});var o=n(39273),i=n(90378),s=n(5549),r=n(91513),a=n(94353),c=n(21179),u=n(31246),l=n(68742),p=n(95381),d=n(79555),h=n(20076),g=n(82508),m=n(62478);class f extends o.L{}f.ɵfac=(()=>{let t;return function(e){return(t||(t=i.n5(f)))(e||f)}})(),f.ɵcmp=s.Xp({type:f,selectors:[["input-number"]],features:[r.q],decls:2,vars:3,consts:[["type","text","number","",1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(a._U(0,"input",0),c.AL(1,"asRequired")),2&t&&u.Q("formControl",c.lc(1,1,e._control))},dependencies:[l.Fj,p.JJ,d.o,h.N,g.L,m.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},20350:(t,e,n)=>{"use strict";n.d(e,{q:()=>g});var o=n(39273),i=n(90378),s=n(5549),r=n(91513),a=n(94353),c=n(21179),u=n(31246),l=n(68742),p=n(95381),d=n(79555),h=n(62478);class g extends o.L{}g.ɵfac=(()=>{let t;return function(e){return(t||(t=i.n5(g)))(e||g)}})(),g.ɵcmp=s.Xp({type:g,selectors:[["input-string"]],features:[r.q],decls:2,vars:3,consts:[["type","text",1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(a._U(0,"input",0),c.AL(1,"asRequired")),2&t&&u.Q("formControl",c.lc(1,1,e._control))},dependencies:[l.Fj,p.JJ,d.o,h.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},39273:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var o=n(15554),i=n(86870),s=n(5549);function r(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)}))}}class c{get control(){return this._control}set control(t){this._control=t,this._controlSet()}constructor(t){this._changeDetector=t,this._initialized=!1,this.values=[]}ngOnInit(){var t=this;return a((function*(){t._initialized||(t._initialized=!0,yield t._initialize())}))()}initialize(){var t=this;return a((function*(){yield t.ngOnInit()}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}_controlSet(){}}c.ɵfac=function(t){return new(t||c)(o.Y(i.s))},c.ɵdir=s.lG({type:c,inputs:{control:"control",values:"values"}})},21147:(t,e,n)=>{"use strict";n.d(e,{f:()=>C});var o=n(39273),i=n(94353),s=n(31246),r=n(90378),a=n(5549),c=n(91513),u=n(21179),l=n(41820),p=n(55640),d=n(60054),h=n(68751),g=n(78002),m=n(95381),f=n(79555),v=n(62478);function y(t,e){if(1&t&&i._U(0,"option",2),2&t){const t=e.$implicit;s.Q("value",t)("text",t)}}class C extends o.L{}C.ɵfac=(()=>{let t;return function(e){return(t||(t=r.n5(C)))(e||C)}})(),C.ɵcmp=a.Xp({type:C,selectors:[["select-value"]],features:[c.q],decls:3,vars:4,consts:[[1,"properties-form-control",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"]],template:function(t,e){1&t&&(i.Tg(0,"select",0),u.AL(1,"asRequired"),l.Y(2,y,1,2,"option",1),i.qZ()),2&t&&(s.Q("formControl",u.lc(1,2,e._control)),p.x(2),s.Q("ngForOf",e.values))},dependencies:[d.sg,h.Y,g.Kr,h.E,m.JJ,f.o,v.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},98906:(t,e,n)=>{"use strict";n.d(e,{z:()=>s});var o=n(86463),i=n(36059);class s{constructor(){this._dragging=!1,this._draggingChange=new o.x}get dragging(){return this._dragging}get draggingChange(){return this._draggingChange.asObservable()}setDragging(t){this._dragging!=t&&(this._dragging=t,this._draggingChange.next())}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},26938:(t,e,n)=>{"use strict";n.d(e,{$:()=>v});var o=n(8477),i=n(80607),s=n(64461),r=n(78876),a=n(12193),c=n(39940);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))}}let p=class{[Symbol.asyncIterator](){let t=0;const e=this.initPromise??(this.initPromise=this.getInitPromise()),n=this.items;return{next:()=>l((function*(){return yield e,t<n.length?{value:n[t++],done:!1}:{value:n[t-1],done:!0}}))()}}constructor(t,e,n){this.layoutMetadata=t,this.loader=e,this.logger=n,this.items=[],this.initialized=!1,this.initPromise=null}forEach(t){var e=this;return l((function*(){yield e.initPromise??(e.initPromise=e.getInitPromise());for(const n of e.items)t(n.metadata,n.parent,n.levelIndex,n.level)}))()}getComponents(){var t=this;return l((function*(){yield t.getComponent(t.layoutMetadata,null,0,0)}))()}getComponent(t,e,n,o){var i=this;return l((function*(){const s={metadata:t,parent:e,levelIndex:n,level:o};i.items.push(s);const r=yield i.loader.loadItem(t);if(!r)return void i.logger?.debug("LayoutComponentsIterator: failed to get dynamic component type for iterator! {{@data}}",{data:{package:t.package,name:t.name}});const a=(0,c.u)(r.data);if(!a)return;const u=a(t.options);for(let t=0;t<u.length;t++)yield i.getComponent(u[t],s,t,o+1)}))()}getInitPromise(){var t=this;return l((function*(){t.initialized||(t.initialized=!0,yield t.getComponents())}))()}};function d(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){d(s,o,i,r,a,"next",t)}function a(t){d(s,o,i,r,a,"throw",t)}r(void 0)}))}}p=(0,s.gn)([(0,s.fM)(1,(0,r.tB)(o.Vl)),(0,s.w6)("design:paramtypes",[Object,a.S,Object])],p);let g=class{[Symbol.asyncIterator](){let t=0;const e=this.initPromise??(this.initPromise=this.getInitPromise()),n=this.items;return{next:()=>h((function*(){return yield e,t<n.length?{value:n[t++],done:!1}:{value:n[t-1],done:!0}}))()}}constructor(t,e,n){this.layoutMetadata=t,this.loader=e,this.logger=n,this.items=[],this.initialized=!1,this.initPromise=null}getChildren(){var t=this;return h((function*(){yield t.getComponent(t.layoutMetadata)}))()}getComponent(t){var e=this;return h((function*(){const n=yield e.loader.loadItem(t);if(!n)return void e.logger?.debug("LayoutComponentsChildrenIterator: failed to get dynamic component type for children iterator! {{@data}}",{data:{package:t.package,name:t.name}});const o=(0,c.u)(n.data);if(!o)return;const i=o(t.options);for(let t=0;t<i.length;t++)e.items.push({index:t,metadata:i[t]})}))()}getInitPromise(){var t=this;return h((function*(){t.initialized||(t.initialized=!0,yield t.getChildren())}))()}};g=(0,s.gn)([(0,s.fM)(1,(0,r.tB)(o.Vl)),(0,s.w6)("design:paramtypes",[Object,a.S,Object])],g);var m=n(80056),f=n(36059);class v{constructor(t,e){this.loader=t,this.logger=e}getIteratorFor(t){return new p(t,this.loader,this.logger)}getChildrenIteratorFor(t){return new g(t,this.loader,this.logger)}}v.ɵfac=function(t){return new(t||v)(m.LF(o.Vl),m.LF(i.bZ,8))},v.ɵprov=f.Yz({token:v,factory:v.ɵfac})},85902:(t,e,n)=>{"use strict";n.d(e,{T:()=>c});var o=n(8477),i=n(80607),s=n(80056),r=n(36059);function a(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class c{constructor(t,e){this._loader=t,this._logger=e,this._cache={}}extractMetadata(t){var e,n=this;return(e=function*(){const e=`${t.package}-${t.name}`;if(n._cache[e])return n._cache[e];const o=yield n._loader.loadItem(t);if(!o)return null;const i=o.data;if(!i.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:t.package,name:t.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:t.package,name:t.name});const s=yield i.layoutEditorMetadata;return Object.freeze(s),n._cache[e]=s,s},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){a(s,o,i,r,c,"next",t)}function c(t){a(s,o,i,r,c,"throw",t)}r(void 0)}))})()}}c.ɵfac=function(t){return new(t||c)(s.LF(o.Vl),s.LF(i.bZ,8))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},83434:(t,e,n)=>{"use strict";n.d(e,{t:()=>l});var o=n(80607),i=n(7199),s=n(23199),r=n(86463),a=n(80056),c=n(36059),u=n(56454);class l{get selectedComponent(){return this._selectedComponent}get highlightedComponent(){return this._highlightedComponent}get draggedOverComponent(){return this._draggedOverComponent}get root(){return(0,i.fp)(this.rootComponentId)?null:this.components[this.rootComponentId]}get layoutChange(){return this.layoutChangeSubject.asObservable()}get selectedChange(){return this._selectedChange.asObservable()}get highlightedChange(){return this._highlightedChange.asObservable()}get displayNameChange(){return this._displayNameChanges.asObservable()}get draggedOverComponentChange(){return this._draggedOverComponentChange.asObservable()}get flatTree(){return this._flatTree??(this._flatTree=this._buildFlatTree())}constructor(t,e){this._editorHotkeys=t,this._logger=e,this.initSubscriptions=new s.w0,this.components={},this.rootComponentId=null,this._selectedComponent=null,this._highlightedComponent=null,this.layoutChangeSubject=new r.x,this._selectedChange=new r.x,this._highlightedChange=new r.x,this._displayNameChanges=new r.x,this._flatTree=null,this._draggedOverComponent=null,this._draggedOverComponentChange=new r.x,this.initSubscriptions.add(this._editorHotkeys.delete.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];t?.parent&&(t.parent.component.removeDescendant(this.selectedComponent),t.parent.component.invalidateVisuals())}))),this.initSubscriptions.add(this._editorHotkeys.copy.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];this.metadataClipboard=t.component.options?.typeMetadata}))),this.initSubscriptions.add(this._editorHotkeys.cut.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];t?.parent&&(this.metadataClipboard=t.component.options?.typeMetadata,t.parent.component.removeDescendant(this.selectedComponent),t.parent.component.invalidateVisuals())}))),this.initSubscriptions.add(this._editorHotkeys.paste.subscribe((()=>{if(!this.selectedComponent||!this.metadataClipboard)return;const t=this.components[this.selectedComponent],e=`${this.metadataClipboard.name}-${(0,i.Ox)(12)}`;t.component.canDrop?t.component.addDescendant({index:0,metadata:(0,i.l7)({},this.metadataClipboard,{id:e,displayName:e}),parentId:null}):t.parent?.component.canDrop&&t.parent.component.addDescendant({index:t.component.index+1,metadata:(0,i.l7)({},this.metadataClipboard,{id:e,displayName:e}),parentId:null})})))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}selectComponent(t){this._selectedComponent=t??null,this._selectedChange.next()}unselectComponent(){this._selectedComponent=null,this._selectedChange.next()}highlightComponent(t){this._highlightedComponent=t??null,this._highlightedChange.next()}cancelHighlightedComponent(){this._highlightedComponent=null,this._highlightedChange.next()}dragOverComponent(t){t!==this._draggedOverComponent&&(this._draggedOverComponent=t??null,this._draggedOverComponentChange.next())}cancelDragOverComponent(){this._draggedOverComponent=null,this._draggedOverComponentChange.next()}registerLayoutDesignerComponent(t,e,n){if((0,i.fp)(n)&&(this.rootComponentId=e),this.components[e])return this._logger?.error(`LayoutEditorMetadataManager: Component with id ${e} is already registered!`),!1;const o=n?this.components[n]:null,s={component:t,parent:o,children:[]};return this.components[e]=s,o&&o.children.push(s),this._flatTree=null,this.layoutChangeSubject.next(),this._logger?.debug("LayoutEditorMetadataManager: Registering component {{@id}}",{id:e}),!0}getComponent(t){return this.components[t]?.component??null}getParent(t){return this.components[t]?.parent?.component??null}getIndex(t){const e=this.components[t];return e&&e.parent?e.parent.children.indexOf(e):null}getComponentDef(t){return this.components[t]??null}unregisterLayoutDesignerComponent(t){const e=this.components[t];if(delete this.components[t],e?.parent){const t=e.parent.children.indexOf(e);e.parent.children.splice(t,1)}t===this.rootComponentId&&(this.rootComponentId=null),this._flatTree=null,this.layoutChangeSubject.next(),this._logger?.debug("LayoutEditorMetadataManager: Unregistering component {{@id}}",{id:t})}displayNameUpdated(){this._displayNameChanges.next()}getMetadata(){return(0,i.fp)(this.rootComponentId)||!this.components[this.rootComponentId]?null:this.components[this.rootComponentId].component.options?.typeMetadata??null}_buildFlatTree(){if((0,i.fp)(this.rootComponentId))return[];const t=this.components[this.rootComponentId];return t?this._buildFlatTreeForComponent(t):[]}_buildFlatTreeForComponent(t){let e=[t];for(const n of t.children)e=e.concat(this._buildFlatTreeForComponent(n));return e}}l.ɵfac=function(t){return new(t||l)(a.LF(u.z),a.LF(o.bZ,8))},l.ɵprov=c.Yz({token:l,factory:l.ɵfac})},43671:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var o=n(80607),i=n(7199),s=n(89651),r=n(80056),a=n(36059);class c{constructor(t,e){this._layoutPropertiesSymbols=t,this._logger=e}extract(t){if(!t)return null;this._logger?.debug(`LayoutEditorPropertyMetadataExtractor: Trying to extract properties metadata '${t.name}'`);const e={};for(const n of this._layoutPropertiesSymbols){const o=Reflect.get(t.prototype,n);(0,i.l7)(!0,e,o)}return e}}c.ɵfac=function(t){return new(t||c)(r.LF(s.RI),r.LF(o.bZ,8))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac})},88271:(t,e,n)=>{"use strict";n.d(e,{_:()=>c});var o=n(80607),i=n(86463),s=n(80056),r=n(36059);const a="LIVE_EVENTS_STATUS";class c{get enabled(){return this.ɵenabled}get enabledChange(){return this.ɵenabledChange.asObservable()}constructor(t){this.storage=t,this.ɵenabled=!1,this.ɵenabledChange=new i.x,this.ɵenabled=this.storage.get(a)??!1}setEnabled(t){this.ɵenabled!=t&&(this.storage.set(a,t),this.ɵenabled=t,this.ɵenabledChange.next())}}c.ɵfac=function(t){return new(t||c)(s.LF(o.T0))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},79842:(t,e,n)=>{"use strict";n.d(e,{Qd:()=>K,Wh:()=>J,Kc:()=>H,AL:()=>Q,Fy:()=>G,$R:()=>B,Sf:()=>X});var o=n(2991),i=n(8477),s=n(56224),r=n(47432),a=n(77291),c=n(91861),u=n(79763),l=n(54870),p=n(97149),d=n(26938),h=n(85902),g=n(26038),m=n(80607),f=n(89651),v=n(20809),y=n(80056),C=n(36059),b=n(60152);function _(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class O{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsNodesProvider: trying to get node {{@item}}",{item:{name:t.name,package:t.package}});const e=yield n._componentsRegister.getType(t.name);return e?{default:e,displayName:yield n._componentsRegister.getDisplayName(t.name),scope:yield n._componentsRegister.getScope(t.name),name:yield n._componentsRegister.getComponentName(t.name),package:yield n._componentsRegister.getComponentPackage(t.name)}:null},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){_(s,o,i,r,a,"next",t)}function a(t){_(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function w(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}O.ɵfac=function(t){return new(t||O)(y.LF(b.C),y.LF(m.bZ,8))},O.ɵprov=C.Yz({token:O,factory:O.ɵfac});class x{constructor(t,e,n){this._componentsRegister=t,this._loader=e,this._logger=n}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsTypesProvider: trying to get relations types {{@item}}",{item:{name:t.name,package:t.package}});const e=yield n._componentsRegister.types;if(!e)return null;const o=[];for(const t of e){const e=yield n._loader.loadItem({package:"layout-components",name:t});e?.data&&o.push(t)}return{default:o}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){w(s,o,i,r,a,"next",t)}function a(t){w(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}x.ɵfac=function(t){return new(t||x)(y.LF(b.C),y.LF(c.fI),y.LF(m.bZ,8))},x.ɵprov=C.Yz({token:x,factory:x.ɵfac});var S=n(26159);function I(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class R{constructor(t,e){this._customComponentRegister=t,this._logger=e}tryToGet(t){var e,o=this;return(e=function*(){if("custom-components"!=t.package)return null;switch(o._logger?.debug("CustomComponentsDynamicModuleItemsProvider: trying to get node {{@item}}",{item:{name:t.name,package:t.package}}),t.name){case"placeholder":return yield Promise.all([n.e(183),n.e(8154)]).then(n.bind(n,98154));case"placeholderContainer":return yield n.e(2645).then(n.bind(n,22645));case"componentInputs":return yield n.e(7433).then(n.bind(n,97433));case"componentOutputs":return yield n.e(4505).then(n.bind(n,54505));default:{const e=yield Promise.all([n.e(183),n.e(1990)]).then(n.bind(n,61990)),i=o._customComponentRegister?.getConfigurationForComponent(t.name);return{default:e.default,extensions:e.extensions,displayName:i?.displayName,description:i?.description,group:i?.group}}}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){I(s,o,i,r,a,"next",t)}function a(t){I(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function P(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}R.ɵfac=function(t){return new(t||R)(y.LF(S.t,8),y.LF(m.bZ,8))},R.ɵprov=C.Yz({token:R,factory:R.ɵfac});class k{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){var e,n=this;return(e=function*(){if("custom-components"!=t.package)return null;n._logger?.debug("CustomComponentsDynamicModuleTypesProvider: trying to get relations types {{@item}}",{item:{name:t.name,package:t.package}});const e=yield n._componentsRegister.getRegisteredComponents();return e.length?{default:[...e,"placeholder"]}:{default:["placeholder"]}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){P(s,o,i,r,a,"next",t)}function a(t){P(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function T(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}k.ɵfac=function(t){return new(t||k)(y.LF(S.t),y.LF(m.bZ,8))},k.ɵprov=C.Yz({token:k,factory:k.ɵfac});class L{constructor(t){this._logger=t}tryToGet(t){var e,n=this;return(e=function*(){return"custom-components"!=t.package?null:(n._logger?.debug("CustomComponentsDynamicModuleRelationsProvider: trying to get relations types {{@item}}",{item:{name:t.name,package:t.package}}),{default:["componentInputs","componentOutputs"]})},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){T(s,o,i,r,a,"next",t)}function a(t){T(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}L.ɵfac=function(t){return new(t||L)(y.LF(m.bZ,8))},L.ɵprov=C.Yz({token:L,factory:L.ɵfac});const D={provide:c.n7,useClass:O,multi:!0},E={provide:c.GP,useClass:x,multi:!0},N={provide:i.Aw,useClass:R,multi:!0},A={provide:f.sc,useClass:k,multi:!0},M={provide:c.GP,useClass:L,multi:!0},F={provide:c.n7,useClass:R,multi:!0};v.B6;var j=n(80734),z=n(64461),Y=n(7199),U=n(23199);function q(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class V extends a.a{constructor(t,e){super(),this.layoutManager=t,this.componentRegister=e,this.initSubscriptions=new U.w0,this.initSubscriptions.add(this.layoutManager.layoutChange.subscribe((()=>this.getScopes()))),this.getScopes()}ngOnDestroy(){this.initSubscriptions.unsubscribe()}getScopes(){var t,e=this;return(t=function*(){e.ɵScopes=[];const t=yield e.componentRegister.types;for(const n of t){let t=null;(t=yield e.componentRegister.getScope(n))&&e.ɵScopes.indexOf(t)<0&&e.ɵScopes.push(t)}e.scopesChangeSubject.next()},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){q(s,o,i,r,a,"next",t)}function a(t){q(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function Z(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function $(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return $=function(t){this.s=t,this.n=t.next},$.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new $(t)}function Q(){return[...(0,o._)(),...(0,s.Aq)()]}function G(){return[...Q(),N]}function B(){const t=(0,r.TN)();return t.splice(t.indexOf(a.a),1),[...(0,p._T)(!1),...t,D,E,j.n,b.C,d.$,{provide:a.a,useClass:V},{provide:c.dK,useFactory:t=>t.layoutChange,deps:[j.n],multi:!0},(0,g.XW)("layout-components")]}function H(t,e=S.t){return[F,M,N,(0,g.XW)("custom-components"),{provide:S.t,useClass:e},...t]}function J(t,e=S.t){return[N,A,(0,g.XW)("custom-components"),{provide:S.t,useClass:e},...t]}function X(t){return[...B(),u.I_,u.UB,{provide:l.w,useClass:t},(0,g.XW)("static-components")]}function K(t,e){return W.apply(this,arguments)}function W(){var t;return t=function*(t,e){const n=e.get(i.qO),o=yield n.getMetadata(t),s=e.get(m.bZ);if(!o)return s.warn("ContentOptionsPropertiesControlSAComponent: missing layout metadata for custom component!"),null;const r=e.get(d.$).getIteratorFor(o),a=e.get(h.T),c={};var u,l=!1,p=!1;try{for(var g,f=function(t){var e,n,o,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(o&&null!=(e=t[o]))return new $(e.call(t));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}(r);l=!(g=yield f.next()).done;l=!1){const t=g.value;{const e=yield a.extractMetadata(t.metadata);if(!e){s.warn("ContentOptionsPropertiesControlSAComponent: missing metadata for component!");continue}c[t.metadata.id]={metadata:t.metadata,editorMetadata:e}}}}catch(t){p=!0,u=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(p)throw u}}return{contentMetadata:c,metadata:o}},W=function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){Z(s,o,i,r,a,"next",t)}function a(t){Z(s,o,i,r,a,"throw",t)}r(void 0)}))},W.apply(this,arguments)}V.ɵfac=function(t){return new(t||V)(y.LF(j.n),y.LF(b.C))},V.ɵprov=C.Yz({token:V,factory:V.ɵfac}),(0,z.gn)([(0,Y.CY)(10),(0,Y.Sw)(),(0,z.w6)("design:type",Function),(0,z.w6)("design:paramtypes",[]),(0,z.w6)("design:returntype",Promise)],V.prototype,"getScopes",null)},62568:(t,e,n)=>{"use strict";n.d(e,{m:()=>i});var o=n(5549);class i{transform(t,e){return e?.editorMetadata.metaInfo?.optionsMetadata?.propertiesMetadata?.find((e=>e.modelType.name==t))?.modelType??null}}i.ɵfac=function(t){return new(t||i)},i.ɵpipe=o.Yj({name:"getModel",type:i,pure:!0,standalone:!0})},43856:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var o=n(15554),i=n(5549),s=n(43671);class r{constructor(t){this.propertyExtractor=t}transform(t,e){if(!t)return null;if(this.propertyExtractor??(this.propertyExtractor=e),!this.propertyExtractor)throw new Error("Please provide LayoutEditorPropertyMetadataExtractor for propertiesMetadata pipe!");return this.propertyExtractor.extract(t)}}r.ɵfac=function(t){return new(t||r)(o.Y(s.L,24))},r.ɵpipe=i.Yj({name:"propertiesMetadata",type:r,pure:!0,standalone:!0})},26159:(t,e,n)=>{"use strict";n.d(e,{t:()=>i});var o=n(36059);class i{getRegisteredComponents(){return[]}getConfigurationForComponent(t){return null}setConfigurationForComponent(t,e){}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},60152:(t,e,n)=>{"use strict";n.d(e,{C:()=>d});var o=n(8477),i=n(23199),s=n(80056),r=n(36059),a=n(80734),c=n(26938);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))}}function p(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return p=function(t){this.s=t,this.n=t.next},p.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new p(t)}class d{get types(){return this.initPromise??(this.initPromise=this.initializeTypes()),this.initPromise.then((()=>Object.keys(this.definedTypes)))}constructor(t,e,n){this.layoutManager=t,this.loader=e,this.iteratorSvc=n,this.initSubscriptions=new i.w0,this.definedTypes={},this.initPromise=null,this.initSubscriptions.add(this.layoutManager.layoutChange.subscribe((()=>this.initPromise=null)))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}getType(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.type??null}))()}getDisplayName(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.displayName??void 0}))()}getScope(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.scope}))()}getComponentName(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.name??null}))()}getComponentPackage(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.package??null}))()}initializeTypes(){var t=this;return l((function*(){if(t.definedTypes={},!t.layoutManager.layout)return;const e=t.iteratorSvc.getIteratorFor(t.layoutManager.layout);var n,o=!1,i=!1;try{for(var s,r=function(t){var e,n,o,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(o&&null!=(e=t[o]))return new p(e.call(t));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}(e);o=!(s=yield r.next()).done;o=!1){const e=s.value;{const n=yield t.loader.loadItem(e.metadata);if(!n)continue;t.definedTypes[e.metadata.id]={type:n.data,displayName:e.metadata.displayName,name:e.metadata.name,scope:e.metadata.scope,package:e.metadata.package}}}}catch(t){i=!0,n=t}finally{try{o&&null!=r.return&&(yield r.return())}finally{if(i)throw n}}}))()}}d.ɵfac=function(t){return new(t||d)(s.LF(a.n),s.LF(o.Vl),s.LF(c.$))},d.ɵprov=r.Yz({token:d,factory:d.ɵfac})},80734:(t,e,n)=>{"use strict";n.d(e,{n:()=>r});var o=n(86463),i=n(13082),s=n(36059);class r{constructor(){this._layout=null,this._layoutChange=new o.x}get layout(){return this._layout}get layoutChange(){return this._layoutChange.asObservable()}setLayout(t){(0,i.Z)(this._layout,t)||(this._layout=t,this._layoutChange.next())}}r.ɵfac=function(t){return new(t||r)},r.ɵprov=s.Yz({token:r,factory:r.ɵfac})},8477:(t,e,n)=>{"use strict";n.d(e,{Aw:()=>a,Vl:()=>c,X5:()=>s,gM:()=>r,qO:()=>u,xM:()=>i});var o=n(88011);const i=new o.O("LAYOUT_COMPONENT_TRANSFORM"),s=new o.O("LAYOUT_COMPONENT_CHILD_EXTENSIONS"),r=new o.O("LAYOUT_COMPONENTS_MODULE_DATA_EXTRACTORS"),a=new o.O("LAYOUT_COMPONENTS_MODULE_PROVIDERS"),c=new o.O("LAYOUT_COMPONENTS_LOADER"),u=new o.O("LAYOUT_METADATA_STORAGE")},2991:(t,e,n)=>{"use strict";n.d(e,{h:()=>g,_:()=>m});var o=n(7199),i=n(78876),s=n(80056),r=n(80607),a=n(65569),c=n(44677),u=n(9142),l=n(12193),p=n(8477);const d={provide:p.gM,useFactory:t=>new a.$([c.L,u.k],t),deps:[[new i.Fi,r.bZ]],multi:!0},h={provide:p.Vl,useFactory:()=>new l.S((0,s.f3)(p.Aw),(0,s.f3)(p.gM),g,(0,s.f3)(r.bZ,{optional:!0})??void 0)},g=function(t){return!((0,o.fp)(t?.data)||!(0,o.P9)(t.data)||(0,o.EN)(t?.childExtensions)&&(!Array.isArray(t.childExtensions)||t.childExtensions.some((t=>!(0,o.P9)(t))))||(0,o.EN)(t?.extensions)&&(!Array.isArray(t.extensions)||t.extensions.some((t=>!(0,o.P9)(t)))))};function m(){return[h,d]}},6552:(t,e,n)=>{"use strict";n.d(e,{i:()=>i});var o=n(22206);function i(t){return(0,o.R)(t,"relationsEditorMetadata")}},79763:(t,e,n)=>{"use strict";n.d(e,{AL:()=>I,aU:()=>R,md:()=>S,Ub:()=>L,P_:()=>T,xt:()=>P,Oq:()=>k,UB:()=>x,I_:()=>w});var o=n(78876),i=n(80056),s=n(65569),r=n(44677),a=n(12193),c=n(13457),u=n(44055),l=n(80607),p=n(91861),d=n(10439);function h(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const g=function(){var t,e=(t=function*(t,e){const n=yield(0,d.j)(t,e);if(e?.debug("relationsNodeExtractor: trying to extract dynamic node"),!n)return null;const o=n.data;if(!o)return null;const i=yield o.relationsEditorMetadata;return i?{data:i.nodeDefinition,metaInfo:i.metaInfo}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){h(s,o,i,r,a,"next",t)}function a(t){h(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();function m(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const f=function(){var t,e=(t=function*(t,e){const n=t;if(e?.debug("componentRelationsNodeExtractor: trying to extract dynamic node"),!n)return null;const o=n.default;if(!o)return null;const i=yield o.relationsEditorMetadata;return i?{data:i.nodeDefinition,metaInfo:i.metaInfo,singleton:!0,displayName:n.displayName,scope:n.scope,name:n.name,package:n.package}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){m(s,o,i,r,a,"next",t)}function a(t){m(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();var v=n(36059),y=n(54870);class C{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){if("static-components"!=t.package)return null;this._logger?.debug("StaticComponentsRelationsNodesProvider: trying to get node {{@item}}",{item:{name:t.name,package:t.package}});const e=this._componentsRegister.getType(t.name);return e?{default:e}:null}}C.ɵfac=function(t){return new(t||C)(i.LF(y.w),i.LF(l.bZ,8))},C.ɵprov=v.Yz({token:C,factory:C.ɵfac});class b{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){if("static-components"!=t.package)return null;this._logger?.debug("StaticComponentsRelationsTypesProvider: trying to get relations types {{@item}}",{item:{name:t.name,package:t.package}});const e=this._componentsRegister.types;return e?{default:e}:null}}b.ɵfac=function(t){return new(t||b)(i.LF(y.w),i.LF(l.bZ,8))},b.ɵprov=v.Yz({token:b,factory:b.ɵfac});var _=n(48397),O=n(47432);const w={provide:p.n7,useClass:C,multi:!0},x={provide:p.GP,useClass:b,multi:!0},S={provide:p.yh,useFactory:t=>new s.$([g],t),deps:[[new o.Fi,l.bZ]],multi:!0},I={provide:p.yh,useFactory:t=>new s.$([f],t),deps:[[new o.Fi,l.bZ]],multi:!0},R={provide:p.DZ,useFactory:t=>new s.$([r.L],t),deps:[[new o.Fi,l.bZ]],multi:!0},P={provide:p.Bj,useFactory:()=>new a.S((0,i.f3)(p.GP),(0,i.f3)(p.DZ),O.CQ,(0,i.f3)(l.bZ,{optional:!0})??void 0,!0)},k={provide:p.fI,useFactory:()=>new a.S((0,i.f3)(p.n7),(0,i.f3)(p.yh),O.Zl,(0,i.f3)(l.bZ,{optional:!0})??void 0)},T={provide:c.Qh,useExisting:_.J},L={provide:p.nR,useClass:u.Y}},91861:(t,e,n)=>{"use strict";n.d(e,{Bj:()=>r,DZ:()=>i,GP:()=>s,dK:()=>l,fI:()=>u,fs:()=>d,n7:()=>c,nR:()=>p,yh:()=>a});var o=n(88011);const i=new o.O("RELATIONS_MODULE_TYPES_DATA_EXTRACTORS"),s=new o.O("RELATIONS_MODULE_TYPES_PROVIDERS"),r=new o.O("RELATIONS_MODULE_TYPES_LOADER"),a=new o.O("RELATIONS_NODES_DATA_EXTRACTORS"),c=new o.O("RELATIONS_NODES_PROVIDERS"),u=new o.O("RELATIONS_NODES_LOADER"),l=new o.O("REFRESH_PALETTE_OBSERVABLES"),p=new o.O("RELATIONS_HISTORY_MANAGER"),d=new o.O("RELATIONS_DEFAULTS_OVERRIDE")},47432:(t,e,n)=>{"use strict";n.d(e,{CQ:()=>p,TN:()=>h,Wg:()=>f,Zl:()=>d,hE:()=>g,qV:()=>m,uZ:()=>l});var o=n(26038),i=n(7199),s=n(79763),r=n(48397),a=n(77291),c=n(54870),u=n(91861);function l(t,e,n){return Math.min(Math.max(t,e),n)}const p=function(t){return!((0,i.fp)(t?.data)||!Array.isArray(t.data))},d=function(t){return!((0,i.fp)(t?.data)||!(0,i.P9)(t.data)||(0,i.EN)(t.singleton)&&!(0,i.jn)(t.singleton)||(0,i.EN)(t.displayName)&&!(0,i.HD)(t.displayName)||(0,i.EN)(t?.metaInfo)&&!(0,i.wV)(t.metaInfo))};function h(){return[s.md,s.AL,s.aU,s.xt,s.Oq,r.J,a.a,s.P_,s.Ub]}function g(t){return[...h(),s.I_,s.UB,{provide:c.w,useClass:t},(0,o.XW)("static-components")]}function m(t){return{provide:u.fs,useClass:t}}function f(t){let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=("00"+(e>>8*t&255).toString(16)).substr(-2);return n}},48397:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var o=n(86463),i=n(36059);class s{constructor(){this._nodes={},this._waitingInputRelations={},this._nodesChange=new o.x,this._activeNodeChange=new o.x,this._nodeRegisterChange=new o.x,this._nodeUnregisterChange=new o.x}get nodes(){return this._nodes}get nodesChange(){return this._nodesChange.asObservable()}get activeNode(){return this._activeNode}get activeNodeChange(){return this._activeNodeChange.asObservable()}get nodeRegisterChange(){return this._nodeRegisterChange.asObservable()}get nodeUnregisterChange(){return this._nodeUnregisterChange.asObservable()}setActiveInput(t){this._activeInput=t}getActiveInput(){return this._activeInput}registerNode(t){var e,n;if(this._nodes[t.id]=t,this._nodesChange.next(),this._nodeRegisterChange.next(t),t.metadata?.outputs&&Array.isArray(t.metadata?.outputs))for(const o of t.metadata?.outputs){if(!o.inputs||!Array.isArray(o.inputs))continue;const i=t.outputs[o.outputName];if(i)for(const t of o.inputs){const o=this._nodes[t.id],s=i.startRelation();if(!o){(e=this._waitingInputRelations)[n=t.id]??(e[n]=[]),this._waitingInputRelations[t.id].push({inputName:t.inputName,relation:s});continue}const r=o.inputs[t.inputName];r&&r.endRelation(s)}}if(this._waitingInputRelations[t.id]){const e=this._waitingInputRelations[t.id],n=this._nodes[t.id];if(!n)return;for(const o of e){const e=n.inputs[o.inputName];e&&(e.endRelation(o.relation),delete this._waitingInputRelations[t.id])}}}unregisterNode(t){delete this._nodes[t.id],this._nodesChange.next(),this._nodeUnregisterChange.next(t)}getMetadata(){const t=[],e=Object.keys(this._nodes);for(const n of e){const e=this._nodes[n];if(!e.metadata)continue;const o={id:n,name:e.metadata.name,package:e.metadata.package,displayName:e.metadata.displayName,relationsOptions:e.metadata.relationsOptions,nodeMetadata:e.metadata.nodeMetadata,scope:e.metadata.scope,outputs:[]};if(e.allOutputs){for(const t of e.allOutputs){if(!t.relations)continue;if(!t.name)continue;const e={outputName:t.name,inputs:[]};for(const n of t.relations)n.input?.name&&e.inputs.push({id:n.input.parentId,inputName:n.input.name});o.outputs?.push(e)}t.push(o)}}return t}setActiveNode(t){this._activeNode=t,this._activeNodeChange.next()}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},77291:(t,e,n)=>{"use strict";n.d(e,{a:()=>s});var o=n(86463),i=n(36059);class s{constructor(){this.ɵScopes=[],this.scopesChangeSubject=new o.x}get scopes(){return this.ɵScopes}get scopesChange(){return this.scopesChangeSubject.asObservable()}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},54870:(t,e,n)=>{"use strict";n.d(e,{w:()=>i});var o=n(36059);class i{constructor(){this._definedTypes=this.getDefinedTypes()}get types(){return Object.keys(this._definedTypes)}getType(t){return this._definedTypes[t]??null}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},71938:(t,e,n)=>{"use strict";n.d(e,{h:()=>s,s:()=>i});const o=Symbol("DebugData");function i(t){return Reflect.get(t,o)}function s(t){return function(t){return t}}},36759:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var o=n(86463),i=n(56224),s=n(86485),r=n(96583);function a(t){return function(e,n){const a=n;Object.defineProperty(e,`${a}Change`,{get:function(){return this[`ɵ${a}Change`]||(this[`ɵ${a}Change`]=new o.x),this[`ɵ${a}Change`]}}),Object.defineProperty(e,a,{get:function(){return this[`ɵ${a}`]},set:function(e){if(this[`ɵ${a}`]=e,(0,i.gE)(this,a),t?.sync)this[`${a}Change`].next();else{const t=this.ɵɵinjector;if(!t)return;const e=t.get(s.s),n=t.get(r.H),o=e.getId(this);if(!o)return;n.markForCheck({componentId:o,outputName:a})}}}),t?.skipInit&&(0,i.pG)(e,a)}}},89402:(t,e,n)=>{"use strict";function o(t){return!!t.__ɵɵRelationsComponent}function i(){return function(t){return t.__ɵɵRelationsComponent=!0,t}}n.d(e,{H:()=>i,O:()=>o})},10439:(t,e,n)=>{"use strict";n.d(e,{j:()=>s});var o=n(7199),i=n(89402);const s=(t,e)=>{const n=t;return e?.debug("relationsExportExtractor: trying to extract dynamic relations"),(0,o.EN)(n.relations)&&(0,o.P9)(n.relations)&&(0,i.O)(n.relations)?{data:n.relations}:(0,o.EN)(n.default)&&(0,o.P9)(n.default)&&(0,i.O)(n.default)?{data:n.default}:null}},20809:(t,e,n)=>{"use strict";n.d(e,{B6:()=>s,TZ:()=>r,bE:()=>u,fX:()=>c,te:()=>a,u7:()=>i});var o=n(88011);const i=new o.O("RELATIONS_COMPONENTS_MODULE_DATA_EXTRACTORS"),s=new o.O("RELATIONS_COMPONENTS_MODULE_PROVIDERS"),r=new o.O("RELATIONS_COMPONENTS_LOADER"),a=new o.O("RELATIONS_METADATA_STORAGE"),c=new o.O("RELATIONS_PROCESSOR_SKIP_INIT"),u=new o.O("RELATIONS_DEBUGGER_TYPE")},56224:(t,e,n)=>{"use strict";n.d(e,{gE:()=>w,pG:()=>_,nP:()=>x,Xt:()=>y,Vr:()=>O,Aq:()=>b,kw:()=>C});var o=n(7199),i=n(78876),s=n(80056),r=n(65569),a=n(12193),c=n(80607),u=n(20809),l=n(10439);const p={provide:u.u7,useFactory:t=>new r.$([l.j],t),deps:[[new i.Fi,c.bZ]],multi:!0},d={provide:u.TZ,useFactory:()=>new a.S((0,s.f3)(u.B6),(0,s.f3)(u.u7),y,(0,s.f3)(c.bZ,{optional:!0})??void 0)};var h=n(86485),g=n(75990),m=n(67626),f=n(96583),v=n(46855);const y=function(t){return!((0,o.fp)(t?.data)||!(0,o.P9)(t.data))};function C(){return[]}function b(){return[p,d,h.s,g.N,m.v,f.H,v.J]}function _(t,e){const n=`${e}SkipInit`;Reflect.has(t,n)||Object.defineProperty(t,n,{value:!0})}function O(t,e){return t[`${e}SkipInit`]}function w(t,e){const n=`${e}Assigned`;Reflect.has(t,n)||Object.defineProperty(t,n,{value:!0})}function x(t,e){return t[`${e}Assigned`]}},46855:(t,e,n)=>{"use strict";n.d(e,{J:()=>c});var o=n(74332),i=n(7199),s=n(80056),r=n(36059);function a(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class c{constructor(t){this.document=t,this.loadedDataCache={}}loadData(t,e){var n,o=this;return(n=function*(){if(o.loadedDataCache[t])return o.loadedDataCache[t];const n=o.document.createElement("script"),s=`loadType${(0,i.Ox)(12)}`;let r=null;return n.innerText=`\n        (function(exports, loadType, require)\n        {\n            ${e}\n\n            loadType(exports);\n        })({}, ${s}.loadType, ${s}.require);`,window[s]={loadType:t=>r=t.default??null,require:t=>(console.log(t),null)},o.document.getElementsByTagName("head")[0].appendChild(n),delete window[s],n.remove(),o.loadedDataCache[t]=r,r},function(){var t=this,e=arguments;return new Promise((function(o,i){var s=n.apply(t,e);function r(t){a(s,o,i,r,c,"next",t)}function c(t){a(s,o,i,r,c,"throw",t)}r(void 0)}))})()}}c.ɵfac=function(t){return new(t||c)(s.LF(o.K))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},96583:(t,e,n)=>{"use strict";n.d(e,{H:()=>d});var o=n(64461),i=n(80056),s=n(80607),r=n(7199),a=n(86485),c=n(67626);class u{constructor(t){this.detectionInSingleRun=!0,(0,r.EN)(t)&&(this.detectionInSingleRun=t)}}var l=n(70290),p=n(36059);class d{get relationsProcessor(){return this.ɵrelationsProcessor??(this.ɵrelationsProcessor=this.injector.get(c.v))}get relationsComponentManager(){return this.ɵrelationsComponentManager??(this.ɵrelationsComponentManager=this.injector.get(a.s))}get outputsComponents(){return(0,r.Qr)(this.ɵoutputsComponents)&&this.parent?this.parent.outputsComponents:this.ɵoutputsComponents}constructor(t,e,n){this.injector=t,this.logger=e,this.markedBeforeInit=[],this.ɵoutputsComponents={},this.parent=(0,i.f3)(d,{optional:!0,skipSelf:!0}),this.firstRunChanges=[],this.secondRunChanges=[],this.checkRunning=!1,n&&n instanceof u||(n=new u),this.options=n}markForCheck(t){const e=(0,r.HD)(t.componentId)?t.componentId:this.relationsComponentManager.getId(t.componentId);if(!e)return void this.logger.warn("RelationsChangeDetector: Unable to find component!");this.logger.debug("RelationsChangeDetector: marking for check {{@id}}",{id:{componentId:e,outputName:t.outputName}});const n=this.outputsComponents[e]?.[t.outputName]??[],o=this.checkRunning&&!this.options.detectionInSingleRun?this.secondRunChanges:this.firstRunChanges;if(n.length){for(const t of n){const e=o.find((e=>e.id==t.inputComponentId));e?e.inputs.indexOf(t.inputName)>=0||e.inputs.push(t.inputName):o.push({id:t.inputComponentId,inputs:[t.inputName]})}this.timeout||(this.timeout=setTimeout(this.runCheck,0))}else this.markedBeforeInit.push(t)}initialize(t){var e,n,o;this.logger.debug("RelationsChangeDetector: initializing {{@relations}}",{relations:t}),this.ɵoutputsComponents={};for(const i in t){const s=t[i];if((e=this.ɵoutputsComponents)[i]??(e[i]={}),s.inputOutputs)for(const t of s.inputOutputs)(n=this.ɵoutputsComponents[i])[o=t.outputName]??(n[o]=[]),this.ɵoutputsComponents[i][t.outputName].push(t)}const i=[...this.markedBeforeInit];this.markedBeforeInit=[];for(const t of i)this.markForCheck(t)}runCheck(){this.logger.debug("RelationsChangeDetector: running check"),this.checkRunning=!0;for(const t of this.firstRunChanges)this.relationsProcessor.transferInputsData(t.id,!0,t.inputs).applyChanges();this.options.detectionInSingleRun?this.firstRunChanges=[]:(this.firstRunChanges=this.secondRunChanges,this.secondRunChanges=[]),this.checkRunning=!1,this.timeout=null}}d.ɵfac=function(t){return new(t||d)(i.LF(l.z),i.LF(s.bZ),i.LF(u,8))},d.ɵprov=p.Yz({token:d,factory:d.ɵfac}),(0,o.gn)([r.ru,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[]),(0,o.w6)("design:returntype",void 0)],d.prototype,"runCheck",null)},86485:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var o=n(80056),i=n(70290),s=n(80607),r=n(7199),a=n(36059),c=n(53584);class u{constructor(t,e){this.logger=t,this.relationsDebugger=e,this.scopeId=null,this.components={},this.scopes={},this.parent=null,this.childrenCache={},this.injector=(0,o.f3)(i.z)}ngOnDestroy(){if(this.scopes)for(const t in this.scopes){const e=this.scopes[t];if(e)for(const t of e)t.ngOnDestroy();delete this.scopes[t]}for(const t in this.components)this.removeCacheFromHierarchy(t);if(this.parent&&this.scopeId){const t=this.parent.scopes[this.scopeId];if(t){const e=t.indexOf(this);e>=0&&t.splice(e,1)}}}registerComponent(t,e){this.components[t]?this.logger?.warn(`RelationsComponentManager: Component with id '${t}' is already registered, provide unique id.`):(e.ɵɵRelationsComponentId??(e.ɵɵRelationsComponentId=(0,r.Ox)(12)),this.removeCacheFromHierarchy(t),this.components[t]=e,e.ɵɵinjector=this.injector)}unregisterComponent(t){this.components[t]?(this.removeCacheFromHierarchy(t),this.components[t],delete this.components[t]):this.logger?.warn(`RelationsComponentManager: Component with id '${t}' has already been unregistered.`)}get(t){const e=this.components[t];if(e)return e;if(this.childrenCache[t])return this.childrenCache[t];return this.getChildrenComponents(t)||this.getParentComponents(t)}getId(t){for(const e in this.components)if(this.components[e]===t)return e;return null}openScope(t){var e;(e=this.scopes)[t]??(e[t]=[]);const n=new u(this.logger);return n.scopeId=t,n.parent=this,this.scopes[t].push(n),n}removeCacheFromHierarchy(t){this.parent&&this.parent.childrenCache[t]&&(delete this.parent.childrenCache[t],this.parent.removeCacheFromHierarchy(t))}getChildrenComponents(t){const e=e=>{const n=this.scopes[e],o=[];for(const e of n){const n=e.components[t];if(n){o.push(n);continue}const i=e.getChildrenComponents(t);if(!Array.isArray(i))return null;for(const t of i)o.push(t)}return o.length?o:null};for(const n in this.scopes){const o=e(n);if(o)return this.childrenCache[t]=o,o}return null}getParentComponents(t){if(!this.parent)return null;return(this.parent.components[t]??null)||this.parent.getParentComponents(t)}}u.ɵfac=function(t){return new(t||u)(o.LF(s.bZ,8),o.LF(c.Y,8))},u.ɵprov=a.Yz({token:u,factory:u.ɵfac})},53584:(t,e,n)=>{"use strict";n.d(e,{Y:()=>i});var o=n(36059);class i{}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},75990:(t,e,n)=>{"use strict";n.d(e,{N:()=>s});var o=n(86463),i=n(36059);class s{constructor(){this._relations=[],this._relationsChange=new o.x}get relations(){return this._relations}get relationsChange(){return this._relationsChange.asObservable()}setRelations(t){this._relations!=t&&(this._relations=t,this._relationsChange.next())}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},67626:(t,e,n)=>{"use strict";n.d(e,{v:()=>C});var o=n(80056),i=n(80607),s=n(7199),r=n(23199),a=n(28653),c=n(20809);class u{get changes(){return this._changes}constructor(t){this.components=t,this._changes={}}applyChanges(){for(const t of this.components)if(t&&!(0,s.Qr)(this._changes)){for(const e in this._changes){const n=this._changes[e];t[e]=n.currentValue}t.ngOnChanges?.(this._changes),t.invalidateVisuals()}}}var l=n(56224),p=n(96583),d=n(53584),h=n(70290),g=n(36059),m=n(75990),f=n(86485);function v(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){v(s,o,i,r,a,"next",t)}function a(t){v(s,o,i,r,a,"throw",t)}r(void 0)}))}}class C{get relations(){return this.parent?this.parent.relations:this.ɵRelations}set relations(t){this.ɵRelations=t}get backwardRelations(){return this.parent?this.parent.backwardRelations:this.ɵBackwardRelations}set backwardRelations(t){this.ɵBackwardRelations=t}get initialized(){return this.ɵInitialized}constructor(t,e,n,i,a,c){this.relationsManager=t,this.componentManager=e,this.injector=n,this.loader=i,this.logger=a,this.ɵInitialized=Promise.resolve(),this.ɵRelations={},this.ɵBackwardRelations={},this.resolveInitialized=s.ZT,this.initSubscriptions=new r.w0,this.parent=null,this.scopeId=null,this.relationsChangeDetector=(0,o.f3)(p.H),this.relationsDebugger=(0,o.f3)(d.Y,{optional:!0}),c||(this.initSubscriptions.add(this.relationsManager.relationsChange.subscribe((()=>this.initializeRelations()))),this.initializeRelations())}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.destroyRelations()}updateRelations(t){this.logger?.debug("RelationsProcessor: Updating relations for {{@id}}",{id:t});const e=this.relations[t],n=this.backwardRelations[t];let o=this.componentManager.get(t);if(e&&o){if(this.initOptions(o,e),n?.length&&n.forEach((t=>{this.initBackwardRelation(t)})),e?.inputOutputs){Array.isArray(o)||(o=[o]);for(const n of o){n.ɵɵRelationsOutputsChangeSubscriptions?.forEach((t=>t.unsubscribe())),n.ɵɵRelationsOutputsChangeSubscriptions=[];for(const o of e.inputOutputs){let e=this.componentManager.get(o.inputComponentId);e&&!Array.isArray(e)&&(e=[e]),this.logger?.verbose("RelationsProcessor: processing input outputs {{@data}} ",{data:{id:t,inputOutput:o}});const i=n[`${o.outputName}Change`];if(i instanceof a.y)if(n.ɵɵRelationsOutputsChangeSubscriptions.push(i.subscribe((()=>{let t=this.componentManager.get(o.inputComponentId);if(t){Array.isArray(t)||(t=[t]);for(const e of t)this.transferData(n,e,o,!1)}else this.logger?.warn("RelationsProcessor: Missing input components {{@data}} on output change",{data:o})}))),e&&Array.isArray(e))for(const t of e){const e=`${t.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;(0,l.Vr)(n,o.outputName)||o.initialized[e]||!(0,l.nP)(n,o.outputName)||(o.initialized[e]=this.transferData(n,t,o,!0))}else this.logger?.warn("RelationsProcessor: Missing input components {{@data}}",{data:o});else this.logger?.warn("RelationsProcessor: Output on component {{@data}} is not observable",{data:o})}}}}else this.logger?.warn("RelationsProcessor: No relations for {{@id}}",{id:t})}destroyComponent(t){const e=this.relations[t],n=this.backwardRelations[t];if(n)for(const t of n)t.initialized={};if(e){let n=this.componentManager.get(t);if(n){if(!n)return;Array.isArray(n)||(n=[n]);for(const t of n)t.ɵɵRelationsOutputsChangeSubscriptions?.forEach((t=>t.unsubscribe())),t.ɵɵRelationsOutputsChangeSubscriptions=[],t.ɵɵRelationsOptionsInitialized=!1}if(e.inputOutputs&&Array.isArray(e.inputOutputs))for(const t of e.inputOutputs)t.initialized={};if(e.autoCreated){let e=this.componentManager.get(t);if(!e)return;Array.isArray(e)||(e=[e]),this.componentManager.unregisterComponent(t);for(const t of e)t.ngOnDestroy?.()}}}openScope(t,e,n){const o=new C(this.relationsManager,e,n,this.loader,this.logger,!0);o.scopeId=t,o.parent=this;for(const i in this.relations){const s=this.relations[i];if(s.scope===t&&s.componentType){const t=new s.componentType(n);e.registerComponent(i,t),o.updateRelations(i)}}return o}destroyScope(){for(const t in this.relations)this.relations[t].scope===this.scopeId&&this.destroyComponent(t)}transferOutputsData(t,e=!1,n=!1){var o;const i={},r=this.relations[t];let a=this.componentManager.get(t);if(!r||!a)return this.logger?.warn("RelationsProcessor: No relations for {{@id}}",{id:t}),e?i:null;if(r?.inputOutputs){Array.isArray(a)||(a=[a]);for(const t of a)for(const e of r.inputOutputs){let r=this.componentManager.get(e.inputComponentId);if(r&&!Array.isArray(r)&&(r=[r]),r&&Array.isArray(r)){i[o=e.inputComponentId]??(i[o]=new u(r));for(const o of r){if(!t||!o)continue;const r=o[e.inputName],a=t[e.outputName];!n&&(0,s.tR)(r,a)||(i[e.inputComponentId].changes[e.inputName]={previousValue:r,currentValue:a,firstChange:!1,isFirstChange:()=>!1})}}else this.logger?.warn("RelationsProcessor: Missing input components {{@data}}",{data:e})}if(!e)for(const t in i)i[t].applyChanges()}return e?i:null}transferInputsData(t,e=!1,n){const o=this.backwardRelations[t],i=this.componentManager.get(t);if(!o)return this.logger?.warn("RelationsProcessor: No backward relations for {{@id}}",{id:t}),e?new u([]):null;if(!i)return this.logger?.warn("RelationsProcessor: Missing input components for {{@id}}",{id:t}),e?new u([]):null;if(Array.isArray(i))return this.logger?.error("RelationsProcessor: Only one component must be available for id {{@id}}",{id:t}),e?new u([]):null;const r=new u([i]);for(const e of o){if(n&&n.indexOf(e.inputName)<0)continue;const o=this.componentManager.get(e.outputComponentId);if(Array.isArray(o)){this.logger?.error("RelationsProcessor: Only one output component must be available for id {{@id}}",{id:t});continue}if(!o||!i)continue;const a=i[e.inputName],c=o[e.outputName];(0,s.tR)(a,c)||(r.changes[e.inputName]={previousValue:a,currentValue:c,firstChange:!1,isFirstChange:()=>!1})}return e||r.applyChanges(),e?r:null}initializeRelations(){var t=this;return y((function*(){if(yield t.destroyRelations(),t.setInitializePromise(),t.logger?.debug("RelationsProcessor: initializing relations"),t.relationsManager.relations.length){for(const e of t.relationsManager.relations){const n=[];if(e.outputs){for(const o of e.outputs)if(o.inputs)for(const i of o.inputs){const s={inputComponentId:i.id,outputComponentId:e.id,inputName:i.inputName,outputName:o.outputName,initialized:{}};n.push(s),t.backwardRelations[i.id]||(t.backwardRelations[i.id]=[]),t.backwardRelations[i.id].push(s)}yield t.initComponent(e,n)}}t.relationsChangeDetector.initialize(t.relations),t.resolveInitialized()}else t.resolveInitialized()}))()}initBackwardRelation(t){let e=this.componentManager.get(t.outputComponentId),n=this.componentManager.get(t.inputComponentId);if((0,s.fp)(e)||Array.isArray(e)&&!e.length||(0,s.fp)(n)||Array.isArray(n)&&!n.length)this.logger?.warn("RelationsProcessor: missing metadata for backward relations {{@data}}",{data:t});else{Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]);for(const o of n)for(const n of e){const e=`${o.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;(0,l.Vr)(n,t.outputName)||t.initialized[e]||!(0,l.nP)(n,t.outputName)||(t.initialized[e]=this.transferData(n,o,t,!0))}}}transferData(t,e,n,o){if(!t||!e)return!1;const i=e[n.inputName],r=t[n.outputName],a=new u([e]);return!(0,s.tR)(i,r)&&(a.changes[n.inputName]={previousValue:i,currentValue:r,firstChange:o,isFirstChange:()=>o},a.applyChanges(),!0)}initComponent(t,e){var n=this;return y((function*(){if(n.componentManager.get(t.id))return n.initRelation(!1,t,e,null,null),void n.updateRelations(t.id);const o=yield n.loader.loadItem(t);if(!o)return n.initRelation(!1,t,e,null,null),void n.logger?.warn("RelationsProcessor: Unable to load relations component! {{@meta}}",{meta:{package:t.package,name:t.name}});if(!t.scope){const e=new o.data(n.injector);n.componentManager.registerComponent(t.id,e)}n.initRelation(!0,t,e,t.scope??null,t.scope?o.data:null),n.updateRelations(t.id)}))()}initRelation(t,e,n,o,i){this.relations[e.id]={autoCreated:t,inputOutputs:n,metadataOptions:e.relationsOptions,componentType:i,scope:o}}initOptions(t,e){if(Array.isArray(t))for(const n of t)n.ɵɵRelationsOptionsInitialized||(n.relationsOptions=e.metadataOptions,n.ɵɵRelationsOptionsInitialized=!0);else t.ɵɵRelationsOptionsInitialized||(t.relationsOptions=e.metadataOptions,t.ɵɵRelationsOptionsInitialized=!0)}setInitializePromise(){this.ɵInitialized=new Promise((t=>this.resolveInitialized=t))}destroyRelations(){var t=this;return y((function*(){yield t.ɵInitialized,Object.keys(t.relations).forEach((e=>t.destroyComponent(e))),t.relations={},t.backwardRelations={}}))()}}C.ɵfac=function(t){return new(t||C)(o.LF(m.N),o.LF(f.s),o.LF(h.z),o.LF(c.TZ),o.LF(i.bZ,8),o.LF(c.fX,8))},C.ɵprov=g.Yz({token:C,factory:C.ɵfac})},22206:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var o=n(7199);function i(t,e){return function(n){return n[e]=t(),n}}(0,o.yJ)((t=>{(0,o.fp)(t.ngDesignerMetadata)&&(t.ngDesignerMetadata=!0)}))},44677:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var o=n(7199);const i=(t,e)=>{const n=t;return e?.debug("defaultExportExtractor: trying to extract default dynamic data"),(0,o.EN)(n.default)?{data:n.default}:null}},9142:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var o=n(7199);const i=(t,e)=>{const n=t,i=n.extensions;return e?.debug("extensionsExportsExtractor: trying to extract dynamic item extensions"),i&&(0,o.wV)(i)&&(i.extensions||i.childExtensions)?{extensions:i.extensions,childExtensions:i.childExtensions}:n.childExtensions||n.extensions?{extensions:n.extensions,childExtensions:n.childExtensions}:null}},13457:(t,e,n)=>{"use strict";n.d(e,{BG:()=>s,H$:()=>r,Qh:()=>i});var o=n(88011);const i=new o.O("METADATA_STATE_MANAGER"),s=new o.O("PACKAGE_SOURCES"),r=new o.O("SCOPE_ID")},26038:(t,e,n)=>{"use strict";n.d(e,{LK:()=>a,XW:()=>r,mv:()=>s});var o=n(97825),i=n(13457);function s(t,e,n,o,i=!1){t[e]={currentValue:n,previousValue:o,firstChange:i,isFirstChange:()=>i}}function r(t){return{provide:i.BG,useValue:{packages:[t],packagesChange:o.C,refresh(){}},multi:!0}}function a(t){try{return JSON.parse(t)}catch{return null}}},12193:(t,e,n)=>{"use strict";function o(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}n.d(e,{S:()=>i});class i{constructor(t,e,n,o,i){this.providers=t,this.extractors=e,this.validatorFn=n,this.logger=o,this.noCache=i,this.cachedDynamicItems={},Array.isArray(this.providers)||(this.logger?.error("DynamicItemLoader: missing providers!"),this.providers=[]),Array.isArray(this.extractors)||(this.logger?.error("DynamicItemLoader: missing extractors!"),this.extractors=[])}loadItem(t){var e,n=this;return(e=function*(){let e=null;const o=`${t.package}-${t.name}`;if(o in n.cachedDynamicItems&&!n.noCache)return n.logger?.verbose("DynamicItemLoader: Loading from cache {{@source}}",{source:{name:t.name,package:t.package}}),n.cachedDynamicItems[o];for(const o of n.providers){const n=o.tryToGet(t);if(e=n?yield n:null,e)break}if(!e)return n.logger?.debug("DynamicItemLoader: Failed to get dynamic module {{@source}}",{source:{name:t.name,package:t.package}}),null;for(const i of n.extractors){const s=yield i.tryToExtract(e);if(s)return n.cachedDynamicItems[o]=n.validatorFn(s)?s:null,n.cachedDynamicItems[o]||n.logger?.warn("DynamicItemLoader: Found dynamic item {{@source}} is not of requested type",{source:{name:t.name,package:t.package}}),n.cachedDynamicItems[o]}return n.logger?.debug("DynamicItemLoader: Failed to extract dynamic item {{@source}}",{source:{name:t.name,package:t.package}}),n.cachedDynamicItems[o]=null,null},function(){var t=this,n=arguments;return new Promise((function(i,s){var r=e.apply(t,n);function a(t){o(r,i,s,a,c,"next",t)}function c(t){o(r,i,s,a,c,"throw",t)}a(void 0)}))})()}}},65569:(t,e,n)=>{"use strict";n.d(e,{$:()=>s});var o=n(7199);function i(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class s{constructor(t,e){this._extractorFunctions=t,this._logger=e,Array.isArray(this._extractorFunctions)||(this._logger?.error("DynamicModuleDataExtractor: missing extractor functions!"),this._extractorFunctions=[])}tryToExtract(t){var e,n=this;return(e=function*(){const e={};for(const i of n._extractorFunctions)(0,o.l7)(!0,e,yield i(t,n._logger));return(0,o.Qr)(e)?null:e},function(){var t=this,n=arguments;return new Promise((function(o,s){var r=e.apply(t,n);function a(t){i(r,o,s,a,c,"next",t)}function c(t){i(r,o,s,a,c,"throw",t)}a(void 0)}))})()}}},56454:(t,e,n)=>{"use strict";n.d(e,{z:()=>c});var o=n(73411),i=n(86463),s=n(80056),r=n(36059),a=n(83286);class c{get undo(){return this.undoSubject.asObservable()}get redo(){return this.redoSubject.asObservable()}get save(){return this.saveSubject.asObservable()}get copy(){return this.copySubject.asObservable()}get cut(){return this.cutSubject.asObservable()}get paste(){return this.pasteSubject.asObservable()}get delete(){return this.deleteSubject.asObservable()}constructor(t){this.hotkeys=t,this.undoSubject=new i.x,this.redoSubject=new i.x,this.saveSubject=new i.x,this.copySubject=new i.x,this.pasteSubject=new i.x,this.cutSubject=new i.x,this.deleteSubject=new i.x}destroy(){this.hotkeys.destroy()}init(){this.hotkeys.hotkeys.add(new o.q("ctrl+s",(()=>(this.saveSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits save event")),this.hotkeys.hotkeys.add(new o.q("ctrl+z",(()=>(this.undoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits undo event")),this.hotkeys.hotkeys.add(new o.q("ctrl+y",(()=>(this.redoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits redo event")),this.hotkeys.hotkeys.add(new o.q("del",(()=>(this.deleteSubject.next(),!1)),[],"Emits delete event")),this.hotkeys.hotkeys.add(new o.q("ctrl+c",(()=>(this.copySubject.next(),!1)),[],"Emits copy event")),this.hotkeys.hotkeys.add(new o.q("ctrl+v",(()=>(this.pasteSubject.next(),!1)),[],"Emits paste event")),this.hotkeys.hotkeys.add(new o.q("ctrl+x",(()=>(this.cutSubject.next(),!1)),[],"Emits cut event"))}}c.ɵfac=function(t){return new(t||c)(s.LF(a.H))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},44055:(t,e,n)=>{"use strict";n.d(e,{Y:()=>c});var o=n(7199),i=n(86463),s=n(13457),r=n(80056),a=n(36059);class c{get canUndo(){return!(0,o.fp)(this.activeIndex)&&this.activeIndex>0}get canRedo(){return!(0,o.fp)(this.activeIndex)&&this.activeIndex+1<this.states.length}get saved(){return this.activeIndex===this.saveIndex}get pop(){return this.popSubject.asObservable()}get historyChange(){return this.historyChangeSubject.asObservable()}get state(){return(0,o.fp)(this.activeIndex)?null:JSON.parse(this.states[this.activeIndex])}constructor(t){this.metadataState=t,this.activeIndex=null,this.saveIndex=null,this.states=[],this.enabled=!0,this.popSubject=new i.x,this.historyChangeSubject=new i.x}undo(){this.canUndo&&!(0,o.fp)(this.activeIndex)&&(this.activeIndex--,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}redo(){this.canRedo&&!(0,o.fp)(this.activeIndex)&&(this.activeIndex++,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}getNewState(){if(!this.enabled)return;this.states.length>=200&&this.states.shift(),(0,o.EN)(this.activeIndex)&&this.activeIndex+1<this.states.length&&this.states.splice(this.activeIndex+1,this.states.length-(this.activeIndex+1));const t=this.metadataState.getMetadata();t&&(this.states.push(JSON.stringify(t)),this.activeIndex=this.states.length-1,this.historyChangeSubject.next())}save(){this.saveIndex=this.activeIndex}setInitialState(t){this.states.push(JSON.stringify(t)),this.activeIndex=this.states.length-1,this.save()}clean(){this.activeIndex=null,this.saveIndex=null,this.states=[]}enable(){this.enabled=!0}disable(){this.enabled=!1}}c.ɵfac=function(t){return new(t||c)(r.LF(s.Qh))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac})}}]);
//# sourceMappingURL=3700.chunk.b39de6b65ac82d5af58a.js.map