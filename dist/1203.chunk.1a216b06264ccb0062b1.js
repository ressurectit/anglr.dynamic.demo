(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[1203],{24405:(e,t,n)=>{var a={"./styleBlock/type":[92030,278,7412]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(a),r.id=24405,e.exports=r},496:(e,t,n)=>{"use strict";n.d(t,{N:()=>h,f:()=>g});var a=n(8477),r=n(71785),s=n(46480),o=n(11776),i=n(38327);function c(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}class u{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){if("css-components"!==e.package)return null;try{return a._logger?.debug("CssDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),yield n(24405)(`./${e.name}/type`)}catch(t){a._logger?.debug("CssDynamicModuleItemsProvider: item {@item} was not found, reason: "+t,{name:e.name,package:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){c(s,a,r,o,i,"next",e)}function i(e){c(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}function d(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}u.ɵfac=function(e){return new(e||u)(o.LF(s.bZ,8))},u.ɵprov=i.Yz({token:u,factory:u.ɵfac});class l{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){try{return a._logger?.debug("CssDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),"css-components"===e.package?yield n.e(5416).then(n.bind(n,85416)):null}catch(t){a._logger?.debug("CssDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){d(s,a,r,o,i,"next",e)}function i(e){d(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}l.ɵfac=function(e){return new(e||l)(o.LF(s.bZ,8))},l.ɵprov=i.Yz({token:l,factory:l.ɵfac});const h={provide:a.Aw,useClass:u,multi:!0},g={provide:r.sc,useClass:l,multi:!0}},31203:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LayoutEditorModule:()=>E});var a=n(14392),r=n(89001),s=n(11650),o=n(496),i=n(82494),c=n(94761),u=n(83434),d=n(22804),l=n(57466),h=n(27049),g=n(85638),m=n(89952),p=n(87752),y=n(79440),v=n(13691),f=n(73379),x=n(80827),b=n(72891),w=n(41853),k=n(66794),_=n(73301),P=n(7842),I=n(86825);let M=class{constructor(e,t){this._manager=e,this.store=t,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,l.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return this._manager.getMetadata()}_loadDemo(){this._metadata=g.F.demoLayout}};M.ɵfac=function(e){return new(e||M)(y.Y(u.t),y.Y(m.U))},M.ɵcmp=v.Xp({type:M,selectors:[["layout-editor-view"]],features:[f._([p.X,{provide:d.I,useExisting:p.X}])],decls:6,vars:3,consts:[[1,"flex-row"],["routePath","/layout/editor",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(e,t){1&e&&(x.Tg(0,"div",0)(1,"load-save-new",1),b.N("metadataChange",(function(e){let n;return t._metadata=null!==(n=e)&&void 0!==n?n:t.emptyMetadata})),x.qZ(),x.Tg(2,"button",2),b.N("click",(function(){return t._loadDemo()})),x.Tg(3,"span"),w._(4,"demo"),x.qZ()()(),x._U(5,"layout-editor",3)),2&e&&(k.x(1),_.Q("store",t.store)("getMetadataCallback",t._getMetadata),k.x(4),_.Q("metadata",t._metadata))},dependencies:[P.Z,I.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([h.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],M.prototype,"_getMetadata",null),M=(0,a.gn)([(0,c.N)({path:"editor"}),(0,c.N)({path:"editor/:id"}),(0,a.w6)("design:paramtypes",[u.t,m.U])],M);const T=[M];var D=n(18567),N=n(53245),C=n(38327);let E=class{};E.ɵfac=function(e){return new(e||E)},E.ɵmod=v.oA({type:E}),E.ɵinj=C.cJ({providers:[(0,N.Y)("LAYOUT_DATA"),o.N,o.f,i.y,i.m],imports:[s.c.withProviders(),D.Qw]}),E=(0,a.gn)([(0,r.P)(T)],E)},7842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var a=n(11776),r=n(35375),s=n(60405),o=n(39969),i=n(98084);class c{constructor(e,t,n){this.hotkeys=e,this.historyManager=t,this.metadataStorage=n}destroy(){this.hotkeys.destroy()}init(){this.hotkeys.hotkeys.add(new i.q("ctrl+s",(()=>(this.metadataStorage.save(),!1)),["INPUT","TEXTAREA"],"Saves current state of editor")),this.hotkeys.hotkeys.add(new i.q("ctrl+z",(()=>(this.historyManager.undo(),!1)),["INPUT","TEXTAREA"],"Undo current state of editor")),this.hotkeys.hotkeys.add(new i.q("ctrl+y",(()=>(this.historyManager.redo(),!1)),["INPUT","TEXTAREA"],"Redo current state of editor"))}}var u=n(22804),d=n(49891),l=n(38223),h=n(41733),g=n(71378),m=n(21813),p=n(40492),y=n(71785),v=n(79440),f=n(68961),x=n(13691),b=n(73379),w=n(36973),k=n(82568),_=n(80827),P=n(4477),I=n(66794),M=n(73301),T=n(2538),D=n(75464);class N{constructor(e,t,n){this.hotkeys=e,this.history=t,this.changeDetector=n,this.initSubscriptions=new l.w,this.metadata=null,e.init()}ngOnInit(){this.initSubscriptions.add(this.history.pop.subscribe((e=>{this.metadata=e,this.changeDetector.detectChanges()})))}ngOnChanges(e){(0,d.$)("metadata")in e&&(this.history.clean(),this.metadata&&this.history.setInitialState(this.metadata))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.hotkeys.destroy()}}N.ɵfac=function(e){return new(e||N)(v.Y(c),v.Y(y.dB),v.Y(f.s))},N.ɵcmp=x.Xp({type:N,selectors:[["layout-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[b._([p.NX,{provide:c,useFactory:(e,t)=>new c(e,(0,a.f3)(y.dB),t),deps:[o.H,u.I]}]),w.T,k.j],decls:9,vars:1,consts:[[1,"flex-row","margin-top-big","flex-1"],["label","Hierarchy"],["label","Palette"],[1,"flex-1"],[3,"layoutComponentRenderer"]],template:function(e,t){1&e&&(_.Tg(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),_._U(3,"components-tree"),_.qZ(),_.Tg(4,"mat-tab",2),_._U(5,"components-palette"),_.qZ()(),_.Tg(6,"div",3),P.Gk(7,4),_.qZ(),_._U(8,"properties-editor"),_.qZ()),2&e&&(I.x(7),M.Q("layoutComponentRenderer",t.metadata))},dependencies:[g.D,h.O,m.M,s.i,r.N,T.SP,D.u],styles:["[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},40492:(e,t,n)=>{"use strict";n.d(t,{G5:()=>M,Q3:()=>I,TA:()=>_,NX:()=>P,r4:()=>T,tl:()=>N,f4:()=>C,qF:()=>D});var a=n(60640),r=n(11776),s=n(43939),o=n(53682),i=n(13457),c=n(38327);class u{constructor(e){this.getStateFn=e,this.activeIndex=null,this.saveIndex=null,this.states=[],this.enabled=!0,this.popSubject=new o.xQ,this.historyChangeSubject=new o.xQ}get canUndo(){return!(0,s.fp)(this.activeIndex)&&this.activeIndex>0}get canRedo(){return!(0,s.fp)(this.activeIndex)&&this.activeIndex+1<this.states.length}get saved(){return this.activeIndex===this.saveIndex}get pop(){return this.popSubject.asObservable()}get historyChange(){return this.historyChangeSubject.asObservable()}get state(){return(0,s.fp)(this.activeIndex)?null:this.states[this.activeIndex]}undo(){this.canUndo&&this.activeIndex&&(this.activeIndex--,this.popSubject.next(this.states[this.activeIndex]))}redo(){this.canRedo&&this.activeIndex&&(this.activeIndex++,this.popSubject.next(this.states[this.activeIndex]))}getNewState(){this.enabled&&(this.states.length>=100&&this.states.shift(),this.activeIndex&&this.activeIndex+1<this.states.length&&this.states.splice(this.activeIndex+1,this.states.length-(this.activeIndex+1)),this.states.push(JSON.parse(JSON.stringify(this.getStateFn()))),this.activeIndex=this.states.length-1,this.historyChangeSubject.next())}save(){this.saveIndex=this.activeIndex}setInitialState(e){this.states.push(JSON.parse(JSON.stringify(e))),this.activeIndex=this.states.length-1,this.save()}clean(){this.activeIndex=null,this.saveIndex=null,this.states=[]}enable(){this.enabled=!0}disable(){this.enabled=!1}}u.ɵfac=function(e){return new(e||u)(r.LF(i.z))},u.ɵprov=c.Yz({token:u,factory:u.ɵfac});var d=n(65569),l=n(44677),h=n(12193),g=n(8477),m=n(46480);function p(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}class y{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){if("@anglr/dynamic/layout-editor"!=e.package)return null;try{if(a._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),"layout-designer"==e.name)return yield n.e(4403).then(n.bind(n,64403))}catch(t){a._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found, reason:"+t,{name:e.name,package:e.package})}return a._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found",{name:e.name,package:e.package}),null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){p(s,a,r,o,i,"next",e)}function i(e){p(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}function v(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}y.ɵfac=function(e){return new(e||y)(r.LF(m.bZ,8))},y.ɵprov=c.Yz({token:y,factory:y.ɵfac});class f{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){try{switch(a._logger?.debug("DefaultDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),e.package){case"basic-components":return yield n.e(4771).then(n.bind(n,4771));case"material-components":return yield n.e(1125).then(n.bind(n,41125));default:return null}}catch(t){a._logger?.debug("DefaultDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){v(s,a,r,o,i,"next",e)}function i(e){v(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}f.ɵfac=function(e){return new(e||f)(r.LF(m.bZ,8))},f.ɵprov=c.Yz({token:f,factory:f.ɵfac});var x=n(83434),b=n(71785),w=n(94596),k=n(97149);const _={provide:g.Aw,useClass:y,multi:!0},P={provide:g.xM,useValue:function(e,t){return{id:`${e.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:e}}}},I={provide:b.sc,useClass:f,multi:!0},M={provide:b.FX,useFactory:e=>new d.$([l.L],e),deps:[[new a.Fi,m.bZ]],multi:!0},T={provide:b.RI,useValue:[w.$]},D={provide:b.QT,useFactory:()=>new h.S((0,r.f3)(b.sc),(0,r.f3)(b.FX),k.G,(0,r.f3)(m.bZ,{optional:!0})??void 0)},N={provide:i.z,useFactory:()=>{const e=(0,r.f3)(x.t);return e.getMetadata.bind(e)}},C={provide:b.dB,useClass:u}},94596:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});const a=Symbol("LayoutPropertyMetadata")},97149:(e,t,n)=>{"use strict";n.d(t,{G:()=>d,_:()=>u});var a=n(45713),r=n(43939),s=n(40492),o=n(85902),i=n(43671),c=n(83434);function u(){return[...(0,a._)(),s.TA,s.Q3,s.G5,s.r4,s.qF,o.T,i.L,c.t,s.f4,s.tl]}const d=function(e){return!((0,r.fp)(e?.data)||!Array.isArray(e.data))}},11650:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var a=n(99109),r=n(7842),s=n(97149),o=n(13691),i=n(38327);class c{static withProviders(){return{ngModule:c,providers:[(0,s._)()]}}}c.ɵfac=function(e){return new(e||c)},c.ɵmod=o.oA({type:c}),c.ɵinj=i.cJ({imports:[r.Z,a.u]})},45713:(e,t,n)=>{"use strict";n.d(t,{h:()=>y,_:()=>v});var a=n(43939),r=n(60640),s=n(11776),o=n(46480),i=n(86707),c=n(65569),u=n(44677);const d=(e,t)=>{const n=e,r=n.extensions;return t?.debug("extensionsExportsExtractor: trying to extract dynamic item extensions"),r&&(0,a.wV)(r)&&(r.extensions||r.childExtensions)?{extensions:r.extensions,childExtensions:r.childExtensions}:n.childExtensions||n.extensions?{extensions:n.extensions,childExtensions:n.childExtensions}:null};var l=n(12193),h=n(8477);const g={provide:h.Aw,useClass:i.o,multi:!0},m={provide:h.gM,useFactory:e=>new c.$([u.L,d],e),deps:[[new r.Fi,o.bZ]],multi:!0},p={provide:h.Vl,useFactory:()=>new l.S((0,s.f3)(h.Aw),(0,s.f3)(h.gM),y,(0,s.f3)(o.bZ,{optional:!0})??void 0)},y=function(e){return!((0,a.fp)(e?.data)||!(0,a.P9)(e.data)||(0,a.EN)(e?.childExtensions)&&(!Array.isArray(e.childExtensions)||e.childExtensions.some((e=>!(0,a.P9)(e))))||(0,a.EN)(e?.extensions)&&(!Array.isArray(e.extensions)||e.extensions.some((e=>!(0,a.P9)(e)))))};function v(){return[p,g,m]}},99109:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var a=n(45713),r=n(13691),s=n(38327);class o{static withProviders(){return{ngModule:o,providers:[(0,a._)()]}}}o.ɵfac=function(e){return new(e||o)},o.ɵmod=r.oA({type:o}),o.ɵinj=s.cJ({})},44677:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var a=n(43939);const r=(e,t)=>{const n=e;return t?.debug("defaultExportExtractor: trying to extract default dynamic data"),(0,a.EN)(n.default)?{data:n.default}:null}},82494:(e,t,n)=>{"use strict";n.d(t,{y:()=>h,m:()=>g});var a=n(8477),r=n(71785),s=n(46480),o=n(11776),i=n(38327);function c(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}class u{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){if("tinymce-components"!==e.package)return null;try{return a._logger?.debug("TinyMceDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),yield n(49705)(`./${e.name}/type`)}catch(t){a._logger?.debug("TinyMceDynamicModuleItemsProvider: item {@item} was not found, reason: "+t,{name:e.name,package:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){c(s,a,r,o,i,"next",e)}function i(e){c(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}function d(e,t,n,a,r,s,o){try{var i=e[s](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}u.ɵfac=function(e){return new(e||u)(o.LF(s.bZ,8))},u.ɵprov=i.Yz({token:u,factory:u.ɵfac});class l{constructor(e){this._logger=e}tryToGet(e){var t,a=this;return(t=function*(){try{return a._logger?.debug("TinyMceDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),"tinymce-components"===e.package?yield n.e(330).then(n.bind(n,30330)):null}catch(t){a._logger?.debug("TinyMceDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,n=arguments;return new Promise((function(a,r){var s=t.apply(e,n);function o(e){d(s,a,r,o,i,"next",e)}function i(e){d(s,a,r,o,i,"throw",e)}o(void 0)}))})()}}l.ɵfac=function(e){return new(e||l)(o.LF(s.bZ,8))},l.ɵprov=i.Yz({token:l,factory:l.ɵfac});const h={provide:a.Aw,useClass:u,multi:!0},g={provide:r.sc,useClass:l,multi:!0}},49705:(e,t,n)=>{var a={"./richTextBlock/type":[31439,1439]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(a),r.id=49705,e.exports=r}}]);
//# sourceMappingURL=1203.chunk.1a216b06264ccb0062b1.js.map