"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[897],{5690:(e,t,n)=>{n.r(t),n.d(t,{HtmlBlockLayoutEditorMetadata:()=>c});var o=n(32441),i=n(76001),s=n(28438);const r=new(n(53136).y)("html","html",(e=>e.getModel()?.getValue()??""));var l=n(57466);class a{constructor(e){this.content=null,l.Rl.bind(this)(e)}}class c{constructor(){this.metaInfo={name:"Html block",description:"Html block - displays html or string",group:"Data",optionsMetadata:{propertiesMetadata:[{modelType:o.k,propertiesControls:[i.e]},{modelType:a,propertiesControls:[(0,s.R)("content",r)]}]}},Object.freeze(this)}}},68490:(e,t,n)=>{n.d(t,{M:()=>N});var o=n(30621),i=n(13691),s=n(38327);class r{}r.ɵfac=function(e){return new(e||r)},r.ɵmod=i.oA({type:r}),r.ɵinj=s.cJ({});var l=n(9249),a=n(79440),c=n(82568),d=n(84773),u=n(80827),p=n(72891),h=n(41853),g=n(43870),f=n(11282),m=n(73301),v=n(66794),y=n(31750),M=n(80943),C=n(74445),_=n(49891),E=n(43939),O=n(58654);self.MonacoEnvironment={getWorkerUrl:function(e,t){return"json"===t?"dist/json.worker.js":"css"===t||"scss"===t||"less"===t?"dist/css.worker.js":"html"===t||"handlebars"==t?"dist/html.worker.js":"typescript"===t||"javascript"===t?"dist/ts.worker.js":"dist/editor.worker.js"}};const w={target:O.Mj.typescript.ScriptTarget.ES2020,module:O.Mj.typescript.ModuleKind.CommonJS,moduleResolution:O.Mj.typescript.ModuleResolutionKind.NodeJs,allowNonTsExtensions:!0,removeComments:!0,noImplicitAny:!0,noImplicitReturns:!0,noImplicitOverride:!0,noImplicitThis:!0,noUnusedLocals:!0,noUnusedParameters:!0,strict:!0,strictNullChecks:!0,esModuleInterop:!0,newLine:O.Mj.typescript.NewLineKind.LineFeed,typeRoots:["node_modules/@types"]};O.Mj.typescript.typescriptDefaults.setCompilerOptions(w);var T=n(4905),b=n(36973);class k{constructor(e){this.element=e,this.codeEditor=null,this.openedFile=null,this.changeEvent=null,this.save=new C.v,this.contentChange=new C.v}ngOnChanges(e){(0,_.$)("languageModel")in e&&this.languageModel&&(0,_.$)("content")in e&&(0,E.EN)(this.content)&&this.updateContent()}ngAfterViewInit(){this.createEditor()}saveContent(){this.openedFile&&this.codeEditor&&this.languageModel&&this.save.emit({content:this.openedFile.getValue(),code:this.languageModel.compiledCode(this.codeEditor)})}ngOnDestroy(){this.changeEvent?.dispose(),this.changeEvent=null,this.openedFile?.dispose(),this.openedFile=null,this.codeEditor?.dispose(),this.codeEditor=null}createEditor(){this.codeEditor=O.j6.create(this.element.nativeElement,{theme:"vs-dark",model:this.openedFile,lightbulb:{enabled:!0},minimap:{enabled:!0}}),this.codeEditor.addCommand(O.DC.CtrlCmd|O.VD.KeyS,(()=>{this.saveContent()})),this.changeEvent=this.codeEditor.onDidChangeModelContent((()=>{this.openedFile&&this.languageModel&&this.codeEditor&&this.contentChange.emit({content:this.openedFile.getValue(),code:this.languageModel.compiledCode(this.codeEditor)})}))}updateContent(){this.openedFile?.dispose(),this.openedFile=null,this.languageModel&&!(0,E.fp)(this.content)&&(this.openedFile=O.j6.createModel(this.content,this.languageModel.language,O.Sf.file(`index.${this.languageModel.extension}`)),this.codeEditor?.setModel(this.openedFile))}}k.monacoInit=!0,k.ɵfac=function(e){return new(e||k)(a.Y(T.SB))},k.ɵcmp=i.Xp({type:k,selectors:[["code-editor"]],inputs:{content:"content",languageModel:"languageModel"},outputs:{save:"save",contentChange:"contentChange"},features:[b.T],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]\r\n{\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n}"],changeDetection:0});class N{constructor(e,t){this.data=e,this.dialog=t,this.content=null,this.content=e.content}}N.ɵfac=function(e){return new(e||N)(a.Y(l.m),a.Y(y.s))},N.ɵcmp=i.Xp({type:N,selectors:[["code-editor-dialog"]],standalone:!0,features:[c.j],decls:9,vars:3,consts:[[2,"height","calc(75vh - 32px)","width","calc(75vw - 20px)",3,"content","languageModel","save"],["editor",""],[1,"flex-row","flex-end"],["type","button",1,"btn","btn-info",3,"mat-dialog-close"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=d.E();u.Tg(0,"code-editor",0,1),p.N("save",(function(e){return t.content=e.content})),u.qZ(),u.Tg(2,"div",2)(3,"button",3)(4,"span"),h._(5,"cancel"),u.qZ()(),u.Tg(6,"button",4),p.N("click",(function(){return g.CH(e),f.M(1).saveContent(),g.Kt(t.dialog.close(t.content))})),u.Tg(7,"span"),h._(8,"ok"),u.qZ()()()}2&e&&(m.Q("content",t.data.content)("languageModel",t.data.languageModel),v.x(3),m.Q("mat-dialog-close",null))},dependencies:[r,k,o.I,M.ZT],encapsulation:2,changeDetection:0})},28438:(e,t,n)=>{n.d(t,{R:()=>w});var o=n(70625),i=n(43939),s=n(64297),r=n(87316),l=n(68490),a=n(79440),c=n(68961),d=n(13691),u=n(47098),p=n(82568),h=n(80827),g=n(72891),f=n(41853),m=n(66794),v=n(6427),y=n(43801),M=n(85902),C=n(47826);function _(e,t,n,o,i,s,r){try{var l=e[s](r),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(o,i)}const E="[_nghost-%COMP%]\n{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}";class O extends r.k{constructor(e,t,n){super(e,t),this.dialog=n}showCodeEditor(){var e,t=this;return(e=function*(){if((0,i.fp)(t.property)||!t.languageModel)return;const e=yield(0,s.n)(t.dialog.open(l.M,{title:"Code editor",width:"75vw",height:"75vh",data:{content:t.form?.get(t.property)?.value??"",languageModel:t.languageModel}}).afterClosed());if((0,i.EN)(e)){const n=t.form?.get(t.property);n instanceof o.NI&&n.setValue(e)}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(e){_(s,o,i,r,l,"next",e)}function l(e){_(s,o,i,r,l,"throw",e)}r(void 0)}))})()}}function w(e,t){class n extends O{constructor(){super(...arguments),this.property=e,this.languageModel=t}}return n.ɵfac=function(){let e;return function(t){return(e||(e=y.n5(n)))(t||n)}}(),n.ɵcmp=d.Xp({type:n,selectors:[["code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[u.q,p.j],decls:3,vars:1,consts:[["type","button",1,"btn","btn-primary","margin-vertical-small",3,"click"]],template:function(e,t){1&e&&(h.Tg(0,"button",0),g.N("click",(function(){return t.showCodeEditor()})),h.Tg(1,"span"),f._(2),h.qZ()()),2&e&&(m.x(2),v.hi("Edit ",t.property,""))},styles:[E],changeDetection:0}),n}O.ɵfac=function(e){return new(e||O)(a.Y(c.s),a.Y(M.T),a.Y(C.J))},O.ɵcmp=d.Xp({type:O,selectors:[["base-code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[u.q,p.j],decls:3,vars:1,consts:[["type","button",1,"btn","btn-primary","margin-vertical-small",3,"click"]],template:function(e,t){1&e&&(h.Tg(0,"button",0),g.N("click",(function(){return t.showCodeEditor()})),h.Tg(1,"span"),f._(2),h.qZ()()),2&e&&(m.x(2),v.hi("Edit ",t.property,""))},styles:[E],changeDetection:0})},20350:(e,t,n)=>{n.d(t,{q:()=>g});var o=n(39273),i=n(43801),s=n(13691),r=n(47098),l=n(80827),a=n(65589),c=n(73301),d=n(49280),u=n(77470),p=n(27635),h=n(61939);class g extends o.L{}g.ɵfac=function(){let e;return function(t){return(e||(e=i.n5(g)))(t||g)}}(),g.ɵcmp=s.Xp({type:g,selectors:[["input-string"]],features:[r.q],decls:2,vars:3,consts:[["type","text",1,"properties-form-control",3,"formControl"]],template:function(e,t){1&e&&(l._U(0,"input",0),a.AL(1,"asRequired")),2&e&&c.Q("formControl",a.lc(1,1,t._control))},dependencies:[d.Fj,u.JJ,p.oH,h.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},39273:(e,t,n)=>{n.d(t,{L:()=>a});var o=n(79440),i=n(68961),s=n(13691);function r(e,t,n,o,i,s,r){try{var l=e[s](r),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(o,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function l(e){r(s,o,i,l,a,"next",e)}function a(e){r(s,o,i,l,a,"throw",e)}l(void 0)}))}}class a{constructor(e){this._changeDetector=e,this._initialized=!1,this.values=[]}get control(){return this._control}set control(e){this._control=e,this._controlSet()}ngOnInit(){var e=this;return l((function*(){e._initialized||(e._initialized=!0,yield e._initialize())}))()}initialize(){var e=this;return l((function*(){yield e.ngOnInit()}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}_controlSet(){}}a.ɵfac=function(e){return new(e||a)(o.Y(i.s))},a.ɵdir=s.lG({type:a,inputs:{control:"control",values:"values"}})},21147:(e,t,n)=>{n.d(t,{f:()=>M});var o=n(39273),i=n(80827),s=n(73301),r=n(43801),l=n(13691),a=n(47098),c=n(65589),d=n(15686),u=n(66794),p=n(12311),h=n(24881),g=n(17790),f=n(77470),m=n(27635),v=n(61939);function y(e,t){if(1&e&&i._U(0,"option",2),2&e){const e=t.$implicit;s.Q("value",e)("text",e)}}class M extends o.L{}M.ɵfac=function(){let e;return function(t){return(e||(e=r.n5(M)))(t||M)}}(),M.ɵcmp=l.Xp({type:M,selectors:[["select-value"]],features:[a.q],decls:3,vars:4,consts:[[1,"properties-form-control",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"]],template:function(e,t){1&e&&(i.Tg(0,"select",0),c.AL(1,"asRequired"),d.Y(2,y,1,2,"option",1),i.qZ()),2&e&&(s.Q("formControl",c.lc(1,2,t._control)),u.x(2),s.Q("ngForOf",t.values))},dependencies:[p.s,h.YN,g.Kr,h.EJ,f.JJ,m.oH,v.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},8477:(e,t,n)=>{n.d(t,{Aw:()=>l,Vl:()=>a,X5:()=>s,gM:()=>r,qO:()=>c,xM:()=>i});var o=n(40296);const i=new o.O("LAYOUT_COMPONENT_TRANSFORM"),s=new o.O("LAYOUT_COMPONENT_CHILD_EXTENSIONS"),r=new o.O("LAYOUT_COMPONENTS_MODULE_DATA_EXTRACTORS"),l=new o.O("LAYOUT_COMPONENTS_MODULE_PROVIDERS"),a=new o.O("LAYOUT_COMPONENTS_LOADER"),c=new o.O("LAYOUT_METADATA_STORAGE")},53136:(e,t,n)=>{n.d(t,{y:()=>o});class o{constructor(e,t,n){this.language=e,this.extension=t,this.compiledCode=n}}},9204:(e,t,n)=>{n.d(t,{j:()=>a});var o=n(70625),i=n(46480),s=n(43939),r=n(79440),l=n(13691);class a{constructor(e){this._logger=e}transform(e,t){return(0,s.fp)(e)?null:e instanceof o.NI?e:(this._logger?.warn("Failed to cast AbstractControl to FormControl"),null)}}a.ɵfac=function(e){return new(e||a)(r.Y(i.bZ,24))},a.ɵpipe=l.Yj({name:"asFormControl",type:a,pure:!0})},61939:(e,t,n)=>{n.d(t,{i:()=>i});var o=n(13691);class i{transform(e,t,n){return e??t}}i.ɵfac=function(e){return new(e||i)},i.ɵpipe=o.Yj({name:"asRequired",type:i,pure:!0})}}]);
//# sourceMappingURL=897.chunk.6eb42b7b723037ac5ef9.js.map