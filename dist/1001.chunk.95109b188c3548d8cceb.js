"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[1001],{40857:(e,t,n)=>{n.r(t),n.d(t,{ValueRelationsEditorMetadata:()=>b});var o=n(71309),a=n(50073),i=n(14389),s=n(93551),r=n(52580),c=n(85478),l=n(43939),d=n(64297),u=n(79440),p=n(68961),h=n(4905),g=n(77842),v=n(47098),f=n(82568),m=n(80827),y=n(41853),E=n(72891),O=n(73301),w=n(66794),C=n(47826);function _(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}class M extends s.M{constructor(e,t,n){super(e,t),this.dialog=n}showCodeEditor(){var e,t=this;return(e=function*(){const e=(0,l.EN)(t.metadata?.relationsOptions?.value)?JSON.stringify(t.metadata?.relationsOptions?.value,null,4):"",n=yield(0,d.n)(t.dialog.open(o.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:e,languageModel:a.H}}).afterClosed());t.metadata?.relationsOptions&&(0,l.EN)(n)&&(t.metadata.relationsOptions.value=(0,i.LK)(n.content),t.history.getNewState())},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){_(i,o,a,s,r,"next",e)}function r(e){_(i,o,a,s,r,"throw",e)}s(void 0)}))})()}}M.ɵfac=function(e){return new(e||M)(u.Y(p.s),u.Y(h.SB),u.Y(C.J))},M.ɵcmp=g.Xp({type:M,selectors:[["value-node"]],standalone:!0,features:[v.q,f.j],decls:12,vars:5,consts:[["name","value",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"outputs"],[1,"output"],["name","value",3,"parentCoordiantes","zoomLevel","parent"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(e,t){1&e&&(m._U(0,"relations-node-header",0),m.Tg(1,"div",1)(2,"div",2),m._U(3,"div",3),m.Tg(4,"div",4)(5,"div",5)(6,"div"),y._(7,"value"),m.qZ(),m._U(8,"relation-node-output",6),m.qZ()()(),m.Tg(9,"button",7),E.N("click",(function(){return t.showCodeEditor()})),m.Tg(10,"span"),y._(11,"edit"),m.qZ()()()),2&e&&(O.Q("parent",t)("destroySubject",t.destroySubject),w.x(8),O.Q("parentCoordiantes",t.nodePosition)("zoomLevel",t.zoomLevel)("parent",t))},dependencies:[r.e,c.n],encapsulation:2,changeDetection:0});class b{constructor(){this.metaInfo={name:"Value",description:"Initial, default value",group:"Data"},this.nodeDefinition=M,Object.freeze(this)}}},91861:(e,t,n)=>{n.d(t,{Bj:()=>s,DZ:()=>a,GP:()=>i,dK:()=>d,fI:()=>l,n7:()=>c,nR:()=>u,yh:()=>r});var o=n(40296);const a=new o.O("RELATIONS_MODULE_TYPES_DATA_EXTRACTORS"),i=new o.O("RELATIONS_MODULE_TYPES_PROVIDERS"),s=new o.O("RELATIONS_MODULE_TYPES_LOADER"),r=new o.O("RELATIONS_NODES_DATA_EXTRACTORS"),c=new o.O("RELATIONS_NODES_PROVIDERS"),l=new o.O("RELATIONS_NODES_LOADER"),d=new o.O("REFRESH_PALETTE_OBSERVABLES"),u=new o.O("RELATIONS_HISTORY_MANAGER")},44677:(e,t,n)=>{n.d(t,{L:()=>a});var o=n(43939);const a=(e,t)=>{const n=e;return t?.debug("defaultExportExtractor: trying to extract default dynamic data"),(0,o.EN)(n.default)?{data:n.default}:null}},14389:(e,t,n)=>{n.d(t,{LK:()=>r,XW:()=>s,mv:()=>i});var o=n(97825),a=n(13457);function i(e,t,n,o,a=!1){e[t]={currentValue:n,previousValue:o,firstChange:a,isFirstChange:()=>a}}function s(e){return{provide:a.BG,useValue:{packages:[e],packagesChange:o.C,refresh(){}},multi:!0}}function r(e){try{return JSON.parse(e)}catch{return null}}},71309:(e,t,n)=>{n.d(t,{I:()=>T});var o=n(9249),a=n(79440),i=n(77842),s=n(84773),r=n(80827),c=n(72891),l=n(41853),d=n(43870),u=n(11282),p=n(73301),h=n(66794),g=n(31750),v=n(80943),f=n(74445),m=n(49891),y=n(43939),E=n(58654);self.MonacoEnvironment={getWorkerUrl:function(e,t){return"json"===t?"dist/json.worker.js":"css"===t||"scss"===t||"less"===t?"dist/css.worker.js":"html"===t||"handlebars"==t?"dist/html.worker.js":"typescript"===t||"javascript"===t?"dist/ts.worker.js":"dist/editor.worker.js"}};const O={target:E.Mj.typescript.ScriptTarget.ES2020,module:E.Mj.typescript.ModuleKind.CommonJS,moduleResolution:E.Mj.typescript.ModuleResolutionKind.NodeJs,allowNonTsExtensions:!0,removeComments:!0,noEmitOnError:!0,noImplicitAny:!0,noImplicitReturns:!0,noImplicitOverride:!0,noImplicitThis:!0,noUnusedLocals:!0,noUnusedParameters:!0,strict:!0,strictNullChecks:!0,esModuleInterop:!0,newLine:E.Mj.typescript.NewLineKind.LineFeed,typeRoots:["node_modules/@types"]};E.Mj.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),E.Mj.typescript.typescriptDefaults.setCompilerOptions(O);var w=n(4905),C=n(36973);function _(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){_(i,o,a,s,r,"next",e)}function r(e){_(i,o,a,s,r,"throw",e)}s(void 0)}))}}class b{constructor(e){this.element=e,this.codeEditor=null,this.openedFile=null,this.changeEvent=null,this.save=new f.v,this.contentChange=new f.v}ngOnChanges(e){(0,m.$)("languageModel")in e&&this.languageModel&&(0,m.$)("content")in e&&(0,y.EN)(this.content)&&this.updateContent()}ngAfterViewInit(){this.createEditor()}saveContent(){var e=this;return M((function*(){e.openedFile&&e.codeEditor&&e.languageModel&&e.save.emit({content:e.openedFile.getValue(),code:yield e.languageModel.compiledCode(e.codeEditor)})}))()}ngOnDestroy(){this.changeEvent?.dispose(),this.changeEvent=null,this.openedFile?.dispose(),this.openedFile=null,this.codeEditor?.dispose(),this.codeEditor=null}createEditor(){var e=this;this.codeEditor=E.j6.create(this.element.nativeElement,{theme:"vs-dark",model:this.openedFile,lightbulb:{enabled:!0},bracketPairColorization:{enabled:!0},minimap:{enabled:!0}}),this.codeEditor.addCommand(E.DC.CtrlCmd|E.VD.KeyS,(()=>{this.saveContent()})),this.changeEvent=this.codeEditor.onDidChangeModelContent(M((function*(){e.openedFile&&e.languageModel&&e.codeEditor&&e.contentChange.emit({content:e.openedFile.getValue(),code:yield e.languageModel.compiledCode(e.codeEditor)})})))}updateContent(){this.openedFile?.dispose(),this.openedFile=null,this.languageModel&&!(0,y.fp)(this.content)&&(this.openedFile=E.j6.createModel((this.content||this.languageModel.initialData)??"",this.languageModel.language,E.Sf.file(`file:///index.${this.languageModel.extension}`)),this.codeEditor?.setModel(this.openedFile))}}function S(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}b.monacoInit=!0,b.ɵfac=function(e){return new(e||b)(a.Y(w.SB))},b.ɵcmp=i.Xp({type:b,selectors:[["code-editor"]],inputs:{content:"content",languageModel:"languageModel"},outputs:{save:"save",contentChange:"contentChange"},features:[C.T],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});class T{constructor(e,t){this.data=e,this.dialog=t,this.editorContent=null}saveAndClose(e){var t,n=this;return(t=function*(){yield e.saveContent(),n.dialog.close(n.editorContent)},function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function s(e){S(i,o,a,s,r,"next",e)}function r(e){S(i,o,a,s,r,"throw",e)}s(void 0)}))})()}}T.ɵfac=function(e){return new(e||T)(a.Y(o.m),a.Y(g.s))},T.ɵcmp=i.Xp({type:T,selectors:[["code-editor-dialog"]],decls:9,vars:3,consts:[[2,"height","calc(75vh - 32px)","width","calc(75vw - 20px)",3,"content","languageModel","save"],["editor",""],[1,"dynamic-flex-row","dynamic-flex-end","dynamic-margin-top-extra-small"],["type","button","type","button",1,"dynamic-btn","btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=s.E();r.Tg(0,"code-editor",0,1),c.N("save",(function(e){return t.editorContent=e})),r.qZ(),r.Tg(2,"div",2)(3,"button",3)(4,"span"),l._(5,"cancel"),r.qZ()(),r.Tg(6,"button",4),c.N("click",(function(){d.CH(e);const n=u.M(1);return d.Kt(t.saveAndClose(n))})),r.Tg(7,"span"),l._(8,"ok"),r.qZ()()()}2&e&&(p.Q("content",t.data.content)("languageModel",t.data.languageModel),h.x(3),p.Q("mat-dialog-close",null))},dependencies:[v.ZT,b],encapsulation:2,changeDetection:0})},50073:(e,t,n)=>{n.d(t,{H:()=>o});const o=new(n(53136).y)("json","json",(e=>e.getModel()?.getValue()??""))},53136:(e,t,n)=>{n.d(t,{y:()=>o});class o{constructor(e,t,n,o){this.language=e,this.extension=t,this.compiledCode=n,this.initialData=o}}},97825:(e,t,n)=>{n.d(t,{C:()=>i});var o=n(28653),a=n(58656);const i=new o.y(a.Z)},92640:(e,t,n)=>{n.d(t,{x:()=>a});var o=n(70625);const a={asyncValidators:[],validators:[],disabled:!1,type:o.NI,childType:o.NI,args:{}}},71791:(e,t,n)=>{n.d(t,{p:()=>g});var o=n(17777),a=n(66398),i=n(70625),s=n(92640);class r{constructor(e,t){this._factoryFn=e,this._args=t}valueOf(){return this._args?e=>(e={...this._args,args:e},this._factoryFn(e)):this._factoryFn}}class c{constructor(e,t){this._factoryFn=e,this._args=t}valueOf(){return this._args?e=>(e={...this._args,args:e},this._factoryFn(e)):this._factoryFn}}function l(e,t){if(!e)return new o.cw({});const n=e.ɵControlsMetadata??{},d=e.ɵValidators??[],u=e.ɵAsyncValidators??[],p=e.ɵArgs??{},h=Object.keys(e),g=new o.cw({},{validators:d?.map((e=>e instanceof r?e.valueOf()({...p,...t}):e)).filter((e=>!!e)),asyncValidators:u?.map((e=>e instanceof c?e.valueOf()({...p,...t}):e)).filter((e=>!!e))});for(const d of h){const u=n[d]??s.x,p=e[d];if(void 0===p)continue;const h=u.validators.map((e=>e instanceof r?e.valueOf()({...u.args,...t}):e)).filter((e=>!!e)),v=u.asyncValidators.map((e=>e instanceof c?e.valueOf()({...u.args,...t}):e)).filter((e=>!!e));let f;switch(u.type){case o.cw:f=l(p,t);break;case a.Oe:if(f=new a.Oe([],{validators:h,asyncValidators:v,...u.controlOptions}),p&&Array.isArray(p)){const e=f;for(const n of p)switch(u.childType){case o.cw:e.push(l(n,t));break;case a.Oe:break;default:e.push(new i.NI(n,{validators:h,asyncValidators:v,...u.controlOptions}))}}break;default:f=new i.NI(p,{validators:h,asyncValidators:v,...u.controlOptions})}u.disabled&&f.disable(),g.addControl(d,f)}return g}function d(e,t){return l(e,t)}var u=n(11776),p=n(95176),h=n(38327);class g{constructor(e){this._injector=e}build(e,t){return d(e,{...t,injector:this._injector})}}g.ɵfac=function(e){return new(e||g)(u.LF(p.z))},g.ɵprov=h.Yz({token:g,factory:g.ɵfac})}}]);
//# sourceMappingURL=1001.chunk.95109b188c3548d8cceb.js.map