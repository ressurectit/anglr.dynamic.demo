{"version":3,"file":"189.chunk.53d6d2ca2098e3fe61eb.js","mappings":"kVAMO,MAAMA,EAAmC,e,EAAAC,G,EAA6D,mBAAY,WAAW,8EAAqDC,oCAAqC,E,+KAAA,kBAA9K,OAAAD,EAAAE,MAAA,KAAAC,UAAA,KCmBzC,IAAMC,EAAN,MAAAC,WAAAA,GAwCI,KAAAC,YAAwC,CAAC,CAuFpD,CAjHI,oBAAWC,GAEP,OAAOC,KAAKC,iBAChB,CACA,oBAAWF,CAAiBG,GAExBF,KAAKC,kBAAoBC,EAEzBF,KAAKG,YACT,CAgCOC,gBAAAA,CAAiBC,KAEjBC,EAAAA,EAAAA,IAA8B,WAAYD,IAAWC,EAAAA,EAAAA,IAA8B,WAAYD,IAE9FL,KAAKO,gBAEb,CAKOC,iBAAAA,GAEP,CAKUL,UAAAA,GAEN,GAAGH,KAAKD,kBAEDC,KAAKD,kBAAkBU,YAAYC,OAElC,IAAI,MAAMC,KAAQX,KAAKD,iBAAiBU,WAEjCE,GAECC,OAAOC,eAAeb,KACAW,EACA,CACIG,IAAK,SAASZ,GAEVF,KAAKF,YAAYa,GAAQT,EACzBF,KAAKO,gBACT,GAM9C,CAKUA,cAAAA,GAEN,GAAGP,KAAKe,MAEJf,KAAKgB,KAAOhB,KAAKe,WAIrB,GAAGf,KAAKiB,MAEJjB,KAAKgB,KAAOhB,KAAKiB,WAIrB,GAAIjB,KAAKD,kBAAkBU,YAAYC,OAEnC,IAAK,MAAMC,KAAQX,KAAKD,iBAAiBU,WAErC,GAAIT,KAAKF,YAAYa,GAGjB,YADAX,KAAKgB,KAAOhB,KAAKF,YAAYa,GAK7C,IA9EOO,EAAAA,EAAAA,IAAA,EADNC,EAAAA,EAAAA,MAAe,0DA/CPvB,GAAqBsB,EAAAA,EAAAA,IAAA,EAdjCE,EAAAA,EAAAA,GACD,CACIC,OACA,EACIf,EAAAA,EAAAA,IAA8B,UAC9BA,EAAAA,EAAAA,IAA8B,UAElCgB,QACA,EACIhB,EAAAA,EAAAA,IAA8B,YAGrCiB,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,GAAwBjC,IACZK,GCvBb,S","sources":["webpack://ng-universal-demo/../basic-components/src/dynamicItems/firstNonNull/firstNonNull.metadata.ts","webpack://ng-universal-demo/../basic-components/src/dynamicItems/firstNonNull/firstNonNull.relations.ts","webpack://ng-universal-demo/../basic-components/src/dynamicItems/firstNonNull/type.ts"],"sourcesContent":["import {DynamicMetadataLoader} from '@anglr/dynamic';\nimport {RelationsEditorMetadataDescriptor} from '@anglr/dynamic/relations-editor';\n\n/**\n * First non null relations metadata loader\n */\nexport const FirstNonNullRelationsMetadataLoader: DynamicMetadataLoader<RelationsEditorMetadataDescriptor> = async () => new (await import('./metadata/firstNonNull.relationsMetadata')).FirstNonNullRelationsEditorMetadata();\n","import {SimpleChanges} from '@angular/core';\nimport {DebugData, DynamicOutput, PureRelationsComponent, RelationsComponent} from '@anglr/dynamic/relations';\nimport {RelationsEditorMetadata} from '@anglr/dynamic/relations-editor';\nimport {nameof} from '@jscrpt/common';\n\nimport {FirstNonNullRelationsMetadataLoader} from './firstNonNull.metadata';\nimport {FirstNonNullRelationsOptions} from './firstNonNull.options';\n\n/**\n * First non null relations component\n */\n@DebugData(\n{\n    inputs: \n    [\n        nameof<FirstNonNullRelations>('data1'),\n        nameof<FirstNonNullRelations>('data2'),\n    ],\n    outputs: \n    [\n        nameof<FirstNonNullRelations>('data'),\n    ],\n})\n@PureRelationsComponent()\n@RelationsEditorMetadata(FirstNonNullRelationsMetadataLoader)\nexport class FirstNonNullRelations implements RelationsComponent<FirstNonNullRelationsOptions>\n{\n    //######################### protected properties #########################\n\n    /**\n     * Options used in this relations component\n     */\n    protected ɵRelationsOptions: FirstNonNullRelationsOptions|undefined|null;\n\n    //######################### public properties - implementation of RelationsComponent #########################\n\n    /**\n     * @inheritdoc\n     */\n    public get relationsOptions(): FirstNonNullRelationsOptions|undefined|null\n    {\n        return this.ɵRelationsOptions;\n    }\n    public set relationsOptions(value: FirstNonNullRelationsOptions|undefined|null)\n    {\n        this.ɵRelationsOptions = value;\n\n        this.initialize();\n    }\n\n    //######################### public properties - inputs #########################\n    \n    /**\n     * First data to be cheched\n     */\n    public data1: unknown;\n\n    /**\n     * Next data to be checked\n     */\n    public data2: unknown;\n\n    /**\n     * Dynamic data values to be checked\n     */\n    public dynamicData: {[key: string]: unknown} = {};\n\n    //######################### public properties - dynamic outputs #########################\n\n    /**\n     * Resulting data\n     */\n    @DynamicOutput()\n    public data: unknown;\n\n    //######################### public methods - implementation of RelationsComponent #########################\n    \n    /**\n     * @inheritdoc\n     */\n    public dynamicOnChanges(changes: SimpleChanges): void\n    {\n        if(nameof<FirstNonNullRelations>('data1') in changes || nameof<FirstNonNullRelations>('data2') in changes)\n        {\n            this.evaluateResult();\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public invalidateVisuals(): void\n    {\n    }\n\n    /**\n     * Initialize logical and relations\n     */\n    protected initialize(): void\n    {\n        if(this.relationsOptions)\n        {\n            if(this.relationsOptions?.properties?.length)\n            {\n                for(const name of this.relationsOptions.properties)\n                {\n                    if(name)\n                    {\n                        Object.defineProperty(this,\n                                              name,\n                                              {\n                                                  set: function(value)\n                                                  {\n                                                      this.dynamicData[name] = value;\n                                                      this.evaluateResult();\n                                                  }\n                                              });\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Evaluates conditions result\n     */\n    protected evaluateResult(): void\n    {\n        if(this.data1)\n        {\n            this.data = this.data1;\n            return;\n        }\n        \n        if(this.data2)\n        {\n            this.data = this.data2;\n            return;\n        }\n\n        if (this.relationsOptions?.properties?.length)\n        {\n            for (const name of this.relationsOptions.properties)\n            {\n                if (this.dynamicData[name])\n                {\n                    this.data = this.dynamicData[name];\n                    return;\n                }\n            }\n        }\n    }\n}","import {FirstNonNullRelations} from './firstNonNull.relations';\n\nexport default FirstNonNullRelations;"],"names":["FirstNonNullRelationsMetadataLoader","_ref","FirstNonNullRelationsEditorMetadata","apply","arguments","FirstNonNullRelations","constructor","dynamicData","relationsOptions","this","ɵRelationsOptions","value","initialize","dynamicOnChanges","changes","nameof","evaluateResult","invalidateVisuals","properties","length","name","Object","defineProperty","set","data1","data","data2","__decorate","DynamicOutput","DebugData","inputs","outputs","PureRelationsComponent","RelationsEditorMetadata"],"sourceRoot":""}