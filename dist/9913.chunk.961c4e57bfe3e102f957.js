"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9913],{9913:(t,e,n)=>{n.r(e),n.d(e,{RelationsComplexModule:()=>Tt});var a=n(14392),o=n(27052),r=n(68624),i=n(76668),s=n(89001),l=n(35648),u=n(97212),c=n(96148),p=n(94761),d=n(83434),g=n(22804),m=n(57466),h=n(27049),v=n(85638),_=n(89952),f=n(87752),y=n(79440),b=n(13691),w=n(73379),x=n(80827),C=n(41853),M=n(72891),I=n(66794),k=n(73301),T=n(84967),P=n(7842),N=n(86825);let O=class{constructor(t,e){this._manager=t,this._store=e,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,m.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(){return{layout:this._manager.getMetadata()}}_loadDemo(){this._metadata=v.F.demoRelationsComplexLayout}};O.ɵfac=function(t){return new(t||O)(y.Y(d.t),y.Y(_.U))},O.ɵcmp=b.Xp({type:O,selectors:[["layout-editor-view"]],features:[w._([f.X,{provide:g.I,useExisting:f.X}])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(x.Tg(0,"div",0)(1,"button",1)(2,"span"),C._(3,"go back"),x.qZ()(),x.Tg(4,"load-save-new",2),M.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),x.qZ(),x.Tg(5,"button",3),M.N("click",(function(){return e._loadDemo()})),x.Tg(6,"span"),C._(7,"demo"),x.qZ()()(),x._U(8,"layout-editor",4)),2&t&&(I.x(4),k.Q("store",e._store)("getMetadataCallback",e._getMetadata),I.x(4),k.Q("metadata",e._metadata))},dependencies:[T.v,P.Z,N.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([h.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],O.prototype,"_getMetadata",null),O=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[d.t,_.U])],O);var U=n(37943),Y=n(15467),D=n(70625),Z=n(56224),q=n(75990),F=n(15686),Q=n(4477),R=n(94727),X=n(32361),A=n(12311),L=n(77470),z=n(27635),J=n(4489),j=n(68965),E=n(31686),S=n(60405),V=n(68961),B=n(36759),H=n(96130),K=n(86485),W=n(6552);function $(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}const G=function(){var t,e=(t=function*(){return new((yield n.e(9776).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){$(r,a,o,i,s,"next",t)}function s(t){$(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var tt,et=n(82568),nt=n(49280),at=n(70983);function ot(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let rt=tt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new D.NI(""),this.booleanForm=new D.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}static get relationsId(){return"static-input"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(tt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(tt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){ot(r,a,o,i,s,"next",t)}function s(t){ot(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(tt.relationsId),this._componentManager.unregisterComponent(tt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function it(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}rt.ɵfac=function(t){return new(t||rt)(y.Y(V.s),y.Y(H.v),y.Y(K.s))},rt.ɵcmp=b.Xp({type:rt,selectors:[["static-input"]],standalone:!0,features:[et.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(x.Tg(0,"div"),C._(1,"INPUT:"),x.qZ(),x.Tg(2,"div",0),x._U(3,"input",1)(4,"input",2),x.qZ()),2&t&&(I.x(3),k.Q("formControl",e.stringForm),I.x(1),k.Q("formControl",e.booleanForm))},dependencies:[r.U,nt.Fj,at.W,L.JJ,z.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,B.A)(),(0,a.w6)("design:type",String)],rt.prototype,"stringOutput",void 0),(0,a.gn)([(0,B.A)(),(0,a.w6)("design:type",Boolean)],rt.prototype,"booleanOutput",void 0),rt=tt=(0,a.gn)([(0,W.i)(G),(0,a.w6)("design:paramtypes",[V.s,H.v,K.s])],rt);const st=function(){var t,e=(t=function*(){return new((yield n.e(7863).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){it(r,a,o,i,s,"next",t)}function s(t){it(r,a,o,i,s,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var lt,ut=n(6427);function ct(t,e,n,a,o,r,i){try{var s=t[r](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,o)}let pt=lt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}static get relationsId(){return"static-output"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(lt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(lt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function i(t){ct(r,a,o,i,s,"next",t)}function s(t){ct(r,a,o,i,s,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(lt.relationsId),this._componentManager.unregisterComponent(lt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function dt(t,e){if(1&t&&x._U(0,"ng-option",9),2&t){const t=e.$implicit;k.Q("value",t)("text",t)}}pt.ɵfac=function(t){return new(t||pt)(y.Y(V.s),y.Y(H.v),y.Y(K.s))},pt.ɵcmp=b.Xp({type:pt,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[et.j],decls:7,vars:2,template:function(t,e){1&t&&(x.Tg(0,"div"),C._(1,"OUTPUT:"),x.qZ(),x.Tg(2,"div")(3,"div"),C._(4),x.qZ(),x.Tg(5,"div"),C._(6),x.qZ()()),2&t&&(I.x(4),ut.hi("string: ",e.stringInput,""),I.x(2),ut.hi("boolean: ",e.booleanInput,""))},dependencies:[r.U],encapsulation:2,changeDetection:0}),pt=lt=(0,a.gn)([(0,W.i)(st),(0,a.w6)("design:paramtypes",[V.s,H.v,K.s])],pt);const gt=function(t){return["/relationsComplex/layout",t]},mt=function(t){return["/relationsComplex/relations",t]};let ht=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new D.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};ht.ɵfac=function(t){return new(t||ht)(y.Y(_.U),y.Y(U.F0),y.Y(q.N),y.Y(Y.gz))},ht.ɵcmp=b.Xp({type:ht,selectors:[["layout-preview-view"]],features:[w._([(0,Z.A)()])],decls:12,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(x.Tg(0,"div",0)(1,"a",1),C._(2,"layout"),x.qZ(),x.Tg(3,"a",1),C._(4,"relations"),x.qZ(),x.Tg(5,"ng-select",2),F.Y(6,dt,1,2,"ng-option",3),x.qZ()(),x.Tg(7,"div",4),x._U(8,"static-input",5),x.Tg(9,"div",6),Q.Gk(10,7),x.qZ(),x._U(11,"static-output",8),x.qZ()),2&t&&(I.x(1),k.Q("routerLink",R.VK(5,gt,e._available.value)),I.x(2),k.Q("routerLink",R.VK(7,mt,e._available.value)),I.x(2),k.Q("formControl",e._available),I.x(1),k.Q("ngForOf",e._availableNames),I.x(4),k.Q("layoutComponentRenderer",e._metadata))},dependencies:[A.s,L.JJ,z.oH,X.y,J.x,j.w,E.v,S.i,rt,pt],encapsulation:2,changeDetection:0}),ht=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[_.U,U.F0,q.N,Y.gz])],ht);var vt=n(48397),_t=n(80734),ft=n(36159);let yt=class{constructor(t,e,n){this._manager=t,this._store=e,this._layoutManager=n,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(){return{relations:this._manager.getMetadata()}}_loadDemo(){this._metadata=v.F.demoRelationsComplexRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};yt.ɵfac=function(t){return new(t||yt)(y.Y(vt.J),y.Y(_.U),y.Y(_t.n))},yt.ɵcmp=b.Xp({type:yt,selectors:[["relations-editor-view"]],features:[w._([f.X,{provide:g.I,useExisting:f.X}])],decls:9,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(x.Tg(0,"div",0)(1,"button",1)(2,"span"),C._(3,"go back"),x.qZ()(),x.Tg(4,"load-save-new",2),M.N("metadataChange",(function(t){return e.setMetadata(t)})),x.qZ(),x.Tg(5,"button",3),M.N("click",(function(){return e._loadDemo()})),x.Tg(6,"span"),C._(7,"demo"),x.qZ()()(),x._U(8,"relations-editor",4)),2&t&&(I.x(4),k.Q("store",e._store)("getMetadataCallback",e._getMetadata),I.x(4),k.Q("metadata",e._metadata))},dependencies:[T.v,ft.Y,N.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([h.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Object)],yt.prototype,"_getMetadata",null),yt=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[vt.J,_.U,_t.n])],yt);const bt=[O,yt,ht];var wt=n(18567),xt=n(53245),Ct=n(54870),Mt=n(43801),It=n(38327);class kt extends Ct.w{getDefinedTypes(){const t={};return t[rt.relationsId]=rt,t[pt.relationsId]=pt,t}}kt.ɵfac=function(){let t;return function(e){return(t||(t=Mt.n5(kt)))(e||kt)}}(),kt.ɵprov=It.Yz({token:kt,factory:kt.ɵfac});let Tt=class{};Tt.ɵfac=function(t){return new(t||Tt)},Tt.ɵmod=b.oA({type:Tt}),Tt.ɵinj=It.cJ({providers:[(0,xt.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,r.U,i.Bz,l.A,u.p,c.W.withStaticComponents(kt),wt.Qw,rt,pt]}),Tt=(0,a.gn)([(0,s.P)(bt)],Tt)}}]);
//# sourceMappingURL=9913.chunk.961c4e57bfe3e102f957.js.map