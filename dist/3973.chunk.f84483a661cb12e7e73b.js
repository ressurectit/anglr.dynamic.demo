(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[3973],{25048:(t,e,n)=>{var o={"./en.json":[79587,9587],"./sk.json":[5930,5930]};function i(t){if(!n.o(o,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],i=e[0];return n.e(e[1]).then((()=>n.t(i,19)))}i.keys=()=>Object.keys(o),i.id=25048,t.exports=i},18567:(t,e,n)=>{"use strict";n.d(e,{Qw:()=>i.Q,mx:()=>s.m,oK:()=>r.o,$u:()=>Z});var o,i=n(71298),s=n(43747),r=n(31619),a=n(23347),c=n(87667),u=n(64527),l=n(4503),d=n(79144),p=n(76405),h=n(65589),g=n(73301),m=n(41853),f=n(15686),v=n(6845),y=n(66794),b=n(6427),C=n(79440),_=n(77842),w=n(82568),x=n(72891),O=n(85320),I=n(73612),P=n(77470),S=n(86170),k=n(66163),T=n(57292),R=n(35100),L=n(12311),E=n(21651),M=n(64421),D=n(98557),A=n(4489),N=n(81287),F=n(31686);function Y(t,e){if(1&t&&(p._U(0,"ng-option",11),h.AL(1,"translate")),2&t){const t=e.$implicit;g.Q("text",h.lc(1,2,t))("value",t)}}function j(t,e){if(1&t&&p._U(0,"ng-option",11),2&t){const t=e.$implicit;g.Q("text",null==t?null:t.name)("value",null==t?null:t.lang)}}function z(t,e){if(1&t&&(p.Tg(0,"div",6)(1,"div",7),m._(2),h.AL(3,"translate"),p.qZ(),p.Tg(4,"div")(5,"ng-select",8),f.Y(6,Y,2,4,"ng-option",9),p.qZ()(),p.Tg(7,"div",7),m._(8),h.AL(9,"translate"),p.qZ(),p.Tg(10,"div")(11,"ng-select",10),f.Y(12,j,1,2,"ng-option",9),p.qZ()()()),2&t){const t=v.o();g.Q("formGroup",t.generalSettingsForm),y.x(2),b.Oq(h.lc(3,5,"theme")),y.x(4),g.Q("ngForOf",t.themes),y.x(2),b.Oq(h.lc(9,7,"language")),y.x(4),g.Q("ngForOf",t.languages)}}function V(t,e){if(1&t&&p._U(0,"ng-option",11),2&t){const t=e.$implicit;g.Q("text",null==t?null:t.name)("value",null==t?null:t.value)}}function q(t,e){if(1&t&&(p.Tg(0,"div",6)(1,"div",7),m._(2),h.AL(3,"translate"),p.qZ(),p.Tg(4,"div")(5,"ng-select",12),f.Y(6,V,1,2,"ng-option",9),p.qZ()()()),2&t){const t=v.o();g.Q("formGroup",t.loggingSettingsForm),y.x(2),b.Oq(h.lc(3,3,"console log")),y.x(4),g.Q("ngForOf",t.logLevels)}}function U(t,e){if(1&t&&(p.Tg(0,"div",6)(1,"div",7),m._(2),h.AL(3,"translate"),p.qZ(),p.Tg(4,"div"),p._U(5,"mat-slide-toggle",13),p.qZ(),p.Tg(6,"div",7),m._(7),h.AL(8,"translate"),p.qZ(),p.Tg(9,"div"),p._U(10,"mat-slide-toggle",14),p.qZ()()),2&t){const t=v.o();g.Q("formGroup",t.debuggingSettingsForm),y.x(2),b.Oq(h.lc(3,3,"console")),y.x(5),b.Oq(h.lc(8,5,"debug data"))}}!function(t){t[t.General=0]="General",t[t.Logging=1]="Logging",t[t.Debugging=2]="Debugging"}(o||(o={}));class Z{constructor(t,e,n,i){this.themes=c.v.configuration.themes,this.languages=c.v.configuration.languages,this.logLevels=[],this.activeSection=o.General,this.UserSettingsSections=o;const s=t.settings,r=t.settingsDebugging,u=t.settingsLogging;this._getLogLevels(),this.generalSettingsForm=e.group({language:s.language,theme:s.theme}),this.debuggingSettingsForm=e.group({consoleEnabled:r.consoleEnabled,debugData:r.debugData}),this.loggingSettingsForm=e.group({consoleLogLevel:a.ke[u.consoleLogLevel]}),this.generalSettingsForm.valueChanges.subscribe((e=>{t.setSettings(e)})),this.debuggingSettingsForm.valueChanges.subscribe((e=>{i.setEnabled(e.debugData),t.setDebuggingSettings(e)})),this.loggingSettingsForm.valueChanges.subscribe((e=>{n.restrictToLevel=+e.consoleLogLevel,t.setLoggingSettings({consoleLogLevel:a.ke[+e.consoleLogLevel]})}))}_getLogLevels(){Object.keys(a.ke).forEach((t=>{isNaN(+t)||this.logLevels.push({name:a.ke[t],value:t})}))}}Z.ɵfac=function(t){return new(t||Z)(C.Y(u.g),C.Y(I.qu),C.Y(T.b),C.Y(R.H))},Z.ɵcmp=_.Xp({type:Z,selectors:[["user-settings"]],standalone:!0,features:[w.j],decls:20,vars:18,consts:[[1,"flex-column","settings-menu"],[1,"btn-line",3,"click"],[1,"fas","fa-cog"],[1,"fas","fa-pen"],[1,"fas","fa-bug"],["class","settings-items",3,"formGroup",4,"ngIf"],[1,"settings-items",3,"formGroup"],[1,"text-capitalize"],["formControlName","theme"],[3,"text","value",4,"ngFor","ngForOf"],["formControlName","language"],[3,"text","value"],["formControlName","consoleLogLevel"],["formControlName","consoleEnabled"],["formControlName","debugData"]],template:function(t,e){1&t&&(p.Tg(0,"div",0)(1,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.General})),p._U(2,"span",2),p.Tg(3,"span"),m._(4),h.AL(5,"translate"),p.qZ()(),p.Tg(6,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.Logging})),p._U(7,"span",3),p.Tg(8,"span"),m._(9),h.AL(10,"translate"),p.qZ()(),p.Tg(11,"a",1),x.N("click",(function(){return e.activeSection=e.UserSettingsSections.Debugging})),p._U(12,"span",4),p.Tg(13,"span"),m._(14),h.AL(15,"translate"),p.qZ()()(),p.Tg(16,"div"),f.Y(17,z,13,9,"div",5),f.Y(18,q,7,5,"div",5),f.Y(19,U,11,7,"div",5),p.qZ()),2&t&&(y.x(1),O.ek("active",e.activeSection==e.UserSettingsSections.General),y.x(3),b.Oq(h.lc(5,12,"general")),y.x(2),O.ek("active",e.activeSection==e.UserSettingsSections.Logging),y.x(3),b.Oq(h.lc(10,14,"logging")),y.x(2),O.ek("active",e.activeSection==e.UserSettingsSections.Debugging),y.x(3),b.Oq(h.lc(15,16,"debug")),y.x(3),g.Q("ngIf",e.activeSection==e.UserSettingsSections.General),y.x(1),g.Q("ngIf",e.activeSection==e.UserSettingsSections.Logging),y.x(1),g.Q("ngIf",e.activeSection==e.UserSettingsSections.Debugging))},dependencies:[l._,L.sg,E.O,M.X,d.N,P.JJ,P.JL,S.s,k.u,D.Rr,A.x,N.w,F.v],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}.settings-menu[_ngcontent-%COMP%]{width:120px;font-size:1.1em;margin-right:48px}.settings-menu[_ngcontent-%COMP%]   span[class^=fa][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=fas][_ngcontent-%COMP%], .settings-menu[_ngcontent-%COMP%]   span[class^=glyphicon][_ngcontent-%COMP%]{margin-right:10px}.settings-items[_ngcontent-%COMP%]{width:300px;display:grid;grid-template-columns:auto 160px;grid-template-rows:auto;column-gap:10px;row-gap:4px;align-items:center}"],changeDetection:0})},71298:(t,e,n)=>{"use strict";n.d(e,{Q:()=>Pt});var o=n(74445),i=n(27052),s=n(84450),r=n(70625),a=n(48659),c=n(35648),u=n(13457),l=n(56618),d=n(18830),p=n(71791),h=n(9249),g=n(39163),m=n(77842);class f{transform(t,e,n,o){return!!t[e]?.[n]&&t[e][n].indexOf(o)>=0}}f.ɵfac=function(t){return new(t||f)},f.ɵpipe=m.Yj({name:"propertySelected",type:f,pure:!0,standalone:!0});var v=n(62568),y=n(43856),b=n(76405),C=n(41853),_=n(6845),w=n(73301),x=n(66794),O=n(6427),I=n(84773),P=n(72891),S=n(43870),k=n(65589),T=n(15686),R=n(4477),L=n(79440),E=n(73379),M=n(82568),D=n(94727),A=n(70945),N=n(12311),F=n(21651),Y=n(32434),j=n(80943),z=n(24881),V=n(17790),q=n(77470),U=n(27635),Z=n(19989);function $(t,e){if(1&t&&(b.Tg(0,"option",11),C._(1),b.qZ()),2&t){const t=e.$implicit,n=_.o();w.Q("value",t),x.x(1),O.Oq(null==n.data.customComponentContentMetadata[t]||null==n.data.customComponentContentMetadata[t].metadata?null:n.data.customComponentContentMetadata[t].metadata.displayName)}}function Q(t,e){if(1&t&&b._U(0,"span",20),2&t){const t=e.ngIf;w.Q("tooltip",t)}}function H(t,e){if(1&t){const t=I.E();b.Tg(0,"div")(1,"label")(2,"input",18),P.N("change",(function(){const e=S.CH(t).$implicit,n=_.o().$implicit,o=_.o().$implicit,i=_.o();return S.Kt(i.toggleSelected(o.key,n.key,e))})),k.AL(3,"propertySelected"),b.qZ(),b.Tg(4,"span"),C._(5),k.AL(6,"propertiesMetadata"),k.AL(7,"getModel"),b.qZ(),T.Y(8,Q,1,1,"span",19),k.AL(9,"propertiesMetadata"),k.AL(10,"getModel"),b.qZ()()}if(2&t){const t=e.$implicit,n=_.o().$implicit,o=_.o().$implicit,i=_.o();let s,r;x.x(2),w.Q("checked",k.tD(3,3,i.usedProperties,o.key,n.key,t)),x.x(3),O.Oq(null!==(s=null==(s=k.xi(6,8,k.xi(7,11,n.key,i.data.customComponentContentMetadata[o.key]),i.data.propsMetadataExtractor))||null==s[t]?null:s[t].name)&&void 0!==s?s:t),x.x(3),w.Q("ngIf",null==(r=k.xi(9,14,k.xi(10,17,n.key,i.data.customComponentContentMetadata[o.key]),i.data.propsMetadataExtractor))||null==r[t]?null:r[t].description)}}function B(t,e){if(1&t&&(R.yn(0),T.Y(1,H,11,20,"div",17),R.BQ()),2&t){const t=e.$implicit;x.x(1),w.Q("ngForOf",t.value)}}function G(t,e){if(1&t){const t=I.E();b.Tg(0,"div",12)(1,"div",13)(2,"span",14),C._(3),b.qZ(),b.Tg(4,"a",15),P.N("click",(function(){const e=S.CH(t).$implicit,n=_.o();return S.Kt(n.removeComponent(e.key))})),b._U(5,"span",16),b.qZ()(),T.Y(6,B,2,1,"ng-container",17),k.AL(7,"keyvalue"),b.qZ()}if(2&t){const t=e.$implicit,n=_.o();x.x(3),O.Oq(null==n.data.customComponentContentMetadata[t.key]||null==n.data.customComponentContentMetadata[t.key].metadata?null:n.data.customComponentContentMetadata[t.key].metadata.displayName),x.x(3),w.Q("ngForOf",k.lc(7,2,n.availableProperties[t.key]))}}const J=function(t){return{configurableProperties:t,displayName:"",description:""}};class X{constructor(t,e,n){var o,i,s;this.data=t,this.dialog=e,this.component=new r.NI,this.usedProperties={},this.availableProperties={},this.contentComponents=[],this.contentComponents=Object.keys(t.customComponentContentMetadata),this.nameDescriptionForm=n.build({displayName:"",description:""});for(const t in this.data.configuration.configurableProperties){const e=this.data.configuration.configurableProperties[t];(o=this.usedProperties)[t]??(o[t]={});for(const n in e){const o=e[n];this.usedProperties[t][n]=[...o]}}const a=Object.keys(this.usedProperties);this.contentComponents=this.contentComponents.filter((t=>a.indexOf(t)<0));for(const e in t.customComponentContentMetadata){const n=t.customComponentContentMetadata[e];if(n?.editorMetadata.metaInfo?.optionsMetadata?.propertiesMetadata)for(const t of n.editorMetadata.metaInfo.optionsMetadata.propertiesMetadata){const n=new t.modelType(void 0);if(!Object.keys(n).length)continue;const o=t.modelType.name;(i=this.availableProperties)[e]??(i[e]={}),(s=this.availableProperties[e])[o]??(s[o]=[]);for(const t in n)this.availableProperties[e][o].push(t)}}}addComponent(){if(!this.component.value)return;this.usedProperties[this.component.value]={};const t=this.contentComponents.indexOf(this.component.value);t>=0&&(this.contentComponents.splice(t,1),this.component.setValue(this.contentComponents[0]??null))}removeComponent(t){delete this.usedProperties[t],this.contentComponents.push(t),1==this.contentComponents.length&&this.component.setValue(this.contentComponents[0])}toggleSelected(t,e,n){var o,i;(o=this.usedProperties)[t]??(o[t]={}),(i=this.usedProperties[t])[e]??(i[e]=[]);const s=this.usedProperties[t][e].indexOf(n);s>=0?(this.usedProperties[t][e].splice(s,1),this.usedProperties[t][e]=[...this.usedProperties[t][e]]):this.usedProperties[t][e]=[...this.usedProperties[t][e],n]}}X.ɵfac=function(t){return new(t||X)(L.Y(h.m),L.Y(A.z),L.Y(p.p))},X.ɵcmp=m.Xp({type:X,selectors:[["custom-component-options"]],standalone:!0,features:[E._([p.p]),M.j],decls:18,vars:9,consts:[[1,"dynamic-margin-bottom-small","dynamic-flex-row"],[1,"dynamic-flex-1","dynamic-margin-right-small"],[1,"dynamic-control-label"],[1,"dynamic-form-control",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"dynamic-btn-icon","dynamic-margin-left-small","dynamic-large-text",3,"click"],[1,"fas","fa-plus"],["class","dynamic-margin-bottom-small",4,"ngFor","ngForOf"],[1,"dynamic-flex-row","dynamic-flex-end"],["type","button",1,"dynamic-btn","dynamic-btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button",1,"dynamic-btn","dynamic-btn-primary",3,"mat-dialog-close"],[3,"value"],[1,"dynamic-margin-bottom-small"],[1,"dynamic-bold","dynamic-flex-row"],[1,"dynamic-margin-right-small"],[1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],["class","fas fa-info-circle dynamic-margin-left-extra-small",3,"tooltip",4,"ngIf"],[1,"fas","fa-info-circle","dynamic-margin-left-extra-small",3,"tooltip"]],template:function(t,e){1&t&&(b.Tg(0,"div",0)(1,"div",1)(2,"label",2),C._(3,"Available content components"),b.qZ(),b.Tg(4,"select",3),T.Y(5,$,2,2,"option",4),b.qZ()(),b.Tg(6,"a",5),P.N("click",(function(){return e.addComponent()})),b._U(7,"span",6),b.qZ()(),b.Tg(8,"div"),T.Y(9,G,8,4,"div",7),k.AL(10,"keyvalue"),b.qZ(),b.Tg(11,"div",8)(12,"button",9)(13,"span"),C._(14,"cancel"),b.qZ()(),b.Tg(15,"button",10)(16,"span"),C._(17,"ok"),b.qZ()()()),2&t&&(x.x(4),w.Q("formControl",e.component),x.x(1),w.Q("ngForOf",e.contentComponents),x.x(4),w.Q("ngForOf",k.lc(10,5,e.usedProperties)),x.x(3),w.Q("mat-dialog-close",void 0),x.x(3),w.Q("mat-dialog-close",D.VK(7,J,e.usedProperties)))},dependencies:[i.e,N.sg,F.O,Y.N,d.I,j.ZT,a.U,z.YN,V.Kr,z.EJ,q.JJ,U.oH,f,v.m,y.l,g.z,Z.i],encapsulation:2,changeDetection:0});var K=n(79842),W=n(95176),tt=n(4905),et=n(36973),nt=n(47826),ot=n(26159),it=n(43671);function st(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function rt(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){st(s,o,i,r,a,"next",t)}function a(t){st(s,o,i,r,a,"throw",t)}r(void 0)}))}}class at{constructor(t,e,n,o,i){this.injector=t,this.dialogSvc=e,this.customComponentsRegister=n,this.propsMetadataExtractor=o,this.element=i,this.customComponentContentMetadata={}}ngOnChanges(){var t=this;return rt((function*(){if(!t.name)return;const e=yield(0,K.Qd)(t.name,t.injector);e&&(t.customComponentContentMetadata=e.contentMetadata,t.customComponentMetadata=e.metadata)}))()}ngOnInit(){var t=this;return rt((function*(){if(!t.name&&!t.element.nativeElement.disabled)throw new Error("Please provide name of custom component for its options")}))()}show(t){var e=this;return rt((function*(){t.preventDefault(),t.stopPropagation();const n=yield(0,l.n)(e.dialogSvc.open(X,{title:"custom component options",width:"75vw",data:{customComponentContentMetadata:e.customComponentContentMetadata,configuration:e.customComponentsRegister.getConfigurationForComponent(e.name??"")??{},propsMetadataExtractor:e.propsMetadataExtractor}}).afterClosed());n&&(yield e.customComponentsRegister.setConfigurationForComponent(e.name??"",n))}))()}}at.ɵfac=function(t){return new(t||at)(L.Y(W.z),L.Y(nt.J),L.Y(ot.t),L.Y(it.L),L.Y(tt.SB))},at.ɵdir=m.lG({type:at,selectors:[["","showCustomComponentOptions",""]],hostBindings:function(t,e){1&t&&P.N("click",(function(t){return e.show(t)}))},inputs:{name:["showCustomComponentOptions","name"]},standalone:!0,features:[et.T]});var ct=n(57466),ut=n(23199),lt=n(40043),dt=n(68961),pt=n(10618),ht=n(15467),gt=n(88271),mt=n(56454),ft=n(49280),vt=n(70983),yt=n(4489),bt=n(81287),Ct=n(31686),_t=n(98557);function wt(t,e){if(1&t&&b._U(0,"ng-option",8),2&t){const t=e.$implicit;w.Q("value",t)("text",t)}}function xt(t,e){1&t&&(R.yn(0),C._(1,"*"),R.BQ())}function Ot(t,e){if(1&t&&(b.Tg(0,"label",12),b._U(1,"input",13),C._(2," component"),b.qZ()),2&t){const t=_.o(2);x.x(1),w.Q("formControl",t._component)}}function It(t,e){if(1&t){const t=I.E();R.yn(0),b.Tg(1,"mat-slide-toggle",9),P.N("change",(function(){S.CH(t);const e=_.o();return S.Kt(e.liveEvents.setEnabled(!e.liveEvents.enabled))})),C._(2,"live events"),b.qZ(),T.Y(3,Ot,3,1,"label",10),b.Tg(4,"button",11),C._(5,"CC options"),b.qZ(),R.BQ()}if(2&t){const t=_.o();x.x(1),w.Q("checked",t.liveEvents.enabled),x.x(2),w.Q("ngIf",t.componentMarking),x.x(1),w.Q("showCustomComponentOptions",t._available.value)("disabled",!t._component.value)}}class Pt{constructor(t,e,n,i,s,a,c){this._router=t,this._route=e,this._metaManager=n,this._changeDetector=i,this.liveEvents=s,this._customComponentsRegister=a,this._hotkeys=c,this._metadata=null,this._available=new r.NI(""),this._component=new r.NI(!1),this._name=new r.NI(null),this._availableNames=[],this.initSubscriptions=new ut.w0,this.history=null,this.componentMarking=!1,this.layoutControls=!0,this.metadataChange=new o.v}ngOnInit(){this.componentMarking&&(this._available.valueChanges.subscribe((t=>{if(!t)return;const e=this._customComponentsRegister?.getRegisteredComponents();this._component.setValue(e.indexOf(t)>=0,{emitEvent:!1})})),this._component.valueChanges.subscribe((()=>this._customComponentsRegister?.toggleRegisteredComponent(this._available.value)))),this._hotkeys&&this.initSubscriptions.add(this._hotkeys.save.subscribe((()=>this._save()))),this.history&&(this.initSubscriptions.add(this.history.historyChange.subscribe((()=>this._changeDetector.detectChanges()))),this.initSubscriptions.add(this.history.pop.subscribe((()=>this._changeDetector.detectChanges())))),this._availableNames=this.store.getStored(),this._route.params.subscribe((({id:t})=>{t?(this._name.setValue(t),this._available.setValue(t),this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata)):(this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""))}))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}_load(){this._metadata=this.store.getData(this._available.value),this.metadataChange.next(this._metadata),this._name.setValue(this._available.value),this._router.navigate([this.routePath,this._available.value],{skipLocationChange:!1,replaceUrl:!0})}_save(){this._saveData(this._metaManager.getMetadata())}_delete(){this.store.removeData(this._available.value),this._availableNames=this.store.getStored(),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_new(){this._metadata=null,this.metadataChange.next(this._metadata),this._name.setValue(""),this._available.setValue(""),this._router.navigate([this.routePath],{skipLocationChange:!1,replaceUrl:!0})}_saveData(t){const e=this.store.getData(this._name.value)??{};this.history?.save(),this.store.setData(this._name.value,(0,ct.l7)(e,this.getMetadataCallback(t))),this._availableNames=this.store.getStored(),this._changeDetector.detectChanges(),this._router.navigate([this.routePath,this._name.value],{skipLocationChange:!1,replaceUrl:!0})}}Pt.ɵfac=function(t){return new(t||Pt)(L.Y(pt.F0),L.Y(ht.gz),L.Y(u.Qh),L.Y(dt.s),L.Y(gt._),L.Y(lt._,8),L.Y(mt.z,8))},Pt.ɵcmp=m.Xp({type:Pt,selectors:[["load-save-new"]],inputs:{store:"store",history:"history",routePath:"routePath",getMetadataCallback:"getMetadataCallback",componentMarking:"componentMarking",layoutControls:"layoutControls"},outputs:{metadataChange:"metadataChange"},standalone:!0,features:[M.j],decls:18,vars:9,consts:[[2,"width","180px",3,"formControl"],["text","*unsaved*",3,"value"],[3,"value","text",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","text",3,"formControl"],[4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value","text"],[3,"checked","change"],["class","margin-horizontal-extra-small",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"showCustomComponentOptions","disabled"],[1,"margin-horizontal-extra-small"],["type","checkbox",3,"formControl"]],template:function(t,e){if(1&t&&(b.Tg(0,"ng-select",0),b._U(1,"ng-option",1),T.Y(2,wt,1,2,"ng-option",2),b.qZ(),b.Tg(3,"button",3),P.N("click",(function(){return e._delete()})),b.Tg(4,"span"),C._(5,"remove"),b.qZ()(),b.Tg(6,"button",4),P.N("click",(function(){return e._load()})),b.Tg(7,"span"),C._(8,"load"),b.qZ()(),b._U(9,"input",5),b.Tg(10,"button",4),P.N("click",(function(){return e._save()})),b.Tg(11,"span"),C._(12,"save "),T.Y(13,xt,2,0,"ng-container",6),b.qZ()(),b.Tg(14,"button",7),P.N("click",(function(){return e._new()})),b.Tg(15,"span"),C._(16,"new"),b.qZ()(),T.Y(17,It,6,4,"ng-container",6)),2&t){let t;w.Q("formControl",e._available),x.x(1),w.Q("value",""),x.x(1),w.Q("ngForOf",e._availableNames),x.x(1),w.Q("disabled",!e._available.value),x.x(3),w.Q("disabled",!e._available.value),x.x(3),w.Q("formControl",e._name),x.x(1),w.Q("disabled",!e._name.value),x.x(3),w.Q("ngIf",!(null===(t=null==e.history?null:e.history.saved)||void 0===t||t)),x.x(4),w.Q("ngIf",e.layoutControls)}},dependencies:[a.U,ft.Fj,vt.W,q.JJ,U.oH,c.A,yt.x,bt.w,Ct.v,i.e,N.sg,F.O,at,s.r,_t.Rr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}"],changeDetection:0})},43747:(t,e,n)=>{"use strict";n.d(e,{m:()=>_});var o=n(14392),i=n(68961),s=n(67626),r=n(86485),a=n(6552),c=n(49891);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const l=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(8232),n.e(9678),n.e(492)]).then(n.bind(n,53990))).RelationsResultRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();var d,p=n(79440),h=n(77842),g=n(36973),m=n(82568),f=n(76405),v=n(41853),y=n(66794),b=n(6427);function C(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}let _=d=class{static get relationsId(){return"relations-result"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(d.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(d.relationsId)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){C(s,o,i,r,a,"next",t)}function a(t){C(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(d.relationsId),this._componentManager.unregisterComponent(d.relationsId)}ngOnChanges(t){(0,c.$)("vstup")in t&&this.vstup&&console.log("vstup sa zmenil v result",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};_.ɵfac=function(t){return new(t||_)(p.Y(i.s),p.Y(s.v),p.Y(r.s))},_.ɵcmp=h.Xp({type:_,selectors:[["relations-result"]],inputs:{vstup:"vstup"},standalone:!0,features:[g.T,m.j],decls:2,vars:1,template:function(t,e){1&t&&(f.Tg(0,"div"),v._(1),f.qZ()),2&t&&(y.x(1),b.hi("VSTUP: ",e.vstup,""))},encapsulation:2,changeDetection:0}),_=d=(0,o.gn)([(0,a.i)(l),(0,o.w6)("design:paramtypes",[i.s,s.v,r.s])],_)},31619:(t,e,n)=>{"use strict";n.d(e,{o:()=>k});var o=n(14392),i=n(68961),s=n(70625),r=n(48659),a=n(36759),c=n(67626),u=n(86485),l=n(6552),d=n(49891);function p(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const h=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(8232),n.e(9678),n.e(3652)]).then(n.bind(n,14663))).RelationsSampleClickRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){p(s,o,i,r,a,"next",t)}function a(t){p(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(){return e.apply(this,arguments)}}();var g,m=n(79440),f=n(77842),v=n(36973),y=n(82568),b=n(76405),C=n(41853),_=n(66794),w=n(6427),x=n(73301),O=n(49280),I=n(77470),P=n(27635);function S(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}let k=g=class{static get relationsId(){return"relations-sample-click"}constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this._vystupForm=new s.NI(""),this._vystupForm.valueChanges.subscribe((t=>this.vystup=t))}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(g.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(g.relationsId)},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){S(s,o,i,r,a,"next",t)}function a(t){S(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(g.relationsId),this._componentManager.unregisterComponent(g.relationsId)}ngOnChanges(t){(0,d.$)("vstup")in t&&this.vstup&&console.log("vstup sa zmenil",this.vstup)}invalidateVisuals(){this._changeDetector.detectChanges()}};k.ɵfac=function(t){return new(t||k)(m.Y(i.s),m.Y(c.v),m.Y(u.s))},k.ɵcmp=f.Xp({type:k,selectors:[["relations-sample-click"]],inputs:{vstup:"vstup"},standalone:!0,features:[v.T,y.j],decls:4,vars:2,consts:[["type","text",3,"formControl"]],template:function(t,e){1&t&&(b.Tg(0,"div"),C._(1),b.qZ(),b.Tg(2,"div"),b._U(3,"input",0),b.qZ()),2&t&&(_.x(1),w.hi("VSTUP: ",e.vstup,""),_.x(2),x.Q("formControl",e._vystupForm))},dependencies:[r.U,O.Fj,I.JJ,P.oH],encapsulation:2,changeDetection:0}),(0,o.gn)([(0,a.A)(),(0,o.w6)("design:type",String)],k.prototype,"vystup",void 0),k=g=(0,o.gn)([(0,l.i)(h),(0,o.w6)("design:paramtypes",[i.s,c.v,u.s])],k)},83973:(t,e,n)=>{"use strict";n.r(e),n(58420),n(88574),n(62374);var o=n(52266),i=n(43939),s=n(28653),r=n(87667);(0,o.y)((t=>{t.Document||(t.Document=function(){})}));const a=s.y.prototype.subscribe;s.y.prototype.subscribe=function(t,e,n){return!(0,i.fp)(e)&&(0,i.mf)(e)||(e=t=>{r.v.configuration.debug&&console.log(t)}),a.call(this,t,e,n)};var c=n(76939),u=n(97326),l=n(17939),d=n(42711),p=n(26160),h=n(93742),g=n(72898),m=n(35980),f=n(48936),v=n(46480),y=n(55478),b=n(39969),C=n(53047),_=n(49891),w=n(98084),x=n(80022);const O=(0,x.X$)("routeAnimations",[(0,x.eR)("void <=> *, none <=> *",[(0,x.IO)(":enter",(0,x.pV)(),{optional:!0})]),(0,x.eR)("* => login",[(0,x.IO)(".main-content",[(0,x.oB)({position:"relative",perspective:"10000px"}),(0,x.IO)(":enter, :leave",[(0,x.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,x.IO)(":enter",[(0,x.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,x.IO)(":leave",(0,x.pV)()),(0,x.ru)([(0,x.IO)(":leave",[(0,x.jt)("350ms ease-out",(0,x.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,x.IO)(":enter",[(0,x.jt)("350ms 350ms ease-out",(0,x.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,x.IO)(":enter",(0,x.pV)())])]),(0,x.eR)("login => *",[(0,x.IO)(".main-content",[(0,x.oB)({position:"relative",perspective:"10000px"}),(0,x.IO)(":enter, :leave",[(0,x.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,x.IO)(":enter",[(0,x.oB)({transform:"rotateY(-90deg)",opacity:0})]),(0,x.IO)(":leave",(0,x.pV)()),(0,x.ru)([(0,x.IO)(":leave",[(0,x.jt)("350ms ease-out",(0,x.oB)({transform:"rotateY(90deg)",opacity:0}))]),(0,x.IO)(":enter",[(0,x.jt)("350ms 350ms ease-out",(0,x.oB)({transform:"rotateY(0)",opacity:1}))])]),(0,x.IO)(":enter",(0,x.pV)())])]),(0,x.eR)("* => *",[(0,x.IO)(".main-content",[(0,x.oB)({position:"relative"}),(0,x.IO)(":enter, :leave",[(0,x.oB)({position:"absolute",top:0,left:0,width:"100%",height:"100%"})]),(0,x.IO)(":enter",[(0,x.oB)({opacity:0})]),(0,x.IO)(":leave",(0,x.pV)()),(0,x.ru)([(0,x.IO)(":leave",[(0,x.jt)("350ms ease-out",(0,x.oB)({opacity:0}))]),(0,x.IO)(":enter",[(0,x.jt)("350ms ease-out",(0,x.oB)({opacity:1}))])]),(0,x.IO)(":enter",(0,x.pV)())])])]),I=(0,x.X$)("loaderAnimation",[(0,x.eR)(":leave",[])]);var P=n(64527);const S=JSON.parse('{"i":"1.0.0-beta.20230126084148"}');var k=n(76405),T=n(73301),R=n(79440),L=n(68961),E=n(77842),M=n(19063),D=n(73379),A=n(41853),N=n(15686),F=n(66794),Y=n(6427),j=n(70575),z=n(21651),V=n(83915),q=n(53693),U=n(38870),Z=n(94304),$=n(69602),Q=n(18567),H=n(72891),B=n(47826),G=n(32361),J=n(453);class X{constructor(t){this._dialog=t}openSettings(){this._dialog.open(Q.$u,{title:"user settings",maxHeight:"80vh"})}}X.ɵfac=function(t){return new(t||X)(R.Y(B.J))},X.ɵcmp=E.Xp({type:X,selectors:[["main-menu"]],decls:19,vars:0,consts:[[1,"flex-row"],["routerLink","/layout/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/layout/editor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsStatic","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithEditor","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsWithLayoutEditor/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsComplex/preview","routerLinkActive","active",1,"margin-horizontal-small"],["routerLink","/relationsLayoutForm/form-preview","routerLinkActive","active",1,"margin-horizontal-small"],[1,"flex-1"],[1,"fas","fa-cog",3,"click"]],template:function(t,e){1&t&&(k.Tg(0,"div",0)(1,"a",1),A._(2,"Preview"),k.qZ(),k.Tg(3,"a",2),A._(4,"Editor"),k.qZ(),k.Tg(5,"a",3),A._(6,"Relations editor"),k.qZ(),k.Tg(7,"a",4),A._(8,"Relations"),k.qZ(),k.Tg(9,"a",5),A._(10,"Relations with editor"),k.qZ(),k.Tg(11,"a",6),A._(12,"Relations with layout editor"),k.qZ(),k.Tg(13,"a",7),A._(14,"Relations complex"),k.qZ(),k.Tg(15,"a",8),A._(16,"Relations form"),k.qZ(),k._U(17,"div",9),k.Tg(18,"a",10),H.N("click",(function(){return e.openSettings()})),k.qZ()())},dependencies:[G.r,J.O],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{padding:0}"],changeDetection:0});var K=n(80969);function W(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const tt=["outlet"];function et(t,e){1&t&&k._U(0,"console"),2&t&&T.Q("@consoleAnimation",void 0)}function nt(t,e){1&t&&(k.Tg(0,"div",6),k._U(1,"div"),k.qZ()),2&t&&T.Q("@loaderAnimation",void 0)}class ot{constructor(t,e,n,o,i,s){this._changeDetector=e,this._appHotkeys=n,this.consoleVisible=!1,this.routeComponentState="none",this.guiVersion=S.i,this.initialized=!1,i.verbose("Application is starting, main component constructed."),s.body.classList.add("app-page",o.settings.theme),this._theme=o.settings.theme,this._settingsChangeSubscription=o.settingsChange.subscribe((e=>{e==(0,_.$)("theme")&&(s.body.classList.remove(this._theme),this._theme=o.settings.theme,s.body.classList.add(this._theme)),e==(0,_.$)("language")&&(t.use(o.settings.language),this._changeDetector.detectChanges())})),this._settingsDebuggingChangeSubscription=o.settingsDebuggingChange.subscribe((t=>{t==(0,_.$)("consoleEnabled")&&this._toggleConsoleHotkey()})),t.setDefaultLang("en"),t.use(o.settings.language),o.settingsDebugging?.consoleEnabled&&this._toggleConsoleHotkey()}ngOnInit(){var t,e=this;return(t=function*(){e._changeDetector.detectChanges()},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){W(s,o,i,r,a,"next",t)}function a(t){W(s,o,i,r,a,"throw",t)}r(void 0)}))})()}ngAfterViewInit(){this._routerOutletActivatedSubscription=this.routerOutlet.activateEvents.subscribe((()=>{this.routeComponentState=this.routerOutlet.activatedRouteData.animation||this.routerOutlet.activatedRoute.component.name})),this.initialized=!0}ngOnDestroy(){this._routerOutletActivatedSubscription?.unsubscribe(),this._routerOutletActivatedSubscription=null,this._settingsChangeSubscription?.unsubscribe(),this._settingsChangeSubscription=null,this._settingsDebuggingChangeSubscription?.unsubscribe(),this._settingsDebuggingChangeSubscription=null,this._appHotkeys.destroy()}_toggleConsoleHotkey(){const t=this._appHotkeys.hotkeys.get("~");t?this._appHotkeys.hotkeys.remove(t):this._appHotkeys.hotkeys.add(new w.q("~",(()=>(this.consoleVisible=!this.consoleVisible,this._changeDetector.detectChanges(),!1)),null,"Show console"))}}ot.ɵfac=function(t){return new(t||ot)(R.Y(j.sK),R.Y(L.s),R.Y(b.H),R.Y(P.g),R.Y(v.bZ),R.Y(f.K))},ot.ɵcmp=E.Xp({type:ot,selectors:[["app"]],viewQuery:function(t,e){if(1&t&&M.Gf(tt,5),2&t){let t;M.iG(t=M.CR())&&(e.routerOutlet=t.first)}},features:[D._([b.H])],decls:13,vars:3,consts:[[1,"content","relative"],[1,"main-content"],["outlet","outlet"],[1,"gui-version"],[4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"loading-indicator"]],template:function(t,e){1&t&&(k._U(0,"main-menu")(1,"progress-indicator")(2,"internal-server-error")(3,"global-notifications")(4,"hotkeys-cheatsheet"),k.Tg(5,"div",0)(6,"div",1),k._U(7,"router-outlet",null,2),k.qZ()(),k.Tg(9,"div",3),A._(10),k.qZ(),N.Y(11,et,1,1,"console",4),N.Y(12,nt,2,1,"div",5)),2&t&&(F.x(10),Y.hi("GUI version: ",e.guiVersion,""),F.x(1),T.Q("ngIf",e.consoleVisible),F.x(1),T.Q("ngIf",!e.initialized))},dependencies:[z.O,V.X,q.B,U.u,Z.l,$.X,X,K.m],styles:[".content[_ngcontent-%COMP%]{display:grid;flex:1;min-height:0;min-width:0;overflow:hidden}.content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0}.gui-version[_ngcontent-%COMP%]{text-align:center;font-size:.7em}console[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[O,C.I,y.K,I]},changeDetection:0});var it=n(14392),st=n(35692),rt=n(88382),at=n(89001),ct=n(3859),ut=n(61694),lt=n(21098),dt=n(65205),pt=n(94054),ht=n(15924),gt=n(78513),mt=n(17868),ft=n(87966);const vt={rootModule:!0,rootModuleConfig:{enableTracing:!1,useHash:!0},staticRoutesBefore:[{path:"",redirectTo:"/layout/preview",pathMatch:"full"},{path:"layout",loadChildren:()=>Promise.all([n.e(833),n.e(8763),n.e(7069)]).then(n.bind(n,57069)).then((({LayoutModule:t})=>t))},{path:"layout",loadChildren:()=>Promise.all([n.e(9537),n.e(6973),n.e(5638),n.e(833),n.e(8763),n.e(1601),n.e(1973)]).then(n.bind(n,31203)).then((({LayoutEditorModule:t})=>t))},{path:"relationsStatic",loadChildren:()=>Promise.all([n.e(5638),n.e(7329)]).then(n.bind(n,87329)).then((({RelationsStaticModule:t})=>t))},{path:"relationsEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(5638),n.e(833),n.e(7141),n.e(8926)]).then(n.bind(n,68926)).then((({RelationsEditorModule:t})=>t))},{path:"relationsWithEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(5638),n.e(833),n.e(7141),n.e(2611)]).then(n.bind(n,72611)).then((({RelationsWithEditorModule:t})=>t))},{path:"relationsWithLayoutEditor",loadChildren:()=>Promise.all([n.e(8232),n.e(9537),n.e(6973),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(5184)]).then(n.bind(n,85184)).then((({RelationsWithLayoutEditorModule:t})=>t))},{path:"relationsComplex",loadChildren:()=>Promise.all([n.e(8232),n.e(9537),n.e(6973),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(6293),n.e(9913)]).then(n.bind(n,9913)).then((({RelationsComplexModule:t})=>t))},{path:"relationsLayoutForm",loadChildren:()=>Promise.all([n.e(8232),n.e(9537),n.e(6973),n.e(5638),n.e(833),n.e(7141),n.e(8763),n.e(1601),n.e(6293),n.e(574)]).then(n.bind(n,60574)).then((({RelationsLayoutFormModule:t})=>t))}],staticRoutesAfter:[{path:"accessDenied",loadComponent:()=>n.e(9264).then(n.bind(n,69264)).then((({AccessDeniedComponent:t})=>t))},{path:"**",loadComponent:()=>n.e(8831).then(n.bind(n,88831)).then((({NotFoundComponent:t})=>t))}]};var yt=n(99079),bt=n(33215),Ct=n(95511),_t=n(35100),wt=n(99452),xt=n(57292),Ot=n(9551),It=n(39449),Pt=n(91919),St=n(23547),kt=n(41089),Tt=n(91846),Rt=n(7384),Lt=n(14602),Et=n(77342),Mt=n(94550),Dt=n(62250),At=n(43978),Nt=n(53490),Ft=n(75772),Yt=n(1401),jt=n(31579),zt=n(33018),Vt=n(89720),qt=n(93192),Ut=n(29706),Zt=n(57177),$t=n(53556),Qt=n(80406),Ht=n(91972),Bt=n(54248),Gt=n(9249),Jt=n(15247),Xt=n(85980),Kt=n(53221),Wt=n(93499),te=n(21572),ee=n(43770),ne=n(13969),oe=n(79162),ie=n(69517),se=n(21340),re=n(34116),ae=n(8086),ce=n(70263),ue=n(66501),le=n(23347),de=n(89968),pe=n(88842),he=n(43801),ge=n(38327);class me extends Ct.v{get locale(){return"en"}get localeChange(){return pe.E}}me.ɵfac=function(){let t;return function(e){return(t||(t=he.n5(me)))(e||me)}}(),me.ɵprov=ge.Yz({token:me,factory:me.ɵfac});var fe=n(26571);const ve=[It.t,Pt.H,St.w,kt.Q,bt.B,{useFactory:()=>new Tt.b("Server je mimo prevádzky."),provide:Tt.b},{useFactory:()=>new Rt.R("Server neodpovedal v stanovenom čase."),provide:Rt.R},{provide:Ct.v,useClass:me},Lt.o,Et.E,Nt.B,{provide:Ft.u,useValue:{texts:{loading:"Loading data ...",noData:"No data for requested parameters",notLoaded:"Data have not been loaded yet"}}},{provide:Yt.xS,useValue:jt.G},{provide:zt.P,useValue:{itemsPerPageValues:[15,30,60],initialItemsPerPage:15}},{provide:Yt.LL,useValue:Zt.j},{provide:Vt._,useValue:{showButtonVisible:!1}},{provide:qt.T,useValue:{storageIppName:"all-grid-ipp"}},{provide:Ut.eP,useValue:{cssClasses:{containerDiv:"table-container thin-scrollbar"}}},{provide:Ut.ss,useValue:{cssClasses:{thDefault:"header-default fixed-header"}}},{provide:ee.M,useValue:{texts:{nothingSelected:"Nothing selected"}}},{provide:v.oF,useClass:Ot.H},{provide:v.T0,useClass:yt.w},{provide:xt.b,useFactory:t=>new xt.b(null,le.ke[t?.settingsLogging?.consoleLogLevel]),deps:[P.g]},{provide:fe.L,useClass:P.l},{provide:_t.H,useFactory:t=>{const e=new _t.H;return e.setEnabled(t.settingsDebugging?.debugData),e},deps:[P.g]},{provide:ne.R2,useClass:oe.Fh},ie.V,oe.Dx,{provide:ie.v,useValue:{locale:de.Z}},{provide:$t.xY,useValue:{required:"Položka je povinná.",number:"Položka musí byť číslo.",pattern:"Položka nie je v požadovanom formáte.",minValue:"Nedodržaná minimálna povolená hodnota.",maxValue:"Nedodržaná maximálna povolená hodnota.",minlength:"Nedodržaná minimálna dĺžka.",maxlength:"Nedodržaná maximálna dĺžka.",birthNumber:"Nesprávny formát rodného čísla.",email:"Položka musí byť email.",availableUsername:"Prihlasovacie meno je použité"}},{provide:$t.gt,useValue:{container:Qt.f}},wt.d,{provide:Xt.H,useExisting:v.wn},{provide:Mt._k,useExisting:v.wn},{provide:Mt.wN,useExisting:v.wn},{provide:Ht.r,useValue:new Ht.r(Bt.b)},{provide:Gt.L,useValue:{confirmationText:"Prajete si pokračovať?",dialogCancelText:"Nie",dialogConfirmText:"Áno"}},Jt.G,{provide:Xt.w,useValue:{assetsPathPrefix:"dist/md",baseUrl:"/pomoc"}},ue.F,Kt.Q,{provide:se.fD,useValue:[re.U,ae.m,ce.L,Wt.m]},{provide:Mt.r7,useValue:t=>t?.error?.errors?t?.error?.errors:(0,i.HD)(t?.error)?[t?.error]:(0,i.wV)(t?.error)?[JSON.stringify(t?.error)]:[t.message]},{provide:Mt.Sm,useValue:t=>t?.error?.validationErrors?t?.error?.validationErrors:null},{provide:te.IR,useValue:{404:[Dt.A,t=>new At.fM(t.errors)]}}];function ye(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class be{getTranslation(t){return new s.y((e=>{var o;(o=function*(){const o=yield n(25048)(`./${t}.json`);e.next(o.default),e.complete()},function(){var t=this,e=arguments;return new Promise((function(n,i){var s=o.apply(t,e);function r(t){ye(s,n,i,r,a,"next",t)}function a(t){ye(s,n,i,r,a,"throw",t)}r(void 0)}))})()}))}}be.ɵfac=function(t){return new(t||be)},be.ɵprov=ge.Yz({token:be,factory:be.ɵfac});var Ce=n(38707);class _e{}_e.ɵfac=function(t){return new(t||_e)},_e.ɵmod=E.oA({type:_e}),_e.ɵinj=ge.cJ({imports:[Ce.s]});var we=n(4503),xe=(n(79144),n(45943));class Oe{}Oe.ɵfac=function(t){return new(t||Oe)},Oe.ɵmod=E.oA({type:Oe}),Oe.ɵinj=ge.cJ({imports:[xe.z]});var Ie=n(14669);class Pe{}Pe.ɵfac=function(t){return new(t||Pe)},Pe.ɵmod=E.oA({type:Pe}),Pe.ɵinj=ge.cJ({imports:[we._,Q.$u,Ie.V]});var Se=n(11776);class ke{constructor(t){this._logger=t}handle(t){return this._logger.debug(`MISSING TRANSLATION: ${t.key}`),`MISSING: '${t.key}'`}}ke.ɵfac=function(t){return new(t||ke)(Se.LF(v.bZ))},ke.ɵprov=ge.Yz({token:ke,factory:ke.ɵfac});let Te=class{};Te.ɵfac=function(t){return new(t||Te)},Te.ɵmod=E.oA({type:Te}),Te.ɵinj=ge.cJ({providers:ve,imports:[c.b2.withServerTransition({appId:"my-app-id"}),st.JF,lt.m,ut._,dt.J.forRoot(),rt.Bz,m.m,Pe,ct.R.forRoot(),mt.c8.forRoot({backend:ft.PD}),pt.aw.forRoot({loader:{provide:ht.Z,useClass:be},...r.v.configuration.debugTranslations?{missingTranslationHandler:{provide:gt.g,useClass:ke}}:{},useDefaultLang:!r.v.configuration.debugTranslations})]}),Te=(0,it.gn)([(0,at.P)([],vt)],Te);class Re{}Re.ɵfac=function(t){return new(t||Re)},Re.ɵmod=E.oA({type:Re,bootstrap:[ot]}),Re.ɵinj=ge.cJ({providers:[{provide:g.g,useFactory:()=>new g.g(r.v.configuration.debug,!1)}],imports:[Te,p.PW,h.Cu,m.m.forRoot({cheatSheetCloseEsc:!0})]}),(0,u.G)();const Le=(0,c.q6)();(0,l.ZA)(Le.bootstrapModule(Re),(t=>{t.injector.get(d.I)?.clearAndDeactivate()}),r.v.configuration.debug)},26571:(t,e,n)=>{"use strict";n.d(e,{L:()=>o});const o=new(n(40296).O)("SETTINGS_STORAGE")},4503:(t,e,n)=>{"use strict";n.d(e,{_:()=>g});var o=n(27052),i=n(88382),s=n(38476),r=n(2175),a=n(39163),c=n(35285),u=n(99874),l=n(14454),d=n(94054),p=n(77842),h=n(38327);class g{}g.ɵfac=function(t){return new(t||g)},g.ɵmod=p.oA({type:g}),g.ɵinj=h.cJ({imports:[o.e,i.Bz,s.W,r.F,c.L,a.z,d.aw,l.N,u.o]})},79144:(t,e,n)=>{"use strict";n.d(e,{N:()=>p});var o=n(48659),i=n(84450),s=n(35648),r=n(25583),a=n(25626),c=n(86948),u=n(77880),l=n(77842),d=n(38327);class p{}p.ɵfac=function(t){return new(t||p)},p.ɵmod=l.oA({type:p}),p.ɵinj=d.cJ({imports:[o.U,i.r,a.F,s.A,r.r,c.F,u.j]})},40043:(t,e,n)=>{"use strict";n.d(e,{_:()=>u});var o=n(26159),i=n(46480),s=n(86463),r=n(11776),a=n(38327);const c="DEMO_CUSTOM_COMPONENTS";class u extends o.t{get registeredChange(){return this._registeredChange.asObservable()}constructor(t){super(),this._store=t,this._registeredChange=new s.x}toggleRegisteredComponent(t){const e=this._store.get(c)??{};e[t]?delete e[t]:e[t]={},this._store.set(c,e),this._registeredChange.next()}getRegisteredComponents(){return Object.keys(this._store.get(c)??{})}getConfigurationForComponent(t){const e=this._store.get(c)??{};return e[t]?e[t]:null}setConfigurationForComponent(t,e){const n=this._store.get(c)??{};n[t]&&(n[t]=e,this._store.set(c,n),this._registeredChange.next())}}u.ɵfac=function(t){return new(t||u)(r.LF(i.T0))},u.ɵprov=a.Yz({token:u,factory:u.ɵfac})},64527:(t,e,n)=>{"use strict";n.d(e,{l:()=>f,g:()=>u});var o=n(57466),i=n(86463),s=n(26571),r=n(11776),a=n(55845),c=n(38327);class u{get settings(){return this._settings}get settingsDebugging(){return this._settingsDebugging}get settingsLogging(){return this._settingsLogging}get settingsChange(){return this._settingsChangeSubject.asObservable()}get settingsDebuggingChange(){return this._settingsDebuggingChangeSubject.asObservable()}constructor(t,e){this._storage=e,this._settings=this._storage.get(),this._settingsDebugging=this._storage.getDebugging(),this._settingsLogging=this._storage.getLogging(),this._settingsChangeSubject=new i.x,this._settingsDebuggingChangeSubject=new i.x,this._settingsValueDiff=t.find(this._settings).create(),this._settingsValueDiff.diff(this._settings),this._settingsDebuggingValueDiff=t.find(this._settingsDebugging).create(),this._settingsDebuggingValueDiff.diff(this._settingsDebugging)}setSettings(t){this._settings=(0,o.l7)(!0,{},this._settings,t),this._storage.set(t);const e=this._settingsValueDiff.diff(t);e&&e.forEachChangedItem((t=>{this._settingsChangeSubject.next(t.key)}))}setDebuggingSettings(t){this._settingsDebugging=(0,o.l7)(!0,{},this._settingsDebugging,t),this._storage.setDebugging(t);const e=this._settingsDebuggingValueDiff.diff(t);e&&e.forEachChangedItem((t=>{this._settingsDebuggingChangeSubject.next(t.key)}))}setLoggingSettings(t){this._settingsLogging=(0,o.l7)(!0,{},this._settingsLogging,t),this._storage.setLogging(t)}}u.ɵfac=function(t){return new(t||u)(r.LF(a.a),r.LF(s.L))},u.ɵprov=c.Yz({token:u,factory:u.ɵfac,providedIn:"root"});var l=n(49108),d=n.n(l),p=n(87667);const h="general-settings",g="debugging-settings",m="logging-settings";class f{get(){let t=d().get(h);return t=(0,o.l7)(!0,{},{theme:p.v.general.theme,language:p.v.general.language},t),t}set(t){d().set(h,t)}getDebugging(){let t=d().get(g);return t=(0,o.l7)(!0,{},{consoleEnabled:p.v.debug.consoleEnabled,debugData:p.v.debug.debugData},t),t}setDebugging(t){d().set(g,t)}getLogging(){let t=d().get(m);return t=(0,o.l7)(!0,{},{consoleLogLevel:p.v.logging.consoleLogLevel},t),t}setLogging(t){d().set(m,t)}}f.ɵfac=function(t){return new(t||f)},f.ɵprov=c.Yz({token:f,factory:f.ɵfac})},39940:(t,e,n)=>{"use strict";n.d(e,{T:()=>i,u:()=>s});const o=Symbol("descendantsGetter");function i(t){return function(e){return Object.defineProperty(e,o,{writable:!1,configurable:!1,enumerable:!1,value:t}),e}}function s(t){return o in t?t[o]:null}},10517:(t,e,n)=>{"use strict";n.d(e,{G5:()=>I,Nc:()=>w,TA:()=>x,NX:()=>O,r4:()=>P,f4:()=>T,DN:()=>k,qF:()=>S});var o=n(60640),i=n(11776),s=n(65569),r=n(44677),a=n(12193),c=n(13457),u=n(44055),l=n(8477),d=n(46480),p=n(38327);function h(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class g{constructor(t){this._logger=t}tryToGet(t){var e,o=this;return(e=function*(){if("@anglr/dynamic/layout-editor"!=t.package)return null;try{if(o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),"layout-designer"==t.name)return yield Promise.all([n.e(8282),n.e(2526)]).then(n.bind(n,45800))}catch(e){o._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found, reason:"+e,{name:t.name,package:t.package})}return o._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found",{name:t.name,package:t.package}),null},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){h(s,o,i,r,a,"next",t)}function a(t){h(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}g.ɵfac=function(t){return new(t||g)(i.LF(d.bZ,8))},g.ɵprov=p.Yz({token:g,factory:g.ɵfac});var m=n(83434),f=n(89651),v=n(94596),y=n(97149),b=n(9142);function C(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const _=function(){var t,e=(t=function*(t,e){const n=yield(0,r.L)(t,e),o=yield(0,b.k)(t,e),i=n?.data;if(e?.debug("layoutDesignerTypeExtractor: trying to extract default dynamic data"),!i?.layoutEditorDesignerType)return null;const s=yield i?.layoutEditorDesignerType;return s?{data:s,childExtensions:o?.childExtensions,extensions:o?.extensions}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){C(s,o,i,r,a,"next",t)}function a(t){C(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),w={provide:l.gM,useFactory:t=>new s.$([_],t),deps:[[new o.Fi,d.bZ]],multi:!0},x={provide:l.Aw,useClass:g,multi:!0},O={provide:l.xM,useValue:function(t){return{id:`${t.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:t}}}},I={provide:f.FX,useFactory:t=>new s.$([r.L],t),deps:[[new o.Fi,d.bZ]],multi:!0},P={provide:f.RI,useValue:[v.$]},S={provide:f.QT,useFactory:()=>new a.S((0,i.f3)(f.sc),(0,i.f3)(f.FX),y.G,(0,i.f3)(d.bZ,{optional:!0})??void 0,!0)},k={provide:c.Qh,useExisting:m.t},T={provide:f.dB,useClass:u.Y}},89651:(t,e,n)=>{"use strict";n.d(e,{RI:()=>C,Yh:()=>_,dB:()=>I,FX:()=>w,QT:()=>O,sc:()=>x,dK:()=>P});var o=n(40296),i=n(20350),s=n(39273),r=n(43801),a=n(77842),c=n(47098),u=n(76405),l=n(65589),d=n(73301),p=n(70983),h=n(77470),g=n(27635),m=n(61939);class f extends s.L{}f.ɵfac=function(){let t;return function(e){return(t||(t=r.n5(f)))(e||f)}}(),f.ɵcmp=a.Xp({type:f,selectors:[["input-boolean"]],features:[c.q],decls:2,vars:3,consts:[["type","checkbox",1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(u._U(0,"input",0),l.AL(1,"asRequired")),2&t&&d.Q("formControl",l.lc(1,1,e._control))},dependencies:[p.W,h.JJ,g.oH,m.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var v=n(21147),y=n(49280);class b extends s.L{}b.ɵfac=function(){let t;return function(e){return(t||(t=r.n5(b)))(e||b)}}(),b.ɵcmp=a.Xp({type:b,selectors:[["textarea-input"]],features:[c.q],decls:2,vars:3,consts:[[1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(u._U(0,"textarea",0),l.AL(1,"asRequired")),2&t&&d.Q("formControl",l.lc(1,1,e._control))},dependencies:[y.Fj,h.JJ,g.oH,m.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});const C=new o.O("LAYOUT_EDITOR_PROPERTY_METADATA_PROPERTIES"),_=new o.O("LAYOUT_EDITOR_PROPERTY_TYPE_CONTROLS",{providedIn:"root",factory:()=>({inputString:i.q,inputBoolean:f,selectValue:v.f,textarea:b})}),w=new o.O("LAYOUT_MODULE_TYPES_DATA_EXTRACTORS"),x=new o.O("LAYOUT_MODULE_TYPES_PROVIDERS"),O=new o.O("LAYOUT_MODULE_TYPES_LOADER"),I=new o.O("LAYOUT_HISTORY_MANAGER"),P=new o.O("REFRESH_PALETTE_OBSERVABLES")},94596:(t,e,n)=>{"use strict";n.d(e,{$:()=>o});const o=Symbol("LayoutPropertyMetadata")},97149:(t,e,n)=>{"use strict";n.d(e,{G:()=>h,_:()=>p});var o=n(2991),i=n(43939),s=n(10517),r=n(85902),a=n(43671),c=n(83434),u=n(98906),l=n(88271),d=n(26938);function p(t=!0){return[...t?[s.Nc]:[],...(0,o._)(),s.TA,s.G5,s.r4,s.qF,r.T,a.L,c.t,u.z,l._,d.$,s.f4,s.DN]}const h=function(t){return!((0,i.fp)(t?.data)||!Array.isArray(t.data))}},20350:(t,e,n)=>{"use strict";n.d(e,{q:()=>g});var o=n(39273),i=n(43801),s=n(77842),r=n(47098),a=n(76405),c=n(65589),u=n(73301),l=n(49280),d=n(77470),p=n(27635),h=n(61939);class g extends o.L{}g.ɵfac=function(){let t;return function(e){return(t||(t=i.n5(g)))(e||g)}}(),g.ɵcmp=s.Xp({type:g,selectors:[["input-string"]],features:[r.q],decls:2,vars:3,consts:[["type","text",1,"properties-form-control",3,"formControl"]],template:function(t,e){1&t&&(a._U(0,"input",0),c.AL(1,"asRequired")),2&t&&u.Q("formControl",c.lc(1,1,e._control))},dependencies:[l.Fj,d.JJ,p.oH,h.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},39273:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var o=n(79440),i=n(68961),s=n(77842);function r(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function a(t){r(s,o,i,a,c,"next",t)}function c(t){r(s,o,i,a,c,"throw",t)}a(void 0)}))}}class c{get control(){return this._control}set control(t){this._control=t,this._controlSet()}constructor(t){this._changeDetector=t,this._initialized=!1,this.values=[]}ngOnInit(){var t=this;return a((function*(){t._initialized||(t._initialized=!0,yield t._initialize())}))()}initialize(){var t=this;return a((function*(){yield t.ngOnInit()}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}_controlSet(){}}c.ɵfac=function(t){return new(t||c)(o.Y(i.s))},c.ɵdir=s.lG({type:c,inputs:{control:"control",values:"values"}})},21147:(t,e,n)=>{"use strict";n.d(e,{f:()=>b});var o=n(39273),i=n(76405),s=n(73301),r=n(43801),a=n(77842),c=n(47098),u=n(65589),l=n(15686),d=n(66794),p=n(12311),h=n(24881),g=n(17790),m=n(77470),f=n(27635),v=n(61939);function y(t,e){if(1&t&&i._U(0,"option",2),2&t){const t=e.$implicit;s.Q("value",t)("text",t)}}class b extends o.L{}b.ɵfac=function(){let t;return function(e){return(t||(t=r.n5(b)))(e||b)}}(),b.ɵcmp=a.Xp({type:b,selectors:[["select-value"]],features:[c.q],decls:3,vars:4,consts:[[1,"properties-form-control",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"]],template:function(t,e){1&t&&(i.Tg(0,"select",0),u.AL(1,"asRequired"),l.Y(2,y,1,2,"option",1),i.qZ()),2&t&&(s.Q("formControl",u.lc(1,2,e._control)),d.x(2),s.Q("ngForOf",e.values))},dependencies:[p.sg,h.YN,g.Kr,h.EJ,m.JJ,f.oH,v.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},98906:(t,e,n)=>{"use strict";n.d(e,{z:()=>s});var o=n(86463),i=n(38327);class s{constructor(){this._dragging=!1,this._draggingChange=new o.x}get dragging(){return this._dragging}get draggingChange(){return this._draggingChange.asObservable()}setDragging(t){this._dragging!=t&&(this._dragging=t,this._draggingChange.next())}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},26938:(t,e,n)=>{"use strict";n.d(e,{$:()=>v});var o=n(8477),i=n(46480),s=n(2032),r=n(60640),a=n(12193),c=n(39940);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))}}let d=class{[Symbol.asyncIterator](){let t=0;const e=this.initPromise??(this.initPromise=this.getInitPromise()),n=this.items;return{next:()=>l((function*(){return yield e,t<n.length?{value:n[t++],done:!1}:{value:n[t-1],done:!0}}))()}}constructor(t,e,n){this.layoutMetadata=t,this.loader=e,this.logger=n,this.items=[],this.initialized=!1,this.initPromise=null}forEach(t){var e=this;return l((function*(){yield e.initPromise??(e.initPromise=e.getInitPromise());for(const n of e.items)t(n.metadata,n.parent,n.levelIndex,n.level)}))()}getComponents(){var t=this;return l((function*(){yield t.getComponent(t.layoutMetadata,null,0,0)}))()}getComponent(t,e,n,o){var i=this;return l((function*(){const s={metadata:t,parent:e,levelIndex:n,level:o};i.items.push(s);const r=yield i.loader.loadItem(t);if(!r)return void i.logger?.debug("LayoutComponentsIterator: failed to get dynamic component type for iterator! {@data}",{package:t.package,name:t.name});const a=(0,c.u)(r.data);if(!a)return;const u=a(t.options);for(let t=0;t<u.length;t++)yield i.getComponent(u[t],s,t,o+1)}))()}getInitPromise(){var t=this;return l((function*(){t.initialized||(t.initialized=!0,yield t.getComponents())}))()}};function p(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){p(s,o,i,r,a,"next",t)}function a(t){p(s,o,i,r,a,"throw",t)}r(void 0)}))}}d=(0,s.gn)([(0,s.fM)(1,(0,r.tB)(o.Vl)),(0,s.w6)("design:paramtypes",[Object,a.S,Object])],d);let g=class{[Symbol.asyncIterator](){let t=0;const e=this.initPromise??(this.initPromise=this.getInitPromise()),n=this.items;return{next:()=>h((function*(){return yield e,t<n.length?{value:n[t++],done:!1}:{value:n[t-1],done:!0}}))()}}constructor(t,e,n){this.layoutMetadata=t,this.loader=e,this.logger=n,this.items=[],this.initialized=!1,this.initPromise=null}getChildren(){var t=this;return h((function*(){yield t.getComponent(t.layoutMetadata)}))()}getComponent(t){var e=this;return h((function*(){const n=yield e.loader.loadItem(t);if(!n)return void e.logger?.debug("LayoutComponentsChildrenIterator: failed to get dynamic component type for children iterator! {@data}",{package:t.package,name:t.name});const o=(0,c.u)(n.data);if(!o)return;const i=o(t.options);for(let t=0;t<i.length;t++)e.items.push({index:t,metadata:i[t]})}))()}getInitPromise(){var t=this;return h((function*(){t.initialized||(t.initialized=!0,yield t.getChildren())}))()}};g=(0,s.gn)([(0,s.fM)(1,(0,r.tB)(o.Vl)),(0,s.w6)("design:paramtypes",[Object,a.S,Object])],g);var m=n(11776),f=n(38327);class v{constructor(t,e){this.loader=t,this.logger=e}getIteratorFor(t){return new d(t,this.loader,this.logger)}getChildrenIteratorFor(t){return new g(t,this.loader,this.logger)}}v.ɵfac=function(t){return new(t||v)(m.LF(o.Vl),m.LF(i.bZ,8))},v.ɵprov=f.Yz({token:v,factory:v.ɵfac})},85902:(t,e,n)=>{"use strict";n.d(e,{T:()=>c});var o=n(8477),i=n(46480),s=n(11776),r=n(38327);function a(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class c{constructor(t,e){this._loader=t,this._logger=e,this._cache={}}extractMetadata(t){var e,n=this;return(e=function*(){const e=`${t.package}-${t.name}`;if(n._cache[e])return n._cache[e];const o=yield n._loader.loadItem(t);if(!o)return null;const i=o.data;if(!i.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:t.package,name:t.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:t.package,name:t.name});const s=yield i.layoutEditorMetadata;return Object.freeze(s),n._cache[e]=s,s},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){a(s,o,i,r,c,"next",t)}function c(t){a(s,o,i,r,c,"throw",t)}r(void 0)}))})()}}c.ɵfac=function(t){return new(t||c)(s.LF(o.Vl),s.LF(i.bZ,8))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},83434:(t,e,n)=>{"use strict";n.d(e,{t:()=>d});var o=n(46480),i=n(43939),s=n(57466),r=n(23199),a=n(86463),c=n(11776),u=n(38327),l=n(56454);class d{get selectedComponent(){return this._selectedComponent}get highlightedComponent(){return this._highlightedComponent}get draggedOverComponent(){return this._draggedOverComponent}get root(){return(0,i.fp)(this.rootComponentId)?null:this.components[this.rootComponentId]}get layoutChange(){return this.layoutChangeSubject.asObservable()}get selectedChange(){return this._selectedChange.asObservable()}get highlightedChange(){return this._highlightedChange.asObservable()}get displayNameChange(){return this._displayNameChanges.asObservable()}get draggedOverComponentChange(){return this._draggedOverComponentChange.asObservable()}get flatTree(){return this._flatTree??(this._flatTree=this._buildFlatTree())}constructor(t,e){this._editorHotkeys=t,this._logger=e,this.initSubscriptions=new r.w0,this.components={},this.rootComponentId=null,this._selectedComponent=null,this._highlightedComponent=null,this.layoutChangeSubject=new a.x,this._selectedChange=new a.x,this._highlightedChange=new a.x,this._displayNameChanges=new a.x,this._flatTree=null,this._draggedOverComponent=null,this._draggedOverComponentChange=new a.x,this.initSubscriptions.add(this._editorHotkeys.delete.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];t?.parent&&(t.parent.component.removeDescendant(this.selectedComponent),t.parent.component.invalidateVisuals())}))),this.initSubscriptions.add(this._editorHotkeys.copy.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];this.metadataClipboard=t.component.options?.typeMetadata}))),this.initSubscriptions.add(this._editorHotkeys.cut.subscribe((()=>{if(!this.selectedComponent)return;const t=this.components[this.selectedComponent];t?.parent&&(this.metadataClipboard=t.component.options?.typeMetadata,t.parent.component.removeDescendant(this.selectedComponent),t.parent.component.invalidateVisuals())}))),this.initSubscriptions.add(this._editorHotkeys.paste.subscribe((()=>{if(!this.selectedComponent||!this.metadataClipboard)return;const t=this.components[this.selectedComponent],e=`${this.metadataClipboard.name}-${(0,s.Ox)(12)}`;t.component.canDrop?t.component.addDescendant({index:0,metadata:(0,s.l7)({},this.metadataClipboard,{id:e,displayName:e}),parentId:null}):t.parent?.component.canDrop&&t.parent.component.addDescendant({index:t.component.index+1,metadata:(0,s.l7)({},this.metadataClipboard,{id:e,displayName:e}),parentId:null})})))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}selectComponent(t){this._selectedComponent=t??null,this._selectedChange.next()}unselectComponent(){this._selectedComponent=null,this._selectedChange.next()}highlightComponent(t){this._highlightedComponent=t??null,this._highlightedChange.next()}cancelHighlightedComponent(){this._highlightedComponent=null,this._highlightedChange.next()}dragOverComponent(t){t!==this._draggedOverComponent&&(this._draggedOverComponent=t??null,this._draggedOverComponentChange.next())}cancelDragOverComponent(){this._draggedOverComponent=null,this._draggedOverComponentChange.next()}registerLayoutDesignerComponent(t,e,n){if((0,i.fp)(n)&&(this.rootComponentId=e),this.components[e])return this._logger?.error(`LayoutEditorMetadataManager: Component with id ${e} is already registered!`),!1;const o=n?this.components[n]:null,s={component:t,parent:o,children:[]};return this.components[e]=s,o&&o.children.push(s),this._flatTree=null,this.layoutChangeSubject.next(),this._logger?.debug("LayoutEditorMetadataManager: Registering component {@id}",e),!0}getComponent(t){return this.components[t]?.component??null}getParent(t){return this.components[t]?.parent?.component??null}getIndex(t){const e=this.components[t];return e&&e.parent?e.parent.children.indexOf(e):null}getComponentDef(t){return this.components[t]??null}unregisterLayoutDesignerComponent(t){const e=this.components[t];if(delete this.components[t],e?.parent){const t=e.parent.children.indexOf(e);e.parent.children.splice(t,1)}t===this.rootComponentId&&(this.rootComponentId=null),this._flatTree=null,this.layoutChangeSubject.next(),this._logger?.debug("LayoutEditorMetadataManager: Unregistering component {@id}",t)}displayNameUpdated(){this._displayNameChanges.next()}getMetadata(){return(0,i.fp)(this.rootComponentId)||!this.components[this.rootComponentId]?null:this.components[this.rootComponentId].component.options?.typeMetadata??null}_buildFlatTree(){if((0,i.fp)(this.rootComponentId))return[];const t=this.components[this.rootComponentId];return t?this._buildFlatTreeForComponent(t):[]}_buildFlatTreeForComponent(t){let e=[t];for(const n of t.children)e=e.concat(this._buildFlatTreeForComponent(n));return e}}d.ɵfac=function(t){return new(t||d)(c.LF(l.z),c.LF(o.bZ,8))},d.ɵprov=u.Yz({token:d,factory:d.ɵfac})},43671:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var o=n(46480),i=n(57466),s=n(89651),r=n(11776),a=n(38327);class c{constructor(t,e){this._layoutPropertiesSymbols=t,this._logger=e}extract(t){if(!t)return null;this._logger?.debug(`LayoutEditorPropertyMetadataExtractor: Trying to extract properties metadata '${t.name}'`);const e={};for(const n of this._layoutPropertiesSymbols){const o=Reflect.get(t.prototype,n);(0,i.l7)(!0,e,o)}return e}}c.ɵfac=function(t){return new(t||c)(r.LF(s.RI),r.LF(o.bZ,8))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac})},88271:(t,e,n)=>{"use strict";n.d(e,{_:()=>c});var o=n(46480),i=n(86463),s=n(11776),r=n(38327);const a="LIVE_EVENTS_STATUS";class c{get enabled(){return this.ɵenabled}get enabledChange(){return this.ɵenabledChange.asObservable()}constructor(t){this.storage=t,this.ɵenabled=!1,this.ɵenabledChange=new i.x,this.ɵenabled=this.storage.get(a)??!1}setEnabled(t){this.ɵenabled!=t&&(this.storage.set(a,t),this.ɵenabled=t,this.ɵenabledChange.next())}}c.ɵfac=function(t){return new(t||c)(s.LF(o.T0))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},79842:(t,e,n)=>{"use strict";n.d(e,{Qd:()=>et,Wh:()=>W,Kc:()=>K,AL:()=>G,Fy:()=>J,$R:()=>X,Sf:()=>tt});var o=n(2991),i=n(8477),s=n(56224),r=n(47432),a=n(77291),c=n(91861),u=n(79763),l=n(54870),d=n(97149),p=n(26938),h=n(85902),g=n(14389),m=n(46480),f=n(89651),v=n(20809),y=n(11776),b=n(38327),C=n(60152);function _(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class w{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsNodesProvider: trying to get node {@item}",{name:t.name,package:t.package});const e=yield n._componentsRegister.getType(t.name);return e?{default:e,displayName:yield n._componentsRegister.getDisplayName(t.name),scope:yield n._componentsRegister.getScope(t.name)}:null},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){_(s,o,i,r,a,"next",t)}function a(t){_(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function x(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}w.ɵfac=function(t){return new(t||w)(y.LF(C.C),y.LF(m.bZ,8))},w.ɵprov=b.Yz({token:w,factory:w.ɵfac});class O{constructor(t,e,n){this._componentsRegister=t,this._loader=e,this._logger=n}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsTypesProvider: trying to get relations types {@item}",{name:t.name,package:t.package});const e=yield n._componentsRegister.types;if(!e)return null;const o=[];for(const t of e)(yield n._loader.loadItem({package:"layout-components",name:t}))?.data&&o.push(t);return{default:o}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){x(s,o,i,r,a,"next",t)}function a(t){x(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function I(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}O.ɵfac=function(t){return new(t||O)(y.LF(C.C),y.LF(c.fI),y.LF(m.bZ,8))},O.ɵprov=b.Yz({token:O,factory:O.ɵfac});class P{constructor(t){this._logger=t}tryToGet(t){var e,o=this;return(e=function*(){if("custom-components"!=t.package)return null;switch(o._logger?.debug("CustomComponentsDynamicModuleItemsProvider: trying to get node {@item}",{name:t.name,package:t.package}),t.name){case"placeholder":return yield Promise.all([n.e(183),n.e(8154)]).then(n.bind(n,98154));case"placeholderContainer":return yield n.e(2645).then(n.bind(n,22645));case"componentInputs":return yield n.e(7433).then(n.bind(n,97433));case"componentOutputs":return yield n.e(4505).then(n.bind(n,54505));default:return yield Promise.all([n.e(183),n.e(1990)]).then(n.bind(n,61990))}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){I(s,o,i,r,a,"next",t)}function a(t){I(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}P.ɵfac=function(t){return new(t||P)(y.LF(m.bZ,8))},P.ɵprov=b.Yz({token:P,factory:P.ɵfac});var S=n(26159);function k(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class T{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){var e,n=this;return(e=function*(){if("custom-components"!=t.package)return null;n._logger?.debug("CustomComponentsDynamicModuleTypesProvider: trying to get relations types {@item}",{name:t.name,package:t.package});const e=yield n._componentsRegister.getRegisteredComponents();return e.length?{default:[...e,"placeholder"]}:{default:["placeholder"]}},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){k(s,o,i,r,a,"next",t)}function a(t){k(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function R(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}T.ɵfac=function(t){return new(t||T)(y.LF(S.t),y.LF(m.bZ,8))},T.ɵprov=b.Yz({token:T,factory:T.ɵfac});class L{constructor(t){this._logger=t}tryToGet(t){var e,n=this;return(e=function*(){return"custom-components"!=t.package?null:(n._logger?.debug("CustomComponentsDynamicModuleRelationsProvider: trying to get relations types {@item}",{name:t.name,package:t.package}),{default:["componentInputs","componentOutputs"]})},function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function r(t){R(s,o,i,r,a,"next",t)}function a(t){R(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}L.ɵfac=function(t){return new(t||L)(y.LF(m.bZ,8))},L.ɵprov=b.Yz({token:L,factory:L.ɵfac});const E={provide:c.n7,useClass:w,multi:!0},M={provide:c.GP,useClass:O,multi:!0},D={provide:i.Aw,useClass:P,multi:!0},A={provide:f.sc,useClass:T,multi:!0},N={provide:c.GP,useClass:L,multi:!0},F={provide:c.n7,useClass:P,multi:!0};v.B6;var Y=n(2032),j=n(45069),z=n(49414),V=n(23199),q=n(80734);function U(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class Z extends a.a{constructor(t,e){super(),this.layoutManager=t,this.componentRegister=e,this.initSubscriptions=new V.w0,this.initSubscriptions.add(this.layoutManager.layoutChange.subscribe((()=>this.getScopes()))),this.getScopes()}ngOnDestroy(){this.initSubscriptions.unsubscribe()}getScopes(){var t,e=this;return(t=function*(){e.ɵScopes=[];const t=yield e.componentRegister.types;for(const n of t){let t=null;(t=yield e.componentRegister.getScope(n))&&e.ɵScopes.indexOf(t)<0&&e.ɵScopes.push(t)}e.scopesChangeSubject.next()},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){U(s,o,i,r,a,"next",t)}function a(t){U(s,o,i,r,a,"throw",t)}r(void 0)}))})()}}function $(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function Q(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){$(s,o,i,r,a,"next",t)}function a(t){$(s,o,i,r,a,"throw",t)}r(void 0)}))}}function H(t){var e,n,o,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(o&&null!=(e=t[o]))return new B(e.call(t));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function B(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return B=function(t){this.s=t,this.n=t.next},B.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new B(t)}function G(){return[...(0,o._)(),...(0,s.Aq)()]}function J(){return[...G(),D]}function X(){const t=(0,r.TN)();return t.splice(t.indexOf(a.a),1),[...(0,d._)(!1),...t,E,M,q.n,C.C,p.$,{provide:a.a,useClass:Z},{provide:c.dK,useFactory:t=>t.layoutChange,deps:[q.n],multi:!0},(0,g.XW)("layout-components")]}function K(t,e=S.t){return[F,N,D,(0,g.XW)("custom-components"),{provide:S.t,useClass:e},...t]}function W(t,e=S.t){return[D,A,(0,g.XW)("custom-components"),{provide:S.t,useClass:e},...t]}function tt(t){return[...X(),u.I_,u.UB,{provide:l.w,useClass:t},(0,g.XW)("static-components")]}function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=Q((function*(t,e){const n=e.get(i.qO),o=yield n.getMetadata(t),s=e.get(m.bZ);if(!o)return s.warn("ContentOptionsPropertiesControlSAComponent: missing layout metadata for custom component!"),null;const r=e.get(p.$).getIteratorFor(o),a=e.get(h.T),c={};var u,l=!1,d=!1;try{for(var g,f=H(r);l=!(g=yield f.next()).done;l=!1){const t=g.value,e=yield a.extractMetadata(t.metadata);e?c[t.metadata.id]={metadata:t.metadata,editorMetadata:e}:s.warn("ContentOptionsPropertiesControlSAComponent: missing metadata for component!")}}catch(t){d=!0,u=t}finally{try{l&&null!=f.return&&(yield f.return())}finally{if(d)throw u}}return{contentMetadata:c,metadata:o}}))).apply(this,arguments)}Z.ɵfac=function(t){return new(t||Z)(y.LF(q.n),y.LF(C.C))},Z.ɵprov=b.Yz({token:Z,factory:Z.ɵfac}),(0,Y.gn)([(0,j.C)(10),(0,z.S)(),(0,Y.w6)("design:type",Function),(0,Y.w6)("design:paramtypes",[]),(0,Y.w6)("design:returntype",Promise)],Z.prototype,"getScopes",null)},62568:(t,e,n)=>{"use strict";n.d(e,{m:()=>i});var o=n(77842);class i{transform(t,e){return e?.editorMetadata.metaInfo?.optionsMetadata?.propertiesMetadata?.find((e=>e.modelType.name==t))?.modelType??null}}i.ɵfac=function(t){return new(t||i)},i.ɵpipe=o.Yj({name:"getModel",type:i,pure:!0,standalone:!0})},43856:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var o=n(79440),i=n(77842),s=n(43671);class r{constructor(t){this.propertyExtractor=t}transform(t,e){if(!t)return null;if(this.propertyExtractor??(this.propertyExtractor=e),!this.propertyExtractor)throw new Error("Please provide LayoutEditorPropertyMetadataExtractor for propertiesMetadata pipe!");return this.propertyExtractor.extract(t)}}r.ɵfac=function(t){return new(t||r)(o.Y(s.L,24))},r.ɵpipe=i.Yj({name:"propertiesMetadata",type:r,pure:!0,standalone:!0})},26159:(t,e,n)=>{"use strict";n.d(e,{t:()=>i});var o=n(38327);class i{getRegisteredComponents(){return[]}getConfigurationForComponent(t){return null}setConfigurationForComponent(t,e){}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},60152:(t,e,n)=>{"use strict";n.d(e,{C:()=>p});var o=n(8477),i=n(23199),s=n(11776),r=n(38327),a=n(80734),c=n(26938);function u(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){u(s,o,i,r,a,"next",t)}function a(t){u(s,o,i,r,a,"throw",t)}r(void 0)}))}}function d(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return d=function(t){this.s=t,this.n=t.next},d.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new d(t)}class p{get types(){return this.initPromise??(this.initPromise=this.initializeTypes()),this.initPromise.then((()=>Object.keys(this.definedTypes)))}constructor(t,e,n){this.layoutManager=t,this.loader=e,this.iteratorSvc=n,this.initSubscriptions=new i.w0,this.definedTypes={},this.initPromise=null,this.initSubscriptions.add(this.layoutManager.layoutChange.subscribe((()=>this.initPromise=null)))}ngOnDestroy(){this.initSubscriptions.unsubscribe()}getType(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.type??null}))()}getDisplayName(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.displayName??void 0}))()}getScope(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.scope}))()}getComponentName(t){var e=this;return l((function*(){return yield e.initPromise??(e.initPromise=e.initializeTypes()),e.definedTypes[t]?.name??null}))()}initializeTypes(){var t=this;return l((function*(){if(t.definedTypes={},!t.layoutManager.layout)return;const e=t.iteratorSvc.getIteratorFor(t.layoutManager.layout);var n,o=!1,i=!1;try{for(var s,r=function(t){var e,n,o,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(o&&null!=(e=t[o]))return new d(e.call(t));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}(e);o=!(s=yield r.next()).done;o=!1){const e=s.value,n=yield t.loader.loadItem(e.metadata);n&&(t.definedTypes[e.metadata.id]={type:n.data,displayName:e.metadata.displayName,name:e.metadata.name,scope:e.metadata.scope})}}catch(t){i=!0,n=t}finally{try{o&&null!=r.return&&(yield r.return())}finally{if(i)throw n}}}))()}}p.ɵfac=function(t){return new(t||p)(s.LF(a.n),s.LF(o.Vl),s.LF(c.$))},p.ɵprov=r.Yz({token:p,factory:p.ɵfac})},80734:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var o=n(86463),i=n(38327);class s{constructor(){this._layout=null,this._layoutChange=new o.x}get layout(){return this._layout}get layoutChange(){return this._layoutChange.asObservable()}setLayout(t){this._layout!=t&&(this._layout=t,this._layoutChange.next())}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},8477:(t,e,n)=>{"use strict";n.d(e,{Aw:()=>a,Vl:()=>c,X5:()=>s,gM:()=>r,qO:()=>u,xM:()=>i});var o=n(40296);const i=new o.O("LAYOUT_COMPONENT_TRANSFORM"),s=new o.O("LAYOUT_COMPONENT_CHILD_EXTENSIONS"),r=new o.O("LAYOUT_COMPONENTS_MODULE_DATA_EXTRACTORS"),a=new o.O("LAYOUT_COMPONENTS_MODULE_PROVIDERS"),c=new o.O("LAYOUT_COMPONENTS_LOADER"),u=new o.O("LAYOUT_METADATA_STORAGE")},2991:(t,e,n)=>{"use strict";n.d(e,{h:()=>g,_:()=>m});var o=n(43939),i=n(60640),s=n(11776),r=n(46480),a=n(65569),c=n(44677),u=n(9142),l=n(12193),d=n(8477);const p={provide:d.gM,useFactory:t=>new a.$([c.L,u.k],t),deps:[[new i.Fi,r.bZ]],multi:!0},h={provide:d.Vl,useFactory:()=>new l.S((0,s.f3)(d.Aw),(0,s.f3)(d.gM),g,(0,s.f3)(r.bZ,{optional:!0})??void 0)},g=function(t){return!((0,o.fp)(t?.data)||!(0,o.P9)(t.data)||(0,o.EN)(t?.childExtensions)&&(!Array.isArray(t.childExtensions)||t.childExtensions.some((t=>!(0,o.P9)(t))))||(0,o.EN)(t?.extensions)&&(!Array.isArray(t.extensions)||t.extensions.some((t=>!(0,o.P9)(t)))))};function m(){return[h,p]}},6552:(t,e,n)=>{"use strict";n.d(e,{i:()=>i});var o=n(22206);function i(t){return(0,o.R)(t,"relationsEditorMetadata")}},79763:(t,e,n)=>{"use strict";n.d(e,{AL:()=>P,aU:()=>S,md:()=>I,Ub:()=>L,P_:()=>R,xt:()=>k,Oq:()=>T,UB:()=>O,I_:()=>x});var o=n(60640),i=n(11776),s=n(65569),r=n(44677),a=n(12193),c=n(13457),u=n(44055),l=n(46480),d=n(91861),p=n(10439);function h(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const g=function(){var t,e=(t=function*(t,e){const n=yield(0,p.j)(t,e);if(e?.debug("relationsNodeExtractor: trying to extract dynamic node"),!n)return null;const o=n.data;if(!o)return null;const i=yield o.relationsEditorMetadata;return i?{data:i.nodeDefinition,metaInfo:i.metaInfo}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){h(s,o,i,r,a,"next",t)}function a(t){h(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();function m(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}const f=function(){var t,e=(t=function*(t,e){const n=t;if(e?.debug("componentRelationsNodeExtractor: trying to extract dynamic node"),!n)return null;const o=n.default;if(!o)return null;const i=yield o.relationsEditorMetadata;return i?{data:i.nodeDefinition,metaInfo:i.metaInfo,singleton:!0,displayName:n.displayName,scope:n.scope}:null},function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){m(s,o,i,r,a,"next",t)}function a(t){m(s,o,i,r,a,"throw",t)}r(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();var v=n(38327),y=n(54870);class b{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){if("static-components"!=t.package)return null;this._logger?.debug("StaticComponentsRelationsNodesProvider: trying to get node {@item}",{name:t.name,package:t.package});const e=this._componentsRegister.getType(t.name);return e?{default:e}:null}}b.ɵfac=function(t){return new(t||b)(i.LF(y.w),i.LF(l.bZ,8))},b.ɵprov=v.Yz({token:b,factory:b.ɵfac});class C{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){if("static-components"!=t.package)return null;this._logger?.debug("StaticComponentsRelationsTypesProvider: trying to get relations types {@item}",{name:t.name,package:t.package});const e=this._componentsRegister.types;return e?{default:e}:null}}C.ɵfac=function(t){return new(t||C)(i.LF(y.w),i.LF(l.bZ,8))},C.ɵprov=v.Yz({token:C,factory:C.ɵfac});var _=n(48397),w=n(47432);const x={provide:d.n7,useClass:b,multi:!0},O={provide:d.GP,useClass:C,multi:!0},I={provide:d.yh,useFactory:t=>new s.$([g],t),deps:[[new o.Fi,l.bZ]],multi:!0},P={provide:d.yh,useFactory:t=>new s.$([f],t),deps:[[new o.Fi,l.bZ]],multi:!0},S={provide:d.DZ,useFactory:t=>new s.$([r.L],t),deps:[[new o.Fi,l.bZ]],multi:!0},k={provide:d.Bj,useFactory:()=>new a.S((0,i.f3)(d.GP),(0,i.f3)(d.DZ),w.CQ,(0,i.f3)(l.bZ,{optional:!0})??void 0,!0)},T={provide:d.fI,useFactory:()=>new a.S((0,i.f3)(d.n7),(0,i.f3)(d.yh),w.Zl,(0,i.f3)(l.bZ,{optional:!0})??void 0)},R={provide:c.Qh,useExisting:_.J},L={provide:d.nR,useClass:u.Y}},91861:(t,e,n)=>{"use strict";n.d(e,{Bj:()=>r,DZ:()=>i,GP:()=>s,dK:()=>l,fI:()=>u,n7:()=>c,nR:()=>d,yh:()=>a});var o=n(40296);const i=new o.O("RELATIONS_MODULE_TYPES_DATA_EXTRACTORS"),s=new o.O("RELATIONS_MODULE_TYPES_PROVIDERS"),r=new o.O("RELATIONS_MODULE_TYPES_LOADER"),a=new o.O("RELATIONS_NODES_DATA_EXTRACTORS"),c=new o.O("RELATIONS_NODES_PROVIDERS"),u=new o.O("RELATIONS_NODES_LOADER"),l=new o.O("REFRESH_PALETTE_OBSERVABLES"),d=new o.O("RELATIONS_HISTORY_MANAGER")},47432:(t,e,n)=>{"use strict";n.d(e,{CQ:()=>l,TN:()=>p,Wg:()=>g,Zl:()=>d,hE:()=>h,uZ:()=>u});var o=n(14389),i=n(43939),s=n(79763),r=n(48397),a=n(77291),c=n(54870);function u(t,e,n){return Math.min(Math.max(t,e),n)}const l=function(t){return!((0,i.fp)(t?.data)||!Array.isArray(t.data))},d=function(t){return!((0,i.fp)(t?.data)||!(0,i.P9)(t.data)||(0,i.EN)(t.singleton)&&!(0,i.jn)(t.singleton)||(0,i.EN)(t.displayName)&&!(0,i.HD)(t.displayName)||(0,i.EN)(t?.metaInfo)&&!(0,i.wV)(t.metaInfo))};function p(){return[s.md,s.AL,s.aU,s.xt,s.Oq,r.J,a.a,s.P_,s.Ub]}function h(t){return[...p(),s.I_,s.UB,{provide:c.w,useClass:t},(0,o.XW)("static-components")]}function g(t){let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=("00"+(e>>8*t&255).toString(16)).substr(-2);return n}},48397:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var o=n(86463),i=n(38327);class s{constructor(){this._nodes={},this._waitingInputRelations={},this._nodesChange=new o.x,this._activeNodeChange=new o.x,this._nodeRegisterChange=new o.x,this._nodeUnregisterChange=new o.x}get nodes(){return this._nodes}get nodesChange(){return this._nodesChange.asObservable()}get activeNode(){return this._activeNode}get activeNodeChange(){return this._activeNodeChange.asObservable()}get nodeRegisterChange(){return this._nodeRegisterChange.asObservable()}get nodeUnregisterChange(){return this._nodeUnregisterChange.asObservable()}setActiveInput(t){this._activeInput=t}getActiveInput(){return this._activeInput}registerNode(t){var e,n;if(this._nodes[t.id]=t,this._nodesChange.next(),this._nodeRegisterChange.next(t),t.metadata?.outputs&&Array.isArray(t.metadata?.outputs))for(const o of t.metadata?.outputs){if(!o.inputs||!Array.isArray(o.inputs))continue;const i=t.outputs[o.outputName];if(i)for(const t of o.inputs){const o=this._nodes[t.id],s=i.startRelation();if(!o){(e=this._waitingInputRelations)[n=t.id]??(e[n]=[]),this._waitingInputRelations[t.id].push({inputName:t.inputName,relation:s});continue}const r=o.inputs[t.inputName];r&&r.endRelation(s)}}if(this._waitingInputRelations[t.id]){const e=this._waitingInputRelations[t.id],n=this._nodes[t.id];if(!n)return;for(const o of e){const e=n.inputs[o.inputName];e&&(e.endRelation(o.relation),delete this._waitingInputRelations[t.id])}}}unregisterNode(t){delete this._nodes[t.id],this._nodesChange.next(),this._nodeUnregisterChange.next(t)}getMetadata(){const t=[],e=Object.keys(this._nodes);for(const n of e){const e=this._nodes[n];if(!e.metadata)continue;const o={id:n,name:e.metadata.name,package:e.metadata.package,displayName:e.metadata.displayName,relationsOptions:e.metadata.relationsOptions,nodeMetadata:e.metadata.nodeMetadata,scope:e.metadata.scope,outputs:[]};if(e.allOutputs){for(const t of e.allOutputs){if(!t.relations)continue;if(!t.name)continue;const e={outputName:t.name,inputs:[]};for(const n of t.relations)n.input?.name&&e.inputs.push({id:n.input.parentId,inputName:n.input.name});o.outputs?.push(e)}t.push(o)}}return t}setActiveNode(t){this._activeNode=t,this._activeNodeChange.next()}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},77291:(t,e,n)=>{"use strict";n.d(e,{a:()=>s});var o=n(86463),i=n(38327);class s{constructor(){this.ɵScopes=[],this.scopesChangeSubject=new o.x}get scopes(){return this.ɵScopes}get scopesChange(){return this.scopesChangeSubject.asObservable()}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},54870:(t,e,n)=>{"use strict";n.d(e,{w:()=>i});var o=n(38327);class i{constructor(){this._definedTypes=this.getDefinedTypes()}get types(){return Object.keys(this._definedTypes)}getType(t){return this._definedTypes[t]??null}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},36759:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var o=n(86463),i=n(56224),s=n(86485),r=n(96583);function a(t){return function(e,n){const a=n;Object.defineProperty(e,`${a}Change`,{get:function(){return this[`ɵ${a}Change`]||(this[`ɵ${a}Change`]=new o.x),this[`ɵ${a}Change`]}}),Object.defineProperty(e,a,{get:function(){return this[`ɵ${a}`]},set:function(e){if(this[`ɵ${a}`]=e,(0,i.gE)(this,a),t?.sync)this[`${a}Change`].next();else{const t=this.ɵɵinjector;if(!t)return;const e=t.get(s.s),n=t.get(r.H),o=e.getId(this);if(!o)return;n.markForCheck({componentId:o,outputName:a})}}}),t?.skipInit&&(0,i.pG)(e,a)}}},89402:(t,e,n)=>{"use strict";function o(t){return!!t.__ɵɵRelationsComponent}function i(){return function(t){return t.__ɵɵRelationsComponent=!0,t}}n.d(e,{H:()=>i,O:()=>o})},10439:(t,e,n)=>{"use strict";n.d(e,{j:()=>s});var o=n(43939),i=n(89402);const s=(t,e)=>{const n=t;return e?.debug("relationsExportExtractor: trying to extract dynamic relations"),(0,o.EN)(n.relations)&&(0,o.P9)(n.relations)&&(0,i.O)(n.relations)?{data:n.relations}:(0,o.EN)(n.default)&&(0,o.P9)(n.default)&&(0,i.O)(n.default)?{data:n.default}:null}},20809:(t,e,n)=>{"use strict";n.d(e,{B6:()=>s,TZ:()=>r,fX:()=>c,te:()=>a,u7:()=>i});var o=n(40296);const i=new o.O("RELATIONS_COMPONENTS_MODULE_DATA_EXTRACTORS"),s=new o.O("RELATIONS_COMPONENTS_MODULE_PROVIDERS"),r=new o.O("RELATIONS_COMPONENTS_LOADER"),a=new o.O("RELATIONS_METADATA_STORAGE"),c=new o.O("RELATIONS_PROCESSOR_SKIP_INIT")},56224:(t,e,n)=>{"use strict";n.d(e,{gE:()=>w,pG:()=>C,nP:()=>x,Xt:()=>y,Vr:()=>_,Aq:()=>b});var o=n(43939),i=n(60640),s=n(11776),r=n(65569),a=n(12193),c=n(46480),u=n(20809),l=n(10439);const d={provide:u.u7,useFactory:t=>new r.$([l.j],t),deps:[[new i.Fi,c.bZ]],multi:!0},p={provide:u.TZ,useFactory:()=>new a.S((0,s.f3)(u.B6),(0,s.f3)(u.u7),y,(0,s.f3)(c.bZ,{optional:!0})??void 0)};var h=n(86485),g=n(75990),m=n(67626),f=n(96583),v=n(46855);const y=function(t){return!((0,o.fp)(t?.data)||!(0,o.P9)(t.data))};function b(){return[d,p,h.s,g.N,m.v,f.H,v.J]}function C(t,e){const n=`${e}SkipInit`;Reflect.has(t,n)||Object.defineProperty(t,n,{value:!0})}function _(t,e){return t[`${e}SkipInit`]}function w(t,e){const n=`${e}Assigned`;Reflect.has(t,n)||Object.defineProperty(t,n,{value:!0})}function x(t,e){return t[`${e}Assigned`]}},46855:(t,e,n)=>{"use strict";n.d(e,{J:()=>c});var o=n(48936),i=n(57466),s=n(11776),r=n(38327);function a(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class c{constructor(t){this.document=t,this.loadedDataCache={}}loadData(t,e){var n,o=this;return(n=function*(){if(o.loadedDataCache[t])return o.loadedDataCache[t];const n=o.document.createElement("script"),s=`loadType${(0,i.Ox)(12)}`;let r=null;return n.innerText=`\n        (function(exports, loadType, require)\n        {\n            ${e}\n\n            loadType(exports);\n        })({}, ${s}.loadType, ${s}.require);`,window[s]={loadType:t=>r=t.default??null,require:t=>(console.log(t),null)},o.document.getElementsByTagName("head")[0].appendChild(n),delete window[s],n.remove(),o.loadedDataCache[t]=r,r},function(){var t=this,e=arguments;return new Promise((function(o,i){var s=n.apply(t,e);function r(t){a(s,o,i,r,c,"next",t)}function c(t){a(s,o,i,r,c,"throw",t)}r(void 0)}))})()}}c.ɵfac=function(t){return new(t||c)(s.LF(o.K))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},96583:(t,e,n)=>{"use strict";n.d(e,{H:()=>h});var o=n(2032),i=n(11776),s=n(46480),r=n(43939),a=n(27049),c=n(86485),u=n(67626);class l{constructor(t){this.detectionInSingleRun=!0,(0,r.EN)(t)&&(this.detectionInSingleRun=t)}}var d=n(95176),p=n(38327);class h{get relationsProcessor(){return this.ɵrelationsProcessor??(this.ɵrelationsProcessor=this.injector.get(u.v))}get relationsComponentManager(){return this.ɵrelationsComponentManager??(this.ɵrelationsComponentManager=this.injector.get(c.s))}get outputsComponents(){return(0,r.Qr)(this.ɵoutputsComponents)&&this.parent?this.parent.outputsComponents:this.ɵoutputsComponents}constructor(t,e,n){this.injector=t,this.logger=e,this.ɵoutputsComponents={},this.parent=(0,i.f3)(h,{optional:!0,skipSelf:!0}),this.firstRunIds=[],this.secondRunIds=[],this.checkRunning=!1,n&&n instanceof l||(n=new l),this.options=n}markForCheck(t){const e=(0,r.HD)(t.componentId)?t.componentId:this.relationsComponentManager.getId(t.componentId);if(!e)return void this.logger.warn("RelationsChangeDetector: Unable to find component!");const n=this.outputsComponents[e]?.[t.outputName]??[],o=this.checkRunning&&!this.options.detectionInSingleRun?this.secondRunIds:this.firstRunIds;for(const t of n)o.indexOf(t)>=0||o.push(t);this.timeout||(this.timeout=setTimeout(this.runCheck,0))}initialize(t){var e,n,o;this.ɵoutputsComponents={};for(const i in t){const s=t[i];if((e=this.ɵoutputsComponents)[i]??(e[i]={}),s.inputOutputs)for(const t of s.inputOutputs)(n=this.ɵoutputsComponents[i])[o=t.outputName]??(n[o]=[]),this.ɵoutputsComponents[i][t.outputName].push(t.inputComponentId)}}runCheck(){this.checkRunning=!0;for(const t of this.firstRunIds)this.relationsProcessor.transferInputsData(t,!1);this.options.detectionInSingleRun?this.firstRunIds=[]:(this.firstRunIds=this.secondRunIds,this.secondRunIds=[]),this.checkRunning=!1,this.timeout=null}}h.ɵfac=function(t){return new(t||h)(i.LF(d.z),i.LF(s.bZ),i.LF(l,8))},h.ɵprov=p.Yz({token:h,factory:h.ɵfac}),(0,o.gn)([a.r,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[]),(0,o.w6)("design:returntype",void 0)],h.prototype,"runCheck",null)},86485:(t,e,n)=>{"use strict";n.d(e,{s:()=>c});var o=n(11776),i=n(95176),s=n(46480),r=n(57466),a=n(38327);class c{constructor(t){this.logger=t,this.scopeId=null,this.components={},this.scopes={},this.parent=null,this.childrenCache={},this.injector=(0,o.f3)(i.z)}ngOnDestroy(){if(this.scopes)for(const t in this.scopes){const e=this.scopes[t];if(e)for(const t of e)t.ngOnDestroy();delete this.scopes[t]}for(const t in this.components)this.removeCacheFromHierarchy(t);if(this.parent&&this.scopeId){const t=this.parent.scopes[this.scopeId];if(t){const e=t.indexOf(this);e>=0&&t.splice(e,1)}}}registerComponent(t,e){this.components[t]?this.logger?.warn(`RelationsComponentManager: Component with id '${t}' is already registered, provide unique id.`):(e.ɵɵRelationsComponentId??(e.ɵɵRelationsComponentId=(0,r.Ox)(12)),this.removeCacheFromHierarchy(t),this.components[t]=e,e.ɵɵinjector=this.injector)}unregisterComponent(t){this.components[t]?(this.removeCacheFromHierarchy(t),delete this.components[t]):this.logger?.warn(`RelationsComponentManager: Component with id '${t}' has already been unregistered.`)}get(t){const e=this.components[t];if(e)return e;if(this.childrenCache[t])return this.childrenCache[t];return this.getChildrenComponents(t)||this.getParentComponents(t)}getId(t){for(const e in this.components)if(this.components[e]===t)return e;return null}openScope(t){var e;(e=this.scopes)[t]??(e[t]=[]);const n=new c(this.logger);return n.scopeId=t,n.parent=this,this.scopes[t].push(n),n}removeCacheFromHierarchy(t){this.parent&&this.parent.childrenCache[t]&&(delete this.parent.childrenCache[t],this.parent.removeCacheFromHierarchy(t))}getChildrenComponents(t){const e=e=>{const n=this.scopes[e],o=[];for(const e of n){const n=e.components[t];if(n){o.push(n);continue}const i=e.getChildrenComponents(t);if(!Array.isArray(i))return null;for(const t of i)o.push(t)}return o.length?o:null};for(const n in this.scopes){const o=e(n);if(o)return this.childrenCache[t]=o,o}return null}getParentComponents(t){if(!this.parent)return null;return(this.parent.components[t]??null)||this.parent.getParentComponents(t)}}c.ɵfac=function(t){return new(t||c)(o.LF(s.bZ,8))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac})},75990:(t,e,n)=>{"use strict";n.d(e,{N:()=>s});var o=n(86463),i=n(38327);class s{constructor(){this._relations=[],this._relationsChange=new o.x}get relations(){return this._relations}get relationsChange(){return this._relationsChange.asObservable()}setRelations(t){this._relations!=t&&(this._relations=t,this._relationsChange.next())}}s.ɵfac=function(t){return new(t||s)},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},67626:(t,e,n)=>{"use strict";n.d(e,{v:()=>y});var o=n(11776),i=n(46480),s=n(43939),r=n(23199),a=n(28653),c=n(20809);class u{get changes(){return this._changes}constructor(t){this.components=t,this._changes={}}applyChanges(){for(const t of this.components)if(t){for(const e in this._changes){const n=this._changes[e];t[e]=n.currentValue}t.ngOnChanges?.(this._changes),t.invalidateVisuals()}}}var l=n(56224),d=n(96583),p=n(95176),h=n(38327),g=n(75990),m=n(86485);function f(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function r(t){f(s,o,i,r,a,"next",t)}function a(t){f(s,o,i,r,a,"throw",t)}r(void 0)}))}}class y{get relations(){return this.parent?this.parent.relations:this.ɵRelations}set relations(t){this.ɵRelations=t}get backwardRelations(){return this.parent?this.parent.backwardRelations:this.ɵBackwardRelations}set backwardRelations(t){this.ɵBackwardRelations=t}get initialized(){return this.ɵInitialized}constructor(t,e,n,i,a,c){this.relationsManager=t,this.componentManager=e,this.injector=n,this.loader=i,this.logger=a,this.ɵInitialized=Promise.resolve(),this.ɵRelations={},this.ɵBackwardRelations={},this.resolveInitialized=s.ZT,this.initSubscriptions=new r.w0,this.parent=null,this.scopeId=null,this.relationsChangeDetector=(0,o.f3)(d.H),c||(this.initSubscriptions.add(this.relationsManager.relationsChange.subscribe((()=>this.initializeRelations()))),this.initializeRelations())}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.destroyRelations()}updateRelations(t){this.logger?.debug("RelationsProcessor: Updating relations for {@id}",{id:t});const e=this.relations[t],n=this.backwardRelations[t];let o=this.componentManager.get(t);if(e&&o){if(this.initOptions(o,e),n?.length&&n.forEach((t=>{this.initBackwardRelation(t)})),e?.inputOutputs){Array.isArray(o)||(o=[o]);for(const n of o){n.ɵɵRelationsOutputsChangeSubscriptions?.forEach((t=>t.unsubscribe())),n.ɵɵRelationsOutputsChangeSubscriptions=[];for(const i of e.inputOutputs){let e=this.componentManager.get(i.inputComponentId);e&&!Array.isArray(e)&&(e=[e]),this.logger?.verbose("RelationsProcessor: processing input outputs {@data} ",{id:t,inputOutput:i,inputComponents:e,components:o});const s=n[`${i.outputName}Change`];if(s instanceof a.y)if(n.ɵɵRelationsOutputsChangeSubscriptions.push(s.subscribe((()=>{let t=this.componentManager.get(i.inputComponentId);if(t){Array.isArray(t)||(t=[t]);for(const e of t)this.transferData(n,i.outputName,e,i.inputName,!1)}else this.logger?.warn("RelationsProcessor: Missing input components {@data} on output change",i)}))),e&&Array.isArray(e))for(const t of e){const e=`${t.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;(0,l.Vr)(n,i.outputName)||i.initialized[e]||!(0,l.nP)(n,i.outputName)||(i.initialized[e]=this.transferData(n,i.outputName,t,i.inputName,!0))}else this.logger?.warn("RelationsProcessor: Missing input components {@data}",i);else this.logger?.warn("RelationsProcessor: Output on component {@data} is not observable",i)}}}}else this.logger?.warn("RelationsProcessor: No relations for {@id}",{id:t})}destroyComponent(t){const e=this.relations[t],n=this.backwardRelations[t];if(n)for(const t of n)t.initialized={};if(e){let n=this.componentManager.get(t);if(n){if(!n)return;Array.isArray(n)||(n=[n]);for(const t of n)t.ɵɵRelationsOutputsChangeSubscriptions?.forEach((t=>t.unsubscribe())),t.ɵɵRelationsOutputsChangeSubscriptions=[],t.ɵɵRelationsOptionsInitialized=!1}if(e.inputOutputs&&Array.isArray(e.inputOutputs))for(const t of e.inputOutputs)t.initialized={};if(e.autoCreated){let e=this.componentManager.get(t);if(!e)return;Array.isArray(e)||(e=[e]),this.componentManager.unregisterComponent(t);for(const t of e)t.ngOnDestroy?.()}}}openScope(t,e,n){const o=new y(this.relationsManager,e,n,this.loader,this.logger,!0);o.scopeId=t,o.parent=this;for(const i in this.relations){const s=this.relations[i];if(s.scope===t&&s.componentType){const t=new s.componentType(n);e.registerComponent(i,t),o.updateRelations(i)}}return o}destroyScope(){for(const t in this.relations)this.relations[t].scope===this.scopeId&&this.destroyComponent(t)}transferOutputsData(t,e=!1){var n;const o={},i=this.relations[t];let s=this.componentManager.get(t);if(!i||!s)return this.logger?.warn("RelationsProcessor: No relations for {@id}",{id:t}),e?o:null;if(i?.inputOutputs){Array.isArray(s)||(s=[s]);for(const t of s)for(const e of i.inputOutputs){let i=this.componentManager.get(e.inputComponentId);if(i&&!Array.isArray(i)&&(i=[i]),i&&Array.isArray(i)){o[n=e.inputComponentId]??(o[n]=new u(i));for(const n of i){if(!t||!n)continue;const i=n[e.inputName],s=t[e.outputName];o[e.inputComponentId].changes[e.inputName]={previousValue:i,currentValue:s,firstChange:!1,isFirstChange:()=>!1}}}else this.logger?.warn("RelationsProcessor: Missing input components {@data}",e)}if(!e)for(const t in o)o[t].applyChanges()}return e?o:null}transferInputsData(t,e=!1){const n=this.backwardRelations[t],o=this.componentManager.get(t);if(!n)return this.logger?.warn("RelationsProcessor: No backward relations for {@id}",{id:t}),e?new u([]):null;if(!o)return this.logger?.warn("RelationsProcessor: Missing input components for {@id}",{id:t}),e?new u([]):null;if(Array.isArray(o))return this.logger?.error("RelationsProcessor: Only one component must be available for id {@id}",{id:t}),e?new u([]):null;const i=new u([o]);for(const e of n){const n=this.componentManager.get(e.outputComponentId);if(Array.isArray(n)){this.logger?.error("RelationsProcessor: Only one output component must be available for id {@id}",{id:t});continue}if(!n||!o)continue;const s=o[e.inputName],r=n[e.outputName];i.changes[e.inputName]={previousValue:s,currentValue:r,firstChange:!1,isFirstChange:()=>!1}}return e||i.applyChanges(),e?i:null}initializeRelations(){var t=this;return v((function*(){if(yield t.destroyRelations(),t.setInitializePromise(),t.logger?.debug("RelationsProcessor: initializing relations"),t.relationsManager.relations.length){for(const e of t.relationsManager.relations){const n=[];if(e.outputs){for(const o of e.outputs)if(o.inputs)for(const i of o.inputs){const s={inputComponentId:i.id,outputComponentId:e.id,inputName:i.inputName,outputName:o.outputName,initialized:{}};n.push(s),t.backwardRelations[i.id]||(t.backwardRelations[i.id]=[]),t.backwardRelations[i.id].push(s)}yield t.initComponent(e,n)}}t.relationsChangeDetector.initialize(t.relations),t.resolveInitialized()}else t.resolveInitialized()}))()}initBackwardRelation(t){let e=this.componentManager.get(t.outputComponentId),n=this.componentManager.get(t.inputComponentId);if((0,s.fp)(e)||Array.isArray(e)&&!e.length||(0,s.fp)(n)||Array.isArray(n)&&!n.length)this.logger?.warn("RelationsProcessor: missing metadata for backward relations {@data}",t);else{Array.isArray(n)||(n=[n]),Array.isArray(e)||(e=[e]);for(const o of n)for(const n of e){const e=`${o.ɵɵRelationsComponentId}-${n.ɵɵRelationsComponentId}`;(0,l.Vr)(n,t.outputName)||t.initialized[e]||!(0,l.nP)(n,t.outputName)||(t.initialized[e]=this.transferData(n,t.outputName,o,t.inputName,!0))}}}transferData(t,e,n,o,i){if(!t||!n)return!1;const s=n[o],r=t[e];n[o]=t[e];const a={};return a[o]={previousValue:s,currentValue:r,firstChange:i,isFirstChange:()=>i},n.ngOnChanges?.(a),n.invalidateVisuals(),!0}initComponent(t,e){var n=this;return v((function*(){if(n.componentManager.get(t.id))return n.initRelation(!1,t,e,null,null),void n.updateRelations(t.id);const o=yield n.loader.loadItem(t);if(!o)return n.initRelation(!1,t,e,null,null),void n.logger?.warn("RelationsProcessor: Unable to load relations component! {@meta}",{package:t.package,name:t.name});if(!t.scope){const e=new o.data(n.injector);n.componentManager.registerComponent(t.id,e)}n.initRelation(!0,t,e,t.scope??null,t.scope?o.data:null),n.updateRelations(t.id)}))()}initRelation(t,e,n,o,i){this.relations[e.id]={autoCreated:t,inputOutputs:n,metadataOptions:e.relationsOptions,componentType:i,scope:o}}initOptions(t,e){if(Array.isArray(t))for(const n of t)n.ɵɵRelationsOptionsInitialized||(n.relationsOptions=e.metadataOptions);else t.ɵɵRelationsOptionsInitialized||(t.relationsOptions=e.metadataOptions)}setInitializePromise(){this.ɵInitialized=new Promise((t=>this.resolveInitialized=t))}destroyRelations(){var t=this;return v((function*(){yield t.ɵInitialized,Object.keys(t.relations).forEach((e=>t.destroyComponent(e))),t.relations={},t.backwardRelations={}}))()}}y.ɵfac=function(t){return new(t||y)(o.LF(g.N),o.LF(m.s),o.LF(p.z),o.LF(c.TZ),o.LF(i.bZ,8),o.LF(c.fX,8))},y.ɵprov=h.Yz({token:y,factory:y.ɵfac})},22206:(t,e,n)=>{"use strict";n.d(e,{R:()=>s});var o=n(52266),i=n(43939);function s(t,e){return function(n){return n[e]=t(),n}}(0,o.y)((t=>{(0,i.fp)(t.ngDesignerMetadata)&&(t.ngDesignerMetadata=!0)}))},44677:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var o=n(43939);const i=(t,e)=>{const n=t;return e?.debug("defaultExportExtractor: trying to extract default dynamic data"),(0,o.EN)(n.default)?{data:n.default}:null}},9142:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var o=n(43939);const i=(t,e)=>{const n=t,i=n.extensions;return e?.debug("extensionsExportsExtractor: trying to extract dynamic item extensions"),i&&(0,o.wV)(i)&&(i.extensions||i.childExtensions)?{extensions:i.extensions,childExtensions:i.childExtensions}:n.childExtensions||n.extensions?{extensions:n.extensions,childExtensions:n.childExtensions}:null}},13457:(t,e,n)=>{"use strict";n.d(e,{BG:()=>s,H$:()=>r,Qh:()=>i});var o=n(40296);const i=new o.O("METADATA_STATE_MANAGER"),s=new o.O("PACKAGE_SOURCES"),r=new o.O("SCOPE_ID")},14389:(t,e,n)=>{"use strict";n.d(e,{LK:()=>a,XW:()=>r,mv:()=>s});var o=n(97825),i=n(13457);function s(t,e,n,o,i=!1){t[e]={currentValue:n,previousValue:o,firstChange:i,isFirstChange:()=>i}}function r(t){return{provide:i.BG,useValue:{packages:[t],packagesChange:o.C,refresh(){}},multi:!0}}function a(t){try{return JSON.parse(t)}catch{return null}}},12193:(t,e,n)=>{"use strict";function o(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}n.d(e,{S:()=>i});class i{constructor(t,e,n,o,i){this.providers=t,this.extractors=e,this.validatorFn=n,this.logger=o,this.noCache=i,this.cachedDynamicItems={},Array.isArray(this.providers)||(this.logger?.error("DynamicItemLoader: missing providers!"),this.providers=[]),Array.isArray(this.extractors)||(this.logger?.error("DynamicItemLoader: missing extractors!"),this.extractors=[])}loadItem(t){var e,n=this;return(e=function*(){let e=null;const o=`${t.package}-${t.name}`;if(o in n.cachedDynamicItems&&!n.noCache)return n.logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:t.name,package:t.package}),n.cachedDynamicItems[o];for(const o of n.providers){const n=o.tryToGet(t);if(e=n?yield n:null,e)break}if(!e)return n.logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:t.name,package:t.package}),null;for(const i of n.extractors){const s=yield i.tryToExtract(e);if(s)return n.cachedDynamicItems[o]=n.validatorFn(s)?s:null,n.cachedDynamicItems[o]||n.logger?.warn("DynamicItemLoader: Found dynamic item {@source} is not of requested type",{name:t.name,package:t.package}),n.cachedDynamicItems[o]}return n.logger?.debug("DynamicItemLoader: Failed to extract dynamic item {@source}",{name:t.name,package:t.package}),n.cachedDynamicItems[o]=null,null},function(){var t=this,n=arguments;return new Promise((function(i,s){var r=e.apply(t,n);function a(t){o(r,i,s,a,c,"next",t)}function c(t){o(r,i,s,a,c,"throw",t)}a(void 0)}))})()}}},65569:(t,e,n)=>{"use strict";n.d(e,{$:()=>r});var o=n(57466),i=n(43939);function s(t,e,n,o,i,s,r){try{var a=t[s](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}class r{constructor(t,e){this._extractorFunctions=t,this._logger=e,Array.isArray(this._extractorFunctions)||(this._logger?.error("DynamicModuleDataExtractor: missing extractor functions!"),this._extractorFunctions=[])}tryToExtract(t){var e,n=this;return(e=function*(){const e={};for(const i of n._extractorFunctions)(0,o.l7)(!0,e,yield i(t,n._logger));return(0,i.Qr)(e)?null:e},function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(t){s(r,o,i,a,c,"next",t)}function c(t){s(r,o,i,a,c,"throw",t)}a(void 0)}))})()}}},56454:(t,e,n)=>{"use strict";n.d(e,{z:()=>c});var o=n(98084),i=n(86463),s=n(11776),r=n(38327),a=n(39969);class c{get undo(){return this.undoSubject.asObservable()}get redo(){return this.redoSubject.asObservable()}get save(){return this.saveSubject.asObservable()}get copy(){return this.copySubject.asObservable()}get cut(){return this.cutSubject.asObservable()}get paste(){return this.pasteSubject.asObservable()}get delete(){return this.deleteSubject.asObservable()}constructor(t){this.hotkeys=t,this.undoSubject=new i.x,this.redoSubject=new i.x,this.saveSubject=new i.x,this.copySubject=new i.x,this.pasteSubject=new i.x,this.cutSubject=new i.x,this.deleteSubject=new i.x}destroy(){this.hotkeys.destroy()}init(){this.hotkeys.hotkeys.add(new o.q("ctrl+s",(()=>(this.saveSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits save event")),this.hotkeys.hotkeys.add(new o.q("ctrl+z",(()=>(this.undoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits undo event")),this.hotkeys.hotkeys.add(new o.q("ctrl+y",(()=>(this.redoSubject.next(),!1)),["INPUT","TEXTAREA"],"Emits redo event")),this.hotkeys.hotkeys.add(new o.q("del",(()=>(this.deleteSubject.next(),!1)),[],"Emits delete event")),this.hotkeys.hotkeys.add(new o.q("ctrl+c",(()=>(this.copySubject.next(),!1)),[],"Emits copy event")),this.hotkeys.hotkeys.add(new o.q("ctrl+v",(()=>(this.pasteSubject.next(),!1)),[],"Emits paste event")),this.hotkeys.hotkeys.add(new o.q("ctrl+x",(()=>(this.cutSubject.next(),!1)),[],"Emits cut event"))}}c.ɵfac=function(t){return new(t||c)(s.LF(a.H))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},44055:(t,e,n)=>{"use strict";n.d(e,{Y:()=>c});var o=n(43939),i=n(86463),s=n(13457),r=n(11776),a=n(38327);class c{get canUndo(){return!(0,o.fp)(this.activeIndex)&&this.activeIndex>0}get canRedo(){return!(0,o.fp)(this.activeIndex)&&this.activeIndex+1<this.states.length}get saved(){return this.activeIndex===this.saveIndex}get pop(){return this.popSubject.asObservable()}get historyChange(){return this.historyChangeSubject.asObservable()}get state(){return(0,o.fp)(this.activeIndex)?null:JSON.parse(this.states[this.activeIndex])}constructor(t){this.metadataState=t,this.activeIndex=null,this.saveIndex=null,this.states=[],this.enabled=!0,this.popSubject=new i.x,this.historyChangeSubject=new i.x}undo(){this.canUndo&&!(0,o.fp)(this.activeIndex)&&(this.activeIndex--,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}redo(){this.canRedo&&!(0,o.fp)(this.activeIndex)&&(this.activeIndex++,this.popSubject.next(JSON.parse(this.states[this.activeIndex])))}getNewState(){if(!this.enabled)return;this.states.length>=200&&this.states.shift(),(0,o.EN)(this.activeIndex)&&this.activeIndex+1<this.states.length&&this.states.splice(this.activeIndex+1,this.states.length-(this.activeIndex+1));const t=this.metadataState.getMetadata();t&&(this.states.push(JSON.stringify(t)),this.activeIndex=this.states.length-1,this.historyChangeSubject.next())}save(){this.saveIndex=this.activeIndex}setInitialState(t){this.states.push(JSON.stringify(t)),this.activeIndex=this.states.length-1,this.save()}clean(){this.activeIndex=null,this.saveIndex=null,this.states=[]}enable(){this.enabled=!0}disable(){this.enabled=!1}}c.ɵfac=function(t){return new(t||c)(r.LF(s.Qh))},c.ɵprov=a.Yz({token:c,factory:c.ɵfac})}}]);
//# sourceMappingURL=3973.chunk.f84483a661cb12e7e73b.js.map