/*! For license information please see 6371.chunk.b3b2ac9c95b8146e1255.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[6371],{36371:(t,e,n)=>{n.r(e),n.d(e,{RelationsComplexModule:()=>Bt});var a=n(14392),o=n(27052),s=n(68624),i=n(76668),r=n(89001),l=n(38707),c=n(35648),u=n(97212),d=n(66888),p=n(94761),g=n(8477),h=n(97149),m=n(22804),_=n(17505),v=n(56179),y=n(99043),f=n(57489),b=n(57466),x=n(27049),C=n(85638),w=n(89952),D=n(77653),k=n(79440),M=n(13691),I=n(73379),T=n(80827),O=n(41853),F=n(72891),P=n(66794),N=n(73301),q=n(84967),Y=n(9545),R=n(86825);let U=class{constructor(t){this._store=t,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,b.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(t){return{layout:t}}_loadDemo(){this._metadata=C.F.demoRelationsComplexLayout}_loadRestDemo(){this._metadata=C.F.complexDemoRestLayout}_loadFullDemo(){this._metadata=C.F.complexDemoFullLayout}};U.ɵfac=function(t){return new(t||U)(k.Y(w.U))},U.ɵcmp=M.Xp({type:U,selectors:[["layout-editor-view"]],features:[I._([{provide:g.qO,useFactory:t=>new m.I((e=>t.getData(e)?.layout)),deps:[w.U]},{provide:m.I,useExisting:g.qO},(0,h._)(),(0,v.vQ)(),(0,y.gJ)(),(0,f.hd)(),{provide:_.L,useClass:D.y}])],decls:15,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/layout",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(T.Tg(0,"div",0)(1,"button",1)(2,"span"),O._(3,"go back"),T.qZ()(),T.Tg(4,"load-save-new",2),F.N("metadataChange",(function(t){let n;return e._metadata=null!==(n=null==t?null:t.layout)&&void 0!==n?n:e.emptyMetadata})),T.qZ(),T.Tg(5,"button",3),F.N("click",(function(){return e._loadDemo()})),T.Tg(6,"span"),O._(7,"demo"),T.qZ()(),T.Tg(8,"button",3),F.N("click",(function(){return e._loadRestDemo()})),T.Tg(9,"span"),O._(10,"demo rest"),T.qZ()(),T.Tg(11,"button",3),F.N("click",(function(){return e._loadFullDemo()})),T.Tg(12,"span"),O._(13,"demo full"),T.qZ()()(),T._U(14,"layout-editor",4)),2&t&&(P.x(4),N.Q("store",e._store)("getMetadataCallback",e._getMetadata),P.x(10),N.Q("metadata",e._metadata))},dependencies:[q.v,Y.Z,R.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([x.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Object]),(0,a.w6)("design:returntype",Object)],U.prototype,"_getMetadata",null),U=(0,a.gn)([(0,p.N)({path:"layout"}),(0,p.N)({path:"layout/:id"}),(0,a.w6)("design:paramtypes",[w.U])],U);var Z=n(37943),E=n(15467),Q=n(70625),L=n(28626),S=n(75990),A=n(15686),z=n(4477),j=n(94727),J=n(6427),X=n(32361),B=n(12311),V=n(77470),H=n(27635),K=n(4489),W=n(68965),$=n(31686),G=n(60405),tt=n(85320),et=n(48936);class nt{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),a=n.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,n.readOnly=!0,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}var at=n(11776),ot=n(38327);class st{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new nt(t,this._document)}}st.ɵfac=function(t){return new(t||st)(at.LF(et.K))},st.ɵprov=ot.Yz({token:st,factory:st.ɵfac,providedIn:"root"});class it{constructor(t){this._clipboard=t,this.clickable=!0}copyData(){this._clipboard.copy(JSON.stringify(this.data,null,4))}}it.ɵfac=function(t){return new(t||it)(k.Y(st))},it.ɵdir=M.lG({type:it,selectors:[["debug-data","copyClick",""]],hostVars:2,hostBindings:function(t,e){1&t&&F.N("click",(function(){return e.copyData()})),2&t&&tt.ek("clickable",e.clickable)},inputs:{data:["copyClick","data"]}});var rt=n(43086),lt=n(68961),ct=n(4905),ut=n(35100),dt=n(21651);function pt(t,e){1&t&&rt.Hs(0)}const gt="enabled";class ht{constructor(t,e,n){this._debugDataEnabledSvc=t,this._changeDetector=e,this._element=n,this.enabled=!1}ngOnInit(){this.enabled=this._debugDataEnabledSvc.enabled,this._setEnabledCssClass(),this._debugDataEnabledChangeSubscription=this._debugDataEnabledSvc.enabledChange.subscribe((()=>{this.enabled=this._debugDataEnabledSvc.enabled,this._setEnabledCssClass(),this._changeDetector.detectChanges()}))}ngOnDestroy(){this._debugDataEnabledChangeSubscription?.unsubscribe(),this._debugDataEnabledChangeSubscription=null}_setEnabledCssClass(){this.enabled?this._element.nativeElement.classList.add(gt):this._element.nativeElement.classList.remove(gt)}}ht.ɵfac=function(t){return new(t||ht)(k.Y(ut.H),k.Y(lt.s),k.Y(ct.SB))},ht.ɵcmp=M.Xp({type:ht,selectors:[["debug-data"]],ngContentSelectors:["*"],decls:1,vars:1,consts:[[3,"ngIf"]],template:function(t,e){1&t&&(rt.F$(),A.Y(0,pt,1,0,"ng-template",0)),2&t&&N.Q("ngIf",e.enabled)},dependencies:[dt.O],styles:["[_nghost-%COMP%]\r\n{\r\n    font-weight: normal;\r\n    font-style: italic;\r\n    text-shadow: 0 0 1px;\r\n    display: none;\r\n}\r\n\r\n.clickable[_nghost-%COMP%]\r\n{\r\n    cursor: pointer;\r\n}\r\n\r\n.enabled[_nghost-%COMP%]\r\n{\r\n    display: block;\r\n}"],changeDetection:0});var mt=n(36759),_t=n(96130),vt=n(86485),yt=n(6552);function ft(t,e,n,a,o,s,i){try{var r=t[s](i),l=r.value}catch(t){return void n(t)}r.done?e(l):Promise.resolve(l).then(a,o)}const bt=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(4023),n.e(3830)]).then(n.bind(n,19776))).StaticInputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var s=t.apply(e,n);function i(t){ft(s,a,o,i,r,"next",t)}function r(t){ft(s,a,o,i,r,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();var xt,Ct=n(82568),wt=n(49280),Dt=n(70983);function kt(t,e,n,a,o,s,i){try{var r=t[s](i),l=r.value}catch(t){return void n(t)}r.done?e(l):Promise.resolve(l).then(a,o)}let Mt=xt=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n,this.stringForm=new Q.NI(""),this.booleanForm=new Q.NI(!1),this.stringForm.valueChanges.subscribe((t=>this.stringOutput=t)),this.booleanForm.valueChanges.subscribe((t=>this.booleanOutput=t))}static get relationsId(){return"static-input"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(xt.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(xt.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var s=t.apply(e,n);function i(t){kt(s,a,o,i,r,"next",t)}function r(t){kt(s,a,o,i,r,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(xt.relationsId),this._componentManager.unregisterComponent(xt.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function It(t,e,n,a,o,s,i){try{var r=t[s](i),l=r.value}catch(t){return void n(t)}r.done?e(l):Promise.resolve(l).then(a,o)}Mt.ɵfac=function(t){return new(t||Mt)(k.Y(lt.s),k.Y(_t.v),k.Y(vt.s))},Mt.ɵcmp=M.Xp({type:Mt,selectors:[["static-input"]],standalone:!0,features:[Ct.j],decls:5,vars:2,consts:[[1,"flex-column"],["type","text",3,"formControl"],["type","checkbox",3,"formControl"]],template:function(t,e){1&t&&(T.Tg(0,"div"),O._(1,"INPUT:"),T.qZ(),T.Tg(2,"div",0),T._U(3,"input",1)(4,"input",2),T.qZ()),2&t&&(P.x(3),N.Q("formControl",e.stringForm),P.x(1),N.Q("formControl",e.booleanForm))},dependencies:[s.U,wt.Fj,Dt.W,V.JJ,H.oH],encapsulation:2,changeDetection:0}),(0,a.gn)([(0,mt.A)(),(0,a.w6)("design:type",String)],Mt.prototype,"stringOutput",void 0),(0,a.gn)([(0,mt.A)(),(0,a.w6)("design:type",Boolean)],Mt.prototype,"booleanOutput",void 0),Mt=xt=(0,a.gn)([(0,yt.i)(bt),(0,a.w6)("design:paramtypes",[lt.s,_t.v,vt.s])],Mt);const Tt=function(){var t,e=(t=function*(){return new((yield Promise.all([n.e(4023),n.e(2977)]).then(n.bind(n,97863))).StaticOutputRelationsEditorMetadata)},function(){var e=this,n=arguments;return new Promise((function(a,o){var s=t.apply(e,n);function i(t){It(s,a,o,i,r,"next",t)}function r(t){It(s,a,o,i,r,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();function Ot(t,e,n,a,o,s,i){try{var r=t[s](i),l=r.value}catch(t){return void n(t)}r.done?e(l):Promise.resolve(l).then(a,o)}var Ft;let Pt=Ft=class{constructor(t,e,n){this._changeDetector=t,this._relationsProcessor=e,this._componentManager=n}static get relationsId(){return"static-output"}ngOnInit(){var t,e=this;return(t=function*(){e._componentManager.registerComponent(Ft.relationsId,e),yield e._relationsProcessor.initialized,e._relationsProcessor.updateRelations(Ft.relationsId)},function(){var e=this,n=arguments;return new Promise((function(a,o){var s=t.apply(e,n);function i(t){Ot(s,a,o,i,r,"next",t)}function r(t){Ot(s,a,o,i,r,"throw",t)}i(void 0)}))})()}ngOnDestroy(){this._relationsProcessor.destroyComponent(Ft.relationsId),this._componentManager.unregisterComponent(Ft.relationsId)}invalidateVisuals(){this._changeDetector.detectChanges()}};function Nt(t,e){if(1&t&&T._U(0,"ng-option",11),2&t){const t=e.$implicit;N.Q("value",t)("text",t)}}Pt.ɵfac=function(t){return new(t||Pt)(k.Y(lt.s),k.Y(_t.v),k.Y(vt.s))},Pt.ɵcmp=M.Xp({type:Pt,selectors:[["static-output"]],inputs:{booleanInput:"booleanInput",stringInput:"stringInput"},standalone:!0,features:[Ct.j],decls:7,vars:2,template:function(t,e){1&t&&(T.Tg(0,"div"),O._(1,"OUTPUT:"),T.qZ(),T.Tg(2,"div")(3,"div"),O._(4),T.qZ(),T.Tg(5,"div"),O._(6),T.qZ()()),2&t&&(P.x(4),J.hi("string: ",e.stringInput,""),P.x(2),J.hi("boolean: ",e.booleanInput,""))},dependencies:[s.U],encapsulation:2,changeDetection:0}),Pt=Ft=(0,a.gn)([(0,yt.i)(Tt),(0,a.w6)("design:paramtypes",[lt.s,_t.v,vt.s])],Pt);const qt=function(t){return["/relationsComplex/layout",t]},Yt=function(t){return["/relationsComplex/relations",t]};let Rt=class{constructor(t,e,n,a){this._store=t,this._router=e,this._relationsManager=n,this._route=a,this._available=new Q.NI(""),this._metadata=null,this.selectedMetadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this.selectedMetadata=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this.selectedMetadata=null,this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsComplex/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};Rt.ɵfac=function(t){return new(t||Rt)(k.Y(w.U),k.Y(Z.F0),k.Y(S.N),k.Y(E.gz))},Rt.ɵcmp=M.Xp({type:Rt,selectors:[["layout-preview-view"]],features:[I._([{provide:g.qO,useFactory:t=>new m.I((e=>t.getData(e)?.layout)),deps:[w.U]},(0,L.AL)(),(0,v.WH)(),(0,y.qN)(),(0,f.ag)()])],decls:15,vars:11,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"copyClick"],[1,"margin-horizontal-small"],[1,"flex-row","margin-top-big","flex-1"],[1,"margin-right-extra-small"],[1,"flex-1","overflow-vertical-scroll","thin-scrollbar",2,"border","1px dotted #666"],[3,"layoutComponentRenderer"],[2,"width","200px"],[3,"value","text"]],template:function(t,e){1&t&&(T.Tg(0,"div",0)(1,"a",1),O._(2,"layout"),T.qZ(),T.Tg(3,"a",1),O._(4,"relations"),T.qZ(),T.Tg(5,"ng-select",2),A.Y(6,Nt,1,2,"ng-option",3),T.qZ(),T.Tg(7,"debug-data",4)(8,"div",5),O._(9),T.qZ()()(),T.Tg(10,"div",6),T._U(11,"static-input",7),T.Tg(12,"div",8),z.Gk(13,9),T.qZ(),T._U(14,"static-output",10),T.qZ()),2&t&&(P.x(1),N.Q("routerLink",j.VK(7,qt,e._available.value)),P.x(2),N.Q("routerLink",j.VK(9,Yt,e._available.value)),P.x(2),N.Q("formControl",e._available),P.x(1),N.Q("ngForOf",e._availableNames),P.x(1),N.Q("copyClick",e.selectedMetadata),P.x(2),J.Oq(e._available.value),P.x(4),N.Q("layoutComponentRenderer",e._metadata))},dependencies:[B.s,V.JJ,H.oH,X.y,K.x,W.w,$.v,G.i,it,ht,Mt,Pt],encapsulation:2,changeDetection:0}),Rt=(0,a.gn)([(0,p.N)({path:"preview"}),(0,p.N)({path:"preview/:id"}),(0,a.w6)("design:paramtypes",[w.U,Z.F0,S.N,E.gz])],Rt);var Ut=n(80734),Zt=n(20809),Et=n(54870),Qt=n(43801);class Lt extends Et.w{getDefinedTypes(){const t={};return t[Mt.relationsId]=Mt,t[Pt.relationsId]=Pt,t}}Lt.ɵfac=function(){let t;return function(e){return(t||(t=Qt.n5(Lt)))(e||Lt)}}(),Lt.ɵprov=ot.Yz({token:Lt,factory:Lt.ɵfac});var St=n(31166),At=n(36159);let zt=class{constructor(t,e){this._store=t,this._layoutManager=e,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(t){return{relations:t}}_loadDemo(){this._metadata=C.F.demoRelationsComplexRelations}_loadRestDemo(){this._metadata=C.F.complexDemoRestRelations}_loadFullDemo(){this._metadata=C.F.complexDemoFullRelations}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};zt.ɵfac=function(t){return new(t||zt)(k.Y(w.U),k.Y(Ut.n))},zt.ɵcmp=M.Xp({type:zt,selectors:[["relations-editor-view"]],features:[I._([{provide:Zt.te,useFactory:t=>new m.I((e=>t.getData(e)?.relations)),deps:[w.U]},{provide:m.I,useExisting:Zt.te},(0,L.Sf)(Lt),(0,f.vu)(),(0,y.Rn)(),(0,v.El)(),{provide:_.L,useClass:St.d}])],decls:15,vars:3,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsComplex/relations",3,"store","getMetadataCallback","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(T.Tg(0,"div",0)(1,"button",1)(2,"span"),O._(3,"go back"),T.qZ()(),T.Tg(4,"load-save-new",2),F.N("metadataChange",(function(t){return e.setMetadata(t)})),T.qZ(),T.Tg(5,"button",3),F.N("click",(function(){return e._loadDemo()})),T.Tg(6,"span"),O._(7,"demo"),T.qZ()(),T.Tg(8,"button",3),F.N("click",(function(){return e._loadRestDemo()})),T.Tg(9,"span"),O._(10,"demo rest"),T.qZ()(),T.Tg(11,"button",3),F.N("click",(function(){return e._loadFullDemo()})),T.Tg(12,"span"),O._(13,"demo full"),T.qZ()()(),T._U(14,"relations-editor",4)),2&t&&(P.x(4),N.Q("store",e._store)("getMetadataCallback",e._getMetadata),P.x(10),N.Q("metadata",e._metadata))},dependencies:[q.v,At.Y,R.Q],encapsulation:2,changeDetection:0}),(0,a.gn)([x.r,(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Array]),(0,a.w6)("design:returntype",Object)],zt.prototype,"_getMetadata",null),zt=(0,a.gn)([(0,p.N)({path:"relations"}),(0,p.N)({path:"relations/:id"}),(0,a.w6)("design:paramtypes",[w.U,Ut.n])],zt);const jt=[U,zt,Rt];var Jt=n(18567),Xt=n(53245);let Bt=class{};Bt.ɵfac=function(t){return new(t||Bt)},Bt.ɵmod=M.oA({type:Bt}),Bt.ɵinj=ot.cJ({providers:[(0,Xt.Y)("LAYOUT_RELATIONS_COMPLEX_DATA")],imports:[o.e,s.U,i.Bz,c.A,u.p,d.W,l.s,Jt.Qw,Mt,Pt]}),Bt=(0,a.gn)([(0,r.P)(jt)],Bt)}}]);
//# sourceMappingURL=6371.chunk.b3b2ac9c95b8146e1255.js.map