"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7961],{3504:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(27834);function o(e){return(0,r.R)(e,"layoutEditorDesignerType")}},43444:(e,t,n)=>{n.d(t,{w:()=>o});var r=n(27834);function o(e){return(0,r.R)(e,"layoutEditorMetadata")}},14966:(e,t,n)=>{n.d(t,{V:()=>j});var r=n(97881),o=n(32779),i=n(38935),s=n(27398),a=n(3504),d=n(43444),l=n(81293),c=n(54619),p=n(25657),u=n(31040),h=n(76523);function m(e,t,n,r,o,i,s){try{var a=e[i](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){m(i,r,o,s,a,"next",e)}function a(e){m(i,r,o,s,a,"throw",e)}s(void 0)}))}}const f=function(){var e=g((function*(){return new((yield n.e(2782).then(n.bind(n,62782))).PlaceholderLayoutEditorMetadata)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=g((function*(){return(yield n.e(7403).then(n.bind(n,47403))).PlaceholderDesignerSAComponent}));return function(){return e.apply(this,arguments)}}();var v=n(94386),y=n(80033),w=n(85410);class R{constructor(e){this.placeholderHandler=e}transform(e){return this.placeholderHandler.getOptions(e)}}R.ɵfac=function(e){return new(e||R)(y.Y(v.E,16))},R.ɵpipe=w.Yj({name:"containerMetadata",type:R,pure:!0,standalone:!0});var D=n(52622),P=n(46735),I=n(80354),E=n(5327),M=n(78190),b=n(46430),k=n(95741),O=n(10065);function S(e,t){1&e&&D.Gk(0)}let j=class extends i.h{constructor(){super(...arguments),this.placeholderHandler=(0,o.f3)(v.E),this.id=""}setId(e){this.id=e}};j.ɵfac=(()=>{let e;return function(t){return(e||(e=P.n5(j)))(t||j)}})(),j.ɵcmp=w.Xp({type:j,selectors:[["placeholder"]],standalone:!0,features:[I._([{provide:l.s,useFactory:()=>(0,o.f3)(v.E).relationsComponentManager},{provide:c.N,useFactory:()=>(0,o.f3)(v.E).relationsManager},{provide:p.v,useFactory:()=>(0,o.f3)(v.E).relationsProcessor},{provide:u.H,useFactory:()=>(0,o.f3)(v.E).relationsChangeDetector},{provide:h.Y,useFactory:()=>(0,o.f3)(v.E).relationsDebugger},{provide:v.E,useFactory:()=>new v.E(j)}]),E.q,M.j],decls:2,vars:3,consts:[[4,"layoutComponentRenderer"]],template:function(e,t){1&e&&(b.Y(0,S,1,0,"ng-container",0),k.AL(1,"containerMetadata")),2&e&&O.Q("layoutComponentRenderer",k.lc(1,1,t.id))},dependencies:[s.i,R],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0}),j=(0,r.gn)([(0,a.W)(C),(0,d.w)(f)],j)},77961:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o,extensions:()=>i});var r=n(72773);const o=n(14966).V,i=[r.Y]},72773:(e,t,n)=>{n.d(t,{Y:()=>i});var r=n(91955);function o(e,t,n,r,o,i,s){try{var a=e[i](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(r,o)}class i extends r.z{onInit(){var e,t=this;return(e=function*(){t.instance&&t.instance.setId(t.metadata.id)},function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,d,"next",e)}function d(e){o(s,r,i,a,d,"throw",e)}a(void 0)}))})()}}},94386:(e,t,n)=>{n.d(t,{E:()=>h});var r=n(32779),o=n(31530),i=n(14611),s=n(17640),a=n(81293),d=n(25657),l=n(31040),c=n(76523),p=n(54619),u=n(95127);class h{get id(){return this.ɵid??(this.ɵid=this.injector.get(this.componentWithIdType).id)}get isCustomComponent(){return!this.ɵisPlaceholder}get isPlaceholder(){return this.ɵisPlaceholder}get nearestCustomComponent(){let e=this;do{if(e.isCustomComponent)return e}while(e=e.parent);return null}get nearestDesignCustomComponent(){let e=this;do{if(e.isCustomComponent&&e.designMode)return e}while(e=e.parent);return null}get parent(){return this.ɵparent}get designMode(){return this.ɵdesignMode??(this.ɵdesignMode=this.ɵisPlaceholder?this.injector.get(i.t)instanceof s.e:this.injector.get(i.t,null,{skipSelf:!0})instanceof s.e)}get placeholderContainer(){return!(!this.parent||this.parent.isPlaceholder&&this.parent.designMode)}get layoutRenderer(){let e=this.injector.get(i.t,null,{skipSelf:!0});return e instanceof s.e||(e=null),e??this.findRelatedCustomComponentHandler()?.injector?.get(i.t,null,{skipSelf:!0})??null}get relationsComponentManager(){return this.getParentCustomComponentHandler()?.injector.get(a.s,void 0,{skipSelf:!0})??null}get relationsProcessor(){return this.getParentCustomComponentHandler()?.injector.get(d.v,void 0,{skipSelf:!0})??null}get relationsChangeDetector(){return this.getParentCustomComponentHandler()?.injector.get(l.H,void 0,{skipSelf:!0})??null}get relationsDebugger(){return this.getParentCustomComponentHandler()?.injector.get(c.Y,void 0,{skipSelf:!0,optional:!0})??null}get relationsManager(){return this.getParentCustomComponentHandler()?.injector.get(p.N,void 0,{skipSelf:!0})??null}constructor(e,t){this.componentWithIdType=e,this.customComponent=t,this.ɵparent=(0,r.f3)(h,{optional:!0,skipSelf:!0}),this.injector=(0,r.f3)(o.z),this.logger=(0,r.f3)(u.bZ),this.ɵisPlaceholder=!this.customComponent}getOptions(e){return this.isPlaceholder?this.parent?this.parent.getOptions(e):null:this.isCustomComponent&&this.customComponent?.options?.placeholderContainers?.[e]?this.customComponent.options.placeholderContainers[e]:this.parent?this.parent.getOptions(e):null}initOptions(){var e;const t=this.nearestDesignCustomComponent;if(t?.designMode&&t.customComponent)if(t.customComponent.options){if(!t.customComponent.options.placeholderContainers?.[this.id]){const n=`placeholderContainer-${t.id}-${this.id}`;(e=t.customComponent.options).placeholderContainers??(e.placeholderContainers={}),t.customComponent.options.placeholderContainers[this.id]={id:n,name:"placeholderContainer",package:"custom-components",displayName:n,options:{}}}}else this.logger.error("PlaceholderHandler: missing custom component options!");else this.logger.error("PlaceholderHandler: closes parent custom component should be in editation mode!")}findRelatedCustomComponentHandler(){let e=0,t=0,n=this;if(!n.parent)return null;do{if(n.parent.isCustomComponent&&n.parent.designMode)return e==t?n.parent:null;n.parent.isCustomComponent?t++:e++}while(n=n.parent);return null}getParentCustomComponentHandler(){let e=this;if(!e.parent)throw new Error("PlaceholderHandler: parent must be present to work with relations!");do{if(!e.isPlaceholder&&e.customComponent?.options?.placeholderContainers?.[this.id])return e}while(e=e.parent);return this.logger.error("PlaceholderHandler: unable to find owning custom component for {{@id}}",{id:this.id}),null}}},38935:(e,t,n)=>{n.d(t,{h:()=>u});var r=n(32779),o=n(49276),i=n(25413),s=n(31530),a=n(95127),d=n(73943),l=n(85410);function c(e,t,n,r,o,i,s){try{var a=e[i](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){c(i,r,o,s,a,"next",e)}function a(e){c(i,r,o,s,a,"throw",e)}s(void 0)}))}}class u{constructor(){this.extensions=[],this.destroyed=!1,this.changeDetector=(0,r.f3)(o.s),this.componentElement=(0,r.f3)(i.SB),this.injector=(0,r.f3)(s.z),this.logger=(0,r.f3)(a.bZ)}get optionsSafe(){if(!this.options)throw new Error("LayoutComponentBase: missing options");return this.options}get element(){return this.componentElement}get extensionsOptions(){return this.options}ngOnDestroy(){if(this.logger.debug("LayoutComponentBase: destroying component, isDestroyed {{destroyed}}",{destroyed:this.destroyed}),!this.destroyed){this.destroyed=!0;for(const e of this.extensions)e.destroy();this.onDestroy()}}dynamicOnInit(){var e=this;return p((function*(){const t=e.extensionsOptions;if(yield e.onInit(),yield e.onOptionsSet(),t)for(const t of e.extensions)yield t.initialize(e.injector,e.element,e);yield e.afterInit()}))()}dynamicOnChanges(e){var t=this;return p((function*(){if((0,d.$0)("options")in e){e[(0,d.$0)("options")].firstChange||(yield t.onOptionsSet());const n=t.extensionsOptions;if(n)for(const e of t.extensions)yield e.optionsChange(n);if(e[(0,d.$0)("options")].firstChange)return;yield t.onOptionsChange()}delete e[(0,d.$0)("options")],(0,d.Qr)(e)||t.onChanges(e)}))()}registerExtensions(e){this.extensions=e}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(e){}onOptionsSet(){}onDestroy(){}}u.ɵfac=function(e){return new(e||u)},u.ɵdir=l.lG({type:u})},27398:(e,t,n)=>{n.d(t,{i:()=>h});var r=n(32779),o=n(26066),i=n(95127),s=n(19630),a=n(73943),d=n(41842),l=n(14611),c=n(85410),p=n(80354),u=n(56949);class h{constructor(){this.id=(0,a.Ox)(15),this.viewContainer=(0,r.f3)(o.s_),this.renderer=(0,r.f3)(l.t),this.parentRendererDirective=(0,r.f3)(h,{optional:!0,skipSelf:!0}),this.logger=(0,r.f3)(i.bZ),this.scopeId=(0,r.f3)(s.H$,{optional:!0}),this.childExtensions=(0,r.f3)(d.X5,{optional:!0,skipSelf:!0})}ngOnChanges(e){if((0,a.$0)("componentMetadata")in e){const t=e[(0,a.$0)("componentMetadata")];if((0,a.EN)(t.currentValue)&&(0,a.fp)(t.previousValue)){const e=t.currentValue;this.logger.debug('LayoutComponentRendererSADirective: registering component for rendering "{{id}}" inside renderer "{{rendererId}}" with parent renderer "{{parentRenderer}}" and parent component "{{parentComponent}}"',{id:e.id,rendererId:this.id,parentRenderer:this.parentRendererDirective?.id,parentComponent:this.parentRendererDirective?.componentMetadata?.id}),this.renderer.registerRenderer(this.id,this.parentRendererDirective?.id,this.viewContainer,e,this.parentRendererDirective?.componentMetadata,this.scopeId,this.childExtensions,this.renderedCallback,this.customInjector)}else if((0,a.EN)(t.currentValue)&&(0,a.EN)(t.previousValue)){this.logger.debug('LayoutComponentRendererSADirective: unregistering component from rendering "{{id}}"',{id:this.id}),this.renderer.unregisterRenderer(this.id);const e=t.currentValue;this.logger.debug('LayoutComponentRendererSADirective: registering component for rendering "{{id}}" inside renderer "{{rendererId}}" with parent renderer "{{parentRenderer}}" and parent component "{{parentComponent}}"',{id:e.id,rendererId:this.id,parentRenderer:this.parentRendererDirective?.id,parentComponent:this.parentRendererDirective?.componentMetadata?.id}),this.renderer.registerRenderer(this.id,this.parentRendererDirective?.id,this.viewContainer,e,this.parentRendererDirective?.componentMetadata,this.scopeId,this.childExtensions,this.renderedCallback,this.customInjector)}else(0,a.fp)(t.currentValue)&&(0,a.EN)(t.previousValue)&&(this.logger.debug('LayoutComponentRendererSADirective: unregistering component from rendering "{{id}}"',{id:this.id}),this.renderer.unregisterRenderer(this.id))}}ngOnDestroy(){this.logger.debug('LayoutComponentRendererSADirective: destroying renderer "{{id}}" with component "{{componentId}}"',{id:this.id,componentId:this.componentMetadata?.id}),this.renderer.destroyRenderer(this.id)}}h.ɵfac=function(e){return new(e||h)},h.ɵdir=c.lG({type:h,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],renderedCallback:["layoutComponentRendererCallback","renderedCallback"],customInjector:["layoutComponentRendererInjector","customInjector"]},standalone:!0,features:[p._([{provide:d.X5,useValue:null}]),u.T]})},91955:(e,t,n)=>{function r(e,t,n,r,o,i,s){try{var a=e[i](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,d,"next",e)}function d(e){r(s,o,i,a,d,"throw",e)}a(void 0)}))}}n.d(t,{z:()=>i});class i{constructor(e){this.metadata=e,this.initialized=!1}initialize(e,t,n){var r=this;return o((function*(){r.initialized=!0,r.injector=e,r.element=t,r.instance=n,yield r.onInit()}))()}optionsChange(e){var t=this;return o((function*(){t.options=e,t.initialized&&(yield t.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}}}]);
//# sourceMappingURL=7961.chunk.a700be63e3785a328814.js.map