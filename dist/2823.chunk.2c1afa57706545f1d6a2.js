"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[2823],{77653:(t,e,n)=>{n.d(e,{y:()=>i});var r=n(17505),o=n(38327);class i extends r.L{constructor(){super("LAYOUT_PACKAGES_STORE")}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},31166:(t,e,n)=>{n.d(e,{d:()=>i});var r=n(17505),o=n(38327);class i extends r.L{constructor(){super("RELATIONS_PACKAGES_STORE")}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},9545:(t,e,n)=>{n.d(e,{Z:()=>F});var r=n(35375),o=n(60405),i=n(44155),a=n(49891),s=n(23199),u=n(50267),c=n(50486),l=n(21813),d=n(85309),y=n(71785),p=n(52053),f=n(79440),h=n(68961),m=n(13691),v=n(73379),g=n(36973),_=n(82568),w=n(80827),b=n(4477),P=n(66794),k=n(73301),T=n(56454),x=n(6535),C=n(2538),S=n(75464);class F{constructor(t,e,n){this.history=t,this.changeDetector=e,this.hotkeys=n,this.initSubscriptions=new s.w0,this.metadata=null,n?.init()}ngOnInit(){this.initSubscriptions.add(this.history.pop.subscribe((t=>{this.metadata=t,this.changeDetector.detectChanges()}))),this.hotkeys&&(this.initSubscriptions.add(this.hotkeys.undo.subscribe((()=>this.history.undo()))),this.initSubscriptions.add(this.hotkeys.redo.subscribe((()=>this.history.redo()))))}ngOnChanges(t){(0,a.$)("metadata")in t&&(this.history.clean(),this.metadata&&this.history.setInitialState(this.metadata))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.hotkeys?.destroy()}}F.ɵfac=function(t){return new(t||F)(f.Y(y.dB),f.Y(h.s),f.Y(T.z,8))},F.ɵcmp=m.Xp({type:F,selectors:[["layout-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[v._([d.NX,p.E]),g.T,_.j],decls:10,vars:1,consts:[[1,"flex-row","margin-top-big","flex-1"],["label","Hierarchy"],["label","Palette"],[1,"flex-1","layout-content","thin-scrollbar"],[3,"layoutComponentRenderer"]],template:function(t,e){1&t&&(w.Tg(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),w._U(3,"components-tree"),w.qZ(),w.Tg(4,"mat-tab",2),w._U(5,"package-manager")(6,"components-palette"),w.qZ()(),w.Tg(7,"div",3),b.Gk(8,4),w.qZ(),w._U(9,"properties-editor"),w.qZ()),2&t&&(P.x(8),k.Q("layoutComponentRenderer",e.metadata))},dependencies:[c.D,u.O,l.M,o.i,i.F,x.X,r.N,C.SP,S.u],styles:[".layout-content[_ngcontent-%COMP%]\n{\n    overflow-y: scroll;\n    overflow-x: hidden;\n}","[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},85309:(t,e,n)=>{n.d(e,{G5:()=>F,Nc:()=>T,Q3:()=>S,TA:()=>x,NX:()=>C,r4:()=>L,f4:()=>N,DN:()=>M,qF:()=>D});var r=n(60640),o=n(11776),i=n(65569),a=n(44677),s=n(12193),u=n(13457),c=n(44055),l=n(8477),d=n(46480),y=n(38327);function p(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}class f{constructor(t){this._logger=t}tryToGet(t){var e,r=this;return(e=function*(){if("@anglr/dynamic/layout-editor"!=t.package)return null;try{if(r._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),"layout-designer"==t.name)return yield n.e(5563).then(n.bind(n,95563))}catch(e){r._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found, reason:"+e,{name:t.name,package:t.package})}return r._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found",{name:t.name,package:t.package}),null},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){p(i,r,o,a,s,"next",t)}function s(t){p(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}function h(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}f.ɵfac=function(t){return new(t||f)(o.LF(d.bZ,8))},f.ɵprov=y.Yz({token:f,factory:f.ɵfac});class m{constructor(t){this._logger=t}tryToGet(t){var e,r=this;return(e=function*(){try{switch(r._logger?.debug("DefaultDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:t.package}),t.package){case"basic-components":return yield n.e(4771).then(n.bind(n,4771));case"material-components":return yield n.e(1125).then(n.bind(n,41125));default:return null}}catch(e){r._logger?.debug("DefaultDynamicModuleTypesProvider: module {@module} was not found, reason: "+e,{moduleName:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}m.ɵfac=function(t){return new(t||m)(o.LF(d.bZ,8))},m.ɵprov=y.Yz({token:m,factory:m.ɵfac});var v=n(83434),g=n(71785),_=n(94596),w=n(97149),b=n(9142);function P(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}const k=function(){var t,e=(t=function*(t,e){const n=yield(0,a.L)(t,e),r=yield(0,b.k)(t,e),o=n?.data;if(e?.debug("layoutDesignerTypeExtractor: trying to extract default dynamic data"),!o?.layoutEditorDesignerType)return null;const i=yield o?.layoutEditorDesignerType;return i?{data:i,childExtensions:r?.childExtensions,extensions:r?.extensions}:null},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){P(i,r,o,a,s,"next",t)}function s(t){P(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),T={provide:l.gM,useFactory:t=>new i.$([k],t),deps:[[new r.Fi,d.bZ]],multi:!0},x={provide:l.Aw,useClass:f,multi:!0},C={provide:l.xM,useValue:function(t){return{id:`${t.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:t}}}},S={provide:g.sc,useClass:m,multi:!0},F={provide:g.FX,useFactory:t=>new i.$([a.L],t),deps:[[new r.Fi,d.bZ]],multi:!0},L={provide:g.RI,useValue:[_.$]},D={provide:g.QT,useFactory:()=>new s.S((0,o.f3)(g.sc),(0,o.f3)(g.FX),w.G,(0,o.f3)(d.bZ,{optional:!0})??void 0)},M={provide:u.Q,useExisting:v.t},N={provide:g.dB,useClass:c.Y}},94596:(t,e,n)=>{n.d(e,{$:()=>r});const r=Symbol("LayoutPropertyMetadata")},97149:(t,e,n)=>{n.d(e,{G:()=>p,_:()=>y});var r=n(14389),o=n(2991),i=n(43939),a=n(85309),s=n(85902),u=n(43671),c=n(83434),l=n(98906),d=n(26938);function y(t=!0,e=["basic-components","material-components"]){return[...t?[a.Nc]:[],...(0,o._)(),a.TA,a.Q3,a.G5,a.r4,a.qF,s.T,u.L,c.t,l.z,d.$,a.f4,a.DN,...e.map((t=>(0,r.X)(t)))]}const p=function(t){return!((0,i.fp)(t?.data)||!Array.isArray(t.data))}},11650:(t,e,n)=>{n.d(e,{c:()=>u});var r=n(99109),o=n(9545),i=n(97149),a=n(13691),s=n(38327);class u{static withProviders(t=!0,e){return{ngModule:u,providers:[(0,i._)(t,e)]}}}u.ɵfac=function(t){return new(t||u)},u.ɵmod=a.oA({type:u}),u.ɵinj=s.cJ({imports:[o.Z,r.u]})},75398:(t,e,n)=>{n.d(e,{AL:()=>F,$R:()=>L,Sf:()=>D});var r=n(2991),o=n(56224),i=n(47432),a=n(91861),s=n(53971),u=n(54870),c=n(97149),l=n(26938),d=n(14389),y=n(46480),p=n(11776),f=n(38327),h=n(8477),m=n(23199),v=n(80734);function g(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)}))}}function w(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return w=function(t){this.s=t,this.n=t.next},w.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new w(t)}class b{constructor(t,e,n){this._layoutManager=t,this._loader=e,this._iteratorSvc=n,this._initSubscriptions=new m.w0,this._definedTypes={},this._initPromise=null,this._initSubscriptions.add(this._layoutManager.layoutChange.subscribe((()=>this._initPromise=null)))}get types(){return this._initPromise??(this._initPromise=this._initializeTypes()),this._initPromise.then((()=>Object.keys(this._definedTypes)))}ngOnDestroy(){this._initSubscriptions.unsubscribe()}getType(t){var e=this;return _((function*(){return yield e._initPromise??(e._initPromise=e._initializeTypes()),e._definedTypes[t]?.type??null}))()}getDisplayName(t){var e=this;return _((function*(){return yield e._initPromise??(e._initPromise=e._initializeTypes()),e._definedTypes[t]?.displayName??void 0}))()}_initializeTypes(){var t=this;return _((function*(){if(t._definedTypes={},!t._layoutManager.layout)return;const e=t._iteratorSvc.getIteratorFor(t._layoutManager.layout);var n,r=!1,o=!1;try{for(var i,a=function(t){var e,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(e=t[n]))return e.call(t);if(r&&null!=(e=t[r]))return new w(e.call(t));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(e);r=!(i=yield a.next()).done;r=!1){const e=i.value,n=yield t._loader.loadItem(e.metadata);n&&(t._definedTypes[e.metadata.id]={type:n.data,displayName:e.metadata.displayName})}}catch(t){o=!0,n=t}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(o)throw n}}}))()}}function P(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}b.ɵfac=function(t){return new(t||b)(p.LF(v.n),p.LF(h.Vl),p.LF(l.$))},b.ɵprov=f.Yz({token:b,factory:b.ɵfac});class k{constructor(t,e){this._componentsRegister=t,this._logger=e}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsNodesProvider: trying to get node {@item}",{name:t.name,package:t.package});const e=yield n._componentsRegister.getType(t.name);return e?{default:e,displayName:yield n._componentsRegister.getDisplayName(t.name)}:null},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){P(i,r,o,a,s,"next",t)}function s(t){P(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}function T(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}k.ɵfac=function(t){return new(t||k)(p.LF(b),p.LF(y.bZ,8))},k.ɵprov=f.Yz({token:k,factory:k.ɵfac});class x{constructor(t,e,n){this._componentsRegister=t,this._loader=e,this._logger=n}tryToGet(t){var e,n=this;return(e=function*(){if("layout-components"!=t.package)return null;n._logger?.debug("LayoutComponentsRelationsTypesProvider: trying to get relations types {@item}",{name:t.name,package:t.package});const e=yield n._componentsRegister.types;if(!e)return null;const r=[];for(const t of e)(yield n._loader.loadItem({package:"layout-components",name:t}))?.data&&r.push(t);return{default:r}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){T(i,r,o,a,s,"next",t)}function s(t){T(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}x.ɵfac=function(t){return new(t||x)(p.LF(b),p.LF(a.fI),p.LF(y.bZ,8))},x.ɵprov=f.Yz({token:x,factory:x.ɵfac});const C={provide:a.n7,useClass:k,multi:!0},S={provide:a.GP,useClass:x,multi:!0};function F(){return[...(0,r._)(),...(0,o.A)()]}function L(t){return[...(0,c._)(!1,t),...(0,i.TN)([]),C,S,v.n,b,l.$,{provide:a.dK,useFactory:t=>t.layoutChange,deps:[v.n],multi:!0},(0,d.X)("layout-components")]}function D(t,e){return[...L(e),s.I_,s.UB,{provide:u.w,useClass:t},(0,d.X)("static-components")]}},66888:(t,e,n)=>{n.d(e,{W:()=>u});var r=n(11650),o=n(22654),i=n(75398),a=n(13691),s=n(38327);class u{static withProviders(t){return{ngModule:u,providers:[(0,i.$R)(t)]}}static withStaticComponents(t,e){return{ngModule:u,providers:[(0,i.Sf)(t,e)]}}}u.ɵfac=function(t){return new(t||u)},u.ɵmod=a.oA({type:u}),u.ɵinj=s.cJ({imports:[r.c,o.Y]})},80734:(t,e,n)=>{n.d(e,{n:()=>i});var r=n(86463),o=n(38327);class i{constructor(){this._layout=null,this._layoutChange=new r.x}get layout(){return this._layout}get layoutChange(){return this._layoutChange.asObservable()}setLayout(t){this._layout!=t&&(this._layout=t,this._layoutChange.next())}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=o.Yz({token:i,factory:i.ɵfac})},22654:(t,e,n)=>{n.d(e,{Y:()=>s});var r=n(36159),o=n(47432),i=n(13691),a=n(38327);class s{static withProviders(t){return{ngModule:s,providers:[(0,o.TN)(t)]}}static withStaticComponents(t,e){return{ngModule:s,providers:[(0,o.hE)(t,e)]}}}s.ɵfac=function(t){return new(t||s)},s.ɵmod=i.oA({type:s}),s.ɵinj=a.cJ({imports:[r.Y]})},56224:(t,e,n)=>{n.d(e,{X:()=>g,A:()=>_});var r=n(43939),o=n(60640),i=n(11776),a=n(86707),s=n(65569),u=n(12193),c=n(46480),l=n(20809),d=n(10439);const y={provide:l.B6,useClass:a.o,multi:!0},p={provide:l.u7,useFactory:t=>new s.$([d.j],t),deps:[[new o.Fi,c.bZ]],multi:!0},f={provide:l.TZ,useFactory:()=>new u.S((0,i.f3)(l.B6),(0,i.f3)(l.u7),g,(0,i.f3)(c.bZ,{optional:!0})??void 0)};var h=n(86485),m=n(75990),v=n(96130);const g=function(t){return!((0,r.fp)(t?.data)||!(0,r.P9)(t.data))};function _(){return[y,p,f,h.s,m.N,v.v]}},84967:(t,e,n)=>{n.d(e,{v:()=>s});var r=n(79440),o=n(13691),i=n(72891),a=n(55129);class s{constructor(t){this._location=t}goBack(t){t.preventDefault(),t.stopPropagation(),this._location.back()}}s.ɵfac=function(t){return new(t||s)(r.Y(a.Y))},s.ɵdir=o.lG({type:s,selectors:[["","goBack",""]],hostBindings:function(t,e){1&t&&i.N("click",(function(t){return e.goBack(t)}))}})},97212:(t,e,n)=>{n.d(e,{p:()=>i});var r=n(13691),o=n(38327);class i{}i.ɵfac=function(t){return new(t||i)},i.ɵmod=r.oA({type:i}),i.ɵinj=o.cJ({})}}]);
//# sourceMappingURL=2823.chunk.2c1afa57706545f1d6a2.js.map