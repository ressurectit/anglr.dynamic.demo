"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[4499],{3971:(e,t,n)=>{n.d(t,{$:()=>G});var i=n(97881),o=n(58853),r=n(38935),s=n(27398),a=n(29415),d=n(3504),c=n(43444),l=n(32779),p=n(31530),u=n(19630),h=n(14611),m=n(81293),f=n(25657),g=n(31040),v=n(80033),y=n(85410),C=n(80354);class x{constructor(e,t){this.componentManager=e,this.relationsProcessor=t}ngOnDestroy(){this.componentManager.ngOnDestroy(),this.relationsProcessor.destroyScope()}}x.ɵfac=function(e){return new(e||x)(v.Y(m.s),v.Y(f.v))},x.ɵdir=y.lG({type:x,selectors:[["","scopedRelations",""]],standalone:!0,features:[C._([{provide:m.s,useFactory:()=>(0,l.f3)(m.s,{skipSelf:!0}).openScope((0,l.f3)(u.H$))},{provide:f.v,useFactory:()=>(0,l.f3)(f.v,{skipSelf:!0}).openScope((0,l.f3)(u.H$),(0,l.f3)(m.s),(0,l.f3)(p.z))},g.H,h.t])]});var R=n(44902),I=n(7312),w=n(73943);function D(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){D(r,i,o,s,a,"next",e)}function a(e){D(r,i,o,s,a,"throw",e)}s(void 0)}))}}const S=function(){var e=P((function*(){return new((yield Promise.all([n.e(9177),n.e(5383)]).then(n.bind(n,71969))).ListBlockLayoutEditorMetadata)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=P((function*(){return new((yield Promise.all([n.e(7052),n.e(8748),n.e(5666),n.e(9798)]).then(n.bind(n,99798))).ListBlockRelationsEditorMetadata)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=P((function*(){return(yield Promise.all([n.e(590),n.e(1175)]).then(n.bind(n,1469))).ListBlockDesignerSAComponent}));return function(){return e.apply(this,arguments)}}();var b=n(76311);let $=class{constructor(){this.datum=null,this.index=0,this.first=!1,this.last=!1}invalidateVisuals(){}};(0,i.gn)([(0,b.A)(),(0,i.w6)("design:type",Object)],$.prototype,"datum",void 0),(0,i.gn)([(0,b.A)(),(0,i.w6)("design:type",Number)],$.prototype,"index",void 0),(0,i.gn)([(0,b.A)(),(0,i.w6)("design:type",Boolean)],$.prototype,"first",void 0),(0,i.gn)([(0,b.A)(),(0,i.w6)("design:type",Boolean)],$.prototype,"last",void 0),$=(0,i.gn)([(0,R.h)({outputs:[(0,w.$0)("datum"),(0,w.$0)("index"),(0,w.$0)("first"),(0,w.$0)("last")]})],$);var k=n(56949);function E(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}class z{constructor(){this.initialized=!1,this.componentManager=(0,l.f3)(m.s),this.relationsProcessor=(0,l.f3)(f.v),this.relations=new $,this.datum=null,this.index=0,this.first=!1,this.last=!1,this.componentId=""}ngOnChanges(e){var t,n=this;return(t=function*(){(0,w.$0)("componentId")in e&&!n.initialized&&n.componentId&&(n.initialized=!0,n.componentManager.registerComponent(n.componentId,n.relations),yield n.relationsProcessor.initialized,n.relationsProcessor.updateRelations(n.componentId)),(0,w.$0)("datum")in e&&(n.relations.datum=n.datum),(0,w.$0)("index")in e&&(n.relations.index=n.index),(0,w.$0)("first")in e&&(n.relations.first=n.first),(0,w.$0)("last")in e&&(n.relations.last=n.last)},function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function s(e){E(r,i,o,s,a,"next",e)}function a(e){E(r,i,o,s,a,"throw",e)}s(void 0)}))})()}ngOnDestroy(){this.relationsProcessor.destroyComponent(this.componentId),this.componentManager.unregisterComponent(this.componentId)}}z.ɵfac=function(e){return new(e||z)},z.ɵdir=y.lG({type:z,selectors:[["","listBlockScope",""]],inputs:{datum:"datum",index:"index",first:"first",last:"last",componentId:"componentId"},standalone:!0,features:[k.T]});var L=n(52622),j=n(67942),B=n(10065),V=n(46735),A=n(5327),_=n(78190),N=n(36273);function T(e,t){if(1&e&&L.Gk(0,0),2&e){const e=t.$implicit,n=t.$index,i=t.$count,o=j.o();B.Q("layoutComponentRenderer",null==o.options?null:o.options.template)("datum",e)("first",0===n)("last",n===i-1)("index",n)("componentId",o.id)}}let G=class extends r.h{constructor(){super(...arguments),this.id="",this.data=[]}setId(e){this.id=e}};G.ɵfac=(()=>{let e;return function(t){return(e||(e=V.n5(G)))(t||G)}})(),G.ɵcmp=y.Xp({type:G,selectors:[["list-block"]],inputs:{data:"data"},standalone:!0,features:[A.q,_.j],decls:2,vars:0,consts:[["scopedRelations","","listBlockScope","",3,"layoutComponentRenderer","datum","first","last","index","componentId"]],template:function(e,t){1&e&&N.Sj(0,T,1,6,"ng-container",0,N.x6),2&e&&N.wJ(t.data)},dependencies:[o.e,s.i,x,z],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0}),G=(0,i.gn)([(0,R.h)({inputs:[(0,w.$0)("data")]}),(0,a.T)((e=>e?.template?[e?.template]:[])),(0,d.W)(O),(0,I.i)(M),(0,c.w)(S)],G)},24499:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d,extensions:()=>c});var i=n(28369),o=n(44663),r=n(91955);function s(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}class a extends r.z{onInit(){var e,t=this;return(e=function*(){t.instance&&t.instance.setId(t.metadata.id)},function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){s(r,i,o,a,d,"next",e)}function d(e){s(r,i,o,a,d,"throw",e)}a(void 0)}))})()}}const d=n(3971).$,c=[i.O,o.i,a]},3504:(e,t,n)=>{n.d(t,{W:()=>o});var i=n(27834);function o(e){return(0,i.R)(e,"layoutEditorDesignerType")}},43444:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(27834);function o(e){return(0,i.R)(e,"layoutEditorMetadata")}},38935:(e,t,n)=>{n.d(t,{h:()=>u});var i=n(32779),o=n(49276),r=n(25413),s=n(31530),a=n(95127),d=n(73943),c=n(85410);function l(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function s(e){l(r,i,o,s,a,"next",e)}function a(e){l(r,i,o,s,a,"throw",e)}s(void 0)}))}}class u{constructor(){this.extensions=[],this.destroyed=!1,this.changeDetector=(0,i.f3)(o.s),this.componentElement=(0,i.f3)(r.SB),this.injector=(0,i.f3)(s.z),this.logger=(0,i.f3)(a.bZ)}get optionsSafe(){if(!this.options)throw new Error("LayoutComponentBase: missing options");return this.options}get element(){return this.componentElement}get extensionsOptions(){return this.options}ngOnDestroy(){if(this.logger.debug("LayoutComponentBase: destroying component, isDestroyed {{destroyed}}",{destroyed:this.destroyed}),!this.destroyed){this.destroyed=!0;for(const e of this.extensions)e.destroy();this.onDestroy()}}dynamicOnInit(){var e=this;return p((function*(){const t=e.extensionsOptions;if(yield e.onInit(),yield e.onOptionsSet(),t)for(const t of e.extensions)yield t.initialize(e.injector,e.element,e);yield e.afterInit()}))()}dynamicOnChanges(e){var t=this;return p((function*(){if((0,d.$0)("options")in e){e[(0,d.$0)("options")].firstChange||(yield t.onOptionsSet());const n=t.extensionsOptions;if(n)for(const e of t.extensions)yield e.optionsChange(n);if(e[(0,d.$0)("options")].firstChange)return;yield t.onOptionsChange()}delete e[(0,d.$0)("options")],(0,d.Qr)(e)||t.onChanges(e)}))()}registerExtensions(e){this.extensions=e}invalidateVisuals(){this.changeDetector.detectChanges()}onInit(){}afterInit(){}onOptionsChange(){}onChanges(e){}onOptionsSet(){}onDestroy(){}}u.ɵfac=function(e){return new(e||u)},u.ɵdir=c.lG({type:u})},27398:(e,t,n)=>{n.d(t,{i:()=>h});var i=n(32779),o=n(26066),r=n(95127),s=n(19630),a=n(73943),d=n(41842),c=n(14611),l=n(85410),p=n(80354),u=n(56949);class h{constructor(){this.id=(0,a.Ox)(15),this.viewContainer=(0,i.f3)(o.s_),this.renderer=(0,i.f3)(c.t),this.parentRendererDirective=(0,i.f3)(h,{optional:!0,skipSelf:!0}),this.logger=(0,i.f3)(r.bZ),this.scopeId=(0,i.f3)(s.H$,{optional:!0}),this.childExtensions=(0,i.f3)(d.X5,{optional:!0,skipSelf:!0})}ngOnChanges(e){if((0,a.$0)("componentMetadata")in e){const t=e[(0,a.$0)("componentMetadata")];if((0,a.EN)(t.currentValue)&&(0,a.fp)(t.previousValue)){const e=t.currentValue;this.logger.debug('LayoutComponentRendererSADirective: registering component for rendering "{{id}}" inside renderer "{{rendererId}}" with parent renderer "{{parentRenderer}}" and parent component "{{parentComponent}}"',{id:e.id,rendererId:this.id,parentRenderer:this.parentRendererDirective?.id,parentComponent:this.parentRendererDirective?.componentMetadata?.id}),this.renderer.registerRenderer(this.id,this.parentRendererDirective?.id,this.viewContainer,e,this.parentRendererDirective?.componentMetadata,this.scopeId,this.childExtensions,this.renderedCallback,this.customInjector)}else if((0,a.EN)(t.currentValue)&&(0,a.EN)(t.previousValue)){this.logger.debug('LayoutComponentRendererSADirective: unregistering component from rendering "{{id}}"',{id:this.id}),this.renderer.unregisterRenderer(this.id);const e=t.currentValue;this.logger.debug('LayoutComponentRendererSADirective: registering component for rendering "{{id}}" inside renderer "{{rendererId}}" with parent renderer "{{parentRenderer}}" and parent component "{{parentComponent}}"',{id:e.id,rendererId:this.id,parentRenderer:this.parentRendererDirective?.id,parentComponent:this.parentRendererDirective?.componentMetadata?.id}),this.renderer.registerRenderer(this.id,this.parentRendererDirective?.id,this.viewContainer,e,this.parentRendererDirective?.componentMetadata,this.scopeId,this.childExtensions,this.renderedCallback,this.customInjector)}else(0,a.fp)(t.currentValue)&&(0,a.EN)(t.previousValue)&&(this.logger.debug('LayoutComponentRendererSADirective: unregistering component from rendering "{{id}}"',{id:this.id}),this.renderer.unregisterRenderer(this.id))}}ngOnDestroy(){this.logger.debug('LayoutComponentRendererSADirective: destroying renderer "{{id}}" with component "{{componentId}}"',{id:this.id,componentId:this.componentMetadata?.id}),this.renderer.destroyRenderer(this.id)}}h.ɵfac=function(e){return new(e||h)},h.ɵdir=l.lG({type:h,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],renderedCallback:["layoutComponentRendererCallback","renderedCallback"],customInjector:["layoutComponentRendererInjector","customInjector"]},standalone:!0,features:[p._([{provide:d.X5,useValue:null}]),u.T]})},28369:(e,t,n)=>{n.d(t,{O:()=>r});var i=n(91955),o=n(73943);class r extends i.z{onInit(){this.applyStyling()}onOptionsChange(){this.applyStyling()}applyStyling(){const e=this.options,t=this.element?.nativeElement.style;if(this.element){if((0,o.EN)(this.lastCssClass))for(const e of this.lastCssClass.split(" "))e&&this.element.nativeElement.classList.remove(e);if(this.lastCssClass=e?.cssClass,e?.cssClass)for(const t of e.cssClass.split(" "))t&&this.element?.nativeElement.classList.add(t)}(0,o.EN)(t)&&(e?.margin&&(t.marginBottom=e.margin.bottom??"",t.marginRight=e.margin.right??"",t.marginTop=e.margin.top??"",t.marginLeft=e.margin.left??""),e?.padding&&(t.paddingBottom=e.padding.bottom??"",t.paddingRight=e.padding.right??"",t.paddingTop=e.padding.top??"",t.paddingLeft=e.padding.left??""),e?.textStyling&&(t.fontSize=e.textStyling.fontSize??"",t.fontWeight=e.textStyling.fontWeight?.toString()??""))}}},44663:(e,t,n)=>{n.d(t,{i:()=>a});var i=n(91955),o=n(25657),r=n(81293);function s(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}class a extends i.z{constructor(){super(...arguments),this.relationsProcessor=null,this.componentManager=null}onInit(){var e,t=this;return(e=function*(){t.injector&&t.metadata&&t.instance&&(t.relationsProcessor??(t.relationsProcessor=t.injector.get(o.v,null)),t.componentManager??(t.componentManager=t.injector.get(r.s,null)),t.relationsProcessor&&t.componentManager&&(t.componentManager.registerComponent(t.metadata.id,t.instance),yield t.relationsProcessor.initialized,t.relationsProcessor.updateRelations(t.metadata.id)))},function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){s(r,i,o,a,d,"next",e)}function d(e){s(r,i,o,a,d,"throw",e)}a(void 0)}))})()}onDestroy(){this.relationsProcessor&&this.componentManager&&this.metadata&&(this.relationsProcessor.destroyComponent(this.metadata.id),this.componentManager.unregisterComponent(this.metadata.id))}}},91955:(e,t,n)=>{function i(e,t,n,i,o,r,s){try{var a=e[r](s),d=a.value}catch(e){return void n(e)}a.done?t(d):Promise.resolve(d).then(i,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,d,"next",e)}function d(e){i(s,o,r,a,d,"throw",e)}a(void 0)}))}}n.d(t,{z:()=>r});class r{constructor(e){this.metadata=e,this.initialized=!1}initialize(e,t,n){var i=this;return o((function*(){i.initialized=!0,i.injector=e,i.element=t,i.instance=n,yield i.onInit()}))()}optionsChange(e){var t=this;return o((function*(){t.options=e,t.initialized&&(yield t.onOptionsChange())}))()}destroy(){this.onDestroy()}onInit(){}onOptionsChange(){}onDestroy(){}}}}]);
//# sourceMappingURL=4499.chunk.4d5396d10f2edc7fb1e9.js.map