"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7496],{97496:(t,s,e)=>{e.r(s),e.d(s,{default:()=>g});var n=e(2032),i=e(95176),r=e(64253),o=e(48488),a=e(9718),l=e(36759),u=e(89402),p=e(6552),h=e(46480),c=e(48050),f=e(88842);function d(t,s,e,n,i,r,o){try{var a=t[r](o),l=a.value}catch(t){return void e(t)}a.done?s(l):Promise.resolve(l).then(n,i)}const m=function(){var t,s=(t=function*(){return new((yield Promise.all([e.e(9360),e.e(4623),e.e(5957),e.e(930),e.e(7533)]).then(e.bind(e,18978))).RestRelationsEditorMetadata)},function(){var s=this,e=arguments;return new Promise((function(n,i){var r=t.apply(s,e);function o(t){d(r,n,i,o,a,"next",t)}function a(t){d(r,n,i,o,a,"throw",t)}o(void 0)}))});return function(){return s.apply(this,arguments)}}();let O=class{constructor(t){this.success={test:!0},this.error=null,this.http=t.get(r.e),this.logger=t.get(h.bZ)}get relationsOptions(){return this.ɵRelationsOptions}set relationsOptions(t){this.ɵRelationsOptions=t,this.initialize()}ngOnChanges(t){this.makeRequest()}invalidateVisuals(){}initialize(){if(this.relationsOptions&&this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const t of this.relationsOptions.params)t.configurable&&t.name&&Object.defineProperty(this,t.name,{configurable:!0,enumerable:!0,set:s=>t.value=s});this.relationsOptions?.runImmediately&&this.makeRequest()}makeRequest(){if(!this.relationsOptions||!this.relationsOptions.method||!this.relationsOptions.url)return void this.logger.warn("RestRelations: missing options for craeting http request {@data}",this.relationsOptions);let t=this.relationsOptions.url;const s=[];if(this.relationsOptions.params&&Array.isArray(this.relationsOptions.params))for(const t of this.relationsOptions.params)"PATH"===t.type&&s.push(t);for(const e of s)t=t.replace("{"+e.name+"}",e.value);const e=new o.a(this.relationsOptions.method,t,null,{reportProgress:!1,responseType:"json"});this.http.request(e).pipe((0,c.K)((t=>(this.success=null,this.error=t,f.E)))).subscribe((t=>{if(t.type==a.dt.Response&&t.status>=200&&t.status<=300)return this.success=t.body,void(this.error=null)}))}};(0,n.gn)([(0,l.A)(),(0,n.w6)("design:type",Object)],O.prototype,"success",void 0),(0,n.gn)([(0,l.A)(),(0,n.w6)("design:type",Object)],O.prototype,"error",void 0),O=(0,n.gn)([(0,u.H)(),(0,p.i)(m),(0,n.w6)("design:paramtypes",[i.z])],O);const g=O},89402:(t,s,e)=>{function n(t){return!!t.__ɵɵRelationsComponent}function i(){return function(t){return t.__ɵɵRelationsComponent=!0,t}}e.d(s,{H:()=>i,O:()=>n})}}]);
//# sourceMappingURL=7496.chunk.282713f5a90334c0b160.js.map