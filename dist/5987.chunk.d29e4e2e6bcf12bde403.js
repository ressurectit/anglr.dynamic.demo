/*! For license information please see 5987.chunk.d29e4e2e6bcf12bde403.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[5987],{28438:(t,e,n)=>{n.d(e,{R:()=>E});var o=n(70625),i=n(71309),a=n(43939),s=n(64297),l=n(87316),r=n(79440),c=n(68961),d=n(77842),u=n(47098),g=n(82568),p=n(80827),h=n(72891),m=n(41853),f=n(66794),y=n(6427),v=n(43801),C=n(85902),b=n(47826);function M(t,e,n,o,i,a,s){try{var l=t[a](s),r=l.value}catch(t){return void n(t)}l.done?e(r):Promise.resolve(r).then(o,i)}class w extends l.k{constructor(t,e,n){super(t,e),this.dialog=n}showCodeEditor(){var t,e=this;return(t=function*(){if((0,a.fp)(e.property)||!e.languageModel)return;const t=yield(0,s.n)(e.dialog.open(i.I,{title:"Code editor",width:"75vw",height:"75vh",data:{content:e.form?.get(e.property)?.value??"",languageModel:e.languageModel}}).afterClosed());if((0,a.EN)(t)){const n=e.form?.get(e.property);n instanceof o.NI&&n.setValue(t.content)}},function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){M(a,o,i,s,l,"next",t)}function l(t){M(a,o,i,s,l,"throw",t)}s(void 0)}))})()}}function E(t,e){class n extends w{constructor(){super(...arguments),this.property=t,this.languageModel=e}}return n.ɵfac=function(){let t;return function(e){return(t||(t=v.n5(n)))(e||n)}}(),n.ɵcmp=d.Xp({type:n,selectors:[["code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[u.q,g.j],decls:3,vars:1,consts:[["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary","dynamic-margin-vertical-small",3,"click"]],template:function(t,e){1&t&&(p.Tg(0,"button",0),h.N("click",(function(){return e.showCodeEditor()})),p.Tg(1,"span"),m._(2),p.qZ()()),2&t&&(f.x(2),y.hi("Edit ",e.property,""))},encapsulation:2,changeDetection:0}),n}w.ɵfac=function(t){return new(t||w)(r.Y(c.s),r.Y(C.T),r.Y(b.J))},w.ɵcmp=d.Xp({type:w,selectors:[["base-code-properties-control"]],inputs:{property:"property",languageModel:"languageModel"},standalone:!0,features:[u.q,g.j],decls:3,vars:1,consts:[["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary","dynamic-margin-vertical-small",3,"click"]],template:function(t,e){1&t&&(p.Tg(0,"button",0),h.N("click",(function(){return e.showCodeEditor()})),p.Tg(1,"span"),m._(2),p.qZ()()),2&t&&(f.x(2),y.hi("Edit ",e.property,""))},encapsulation:2,changeDetection:0})},85902:(t,e,n)=>{n.d(e,{T:()=>r});var o=n(8477),i=n(46480),a=n(11776),s=n(38327);function l(t,e,n,o,i,a,s){try{var l=t[a](s),r=l.value}catch(t){return void n(t)}l.done?e(r):Promise.resolve(r).then(o,i)}class r{constructor(t,e){this._loader=t,this._logger=e,this._cache={}}extractMetadata(t){var e,n=this;return(e=function*(){const e=`${t.package}-${t.name}`;if(n._cache[e])return n._cache[e];const o=yield n._loader.loadItem(t);if(!o)return null;const i=o.data;if(!i.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:t.package,name:t.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:t.package,name:t.name});const a=yield i.layoutEditorMetadata;return Object.freeze(a),n._cache[e]=a,a},function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(t){l(a,o,i,s,r,"next",t)}function r(t){l(a,o,i,s,r,"throw",t)}s(void 0)}))})()}}r.ɵfac=function(t){return new(t||r)(a.LF(o.Vl),a.LF(i.bZ,8))},r.ɵprov=s.Yz({token:r,factory:r.ɵfac})},71309:(t,e,n)=>{n.d(e,{I:()=>D});var o=n(9249),i=n(79440),a=n(77842),s=n(84773),l=n(80827),r=n(72891),c=n(41853),d=n(43870),u=n(11282),g=n(73301),p=n(66794),h=n(31750),m=n(80943),f=n(74445),y=n(49891),v=n(43939),C=n(58654);self.MonacoEnvironment={getWorkerUrl:function(t,e){return"json"===e?"dist/json.worker.js":"css"===e||"scss"===e||"less"===e?"dist/css.worker.js":"html"===e||"handlebars"==e?"dist/html.worker.js":"typescript"===e||"javascript"===e?"dist/ts.worker.js":"dist/editor.worker.js"}};const b={target:C.Mj.typescript.ScriptTarget.ES2020,module:C.Mj.typescript.ModuleKind.CommonJS,moduleResolution:C.Mj.typescript.ModuleResolutionKind.NodeJs,allowNonTsExtensions:!0,removeComments:!0,noEmitOnError:!0,noImplicitAny:!0,noImplicitReturns:!0,noImplicitOverride:!0,noImplicitThis:!0,noUnusedLocals:!0,noUnusedParameters:!0,strict:!0,strictNullChecks:!0,esModuleInterop:!0,newLine:C.Mj.typescript.NewLineKind.LineFeed,typeRoots:["node_modules/@types"]};C.Mj.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),C.Mj.typescript.typescriptDefaults.setCompilerOptions(b);var M=n(4905),w=n(36973);function E(t,e,n,o,i,a,s){try{var l=t[a](s),r=l.value}catch(t){return void n(t)}l.done?e(r):Promise.resolve(r).then(o,i)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){E(a,o,i,s,l,"next",t)}function l(t){E(a,o,i,s,l,"throw",t)}s(void 0)}))}}class k{constructor(t){this.element=t,this.codeEditor=null,this.openedFile=null,this.changeEvent=null,this.save=new f.v,this.contentChange=new f.v}ngOnChanges(t){(0,y.$)("languageModel")in t&&this.languageModel&&(0,y.$)("content")in t&&(0,v.EN)(this.content)&&this.updateContent()}ngAfterViewInit(){this.createEditor()}saveContent(){var t=this;return _((function*(){t.openedFile&&t.codeEditor&&t.languageModel&&t.save.emit({content:t.openedFile.getValue(),code:yield t.languageModel.compiledCode(t.codeEditor)})}))()}ngOnDestroy(){this.changeEvent?.dispose(),this.changeEvent=null,this.openedFile?.dispose(),this.openedFile=null,this.codeEditor?.dispose(),this.codeEditor=null}createEditor(){var t=this;this.codeEditor=C.j6.create(this.element.nativeElement,{theme:"vs-dark",model:this.openedFile,lightbulb:{enabled:!0},bracketPairColorization:{enabled:!0},minimap:{enabled:!0}}),this.codeEditor.addCommand(C.DC.CtrlCmd|C.VD.KeyS,(()=>{this.saveContent()})),this.changeEvent=this.codeEditor.onDidChangeModelContent(_((function*(){t.openedFile&&t.languageModel&&t.codeEditor&&t.contentChange.emit({content:t.openedFile.getValue(),code:yield t.languageModel.compiledCode(t.codeEditor)})})))}updateContent(){this.openedFile?.dispose(),this.openedFile=null,this.languageModel&&!(0,v.fp)(this.content)&&(this.openedFile=C.j6.createModel((this.content||this.languageModel.initialData)??"",this.languageModel.language,C.Sf.file(`file:///index.${this.languageModel.extension}`)),this.codeEditor?.setModel(this.openedFile))}}function x(t,e,n,o,i,a,s){try{var l=t[a](s),r=l.value}catch(t){return void n(t)}l.done?e(r):Promise.resolve(r).then(o,i)}k.monacoInit=!0,k.ɵfac=function(t){return new(t||k)(i.Y(M.SB))},k.ɵcmp=a.Xp({type:k,selectors:[["code-editor"]],inputs:{content:"content",languageModel:"languageModel"},outputs:{save:"save",contentChange:"contentChange"},features:[w.T],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0});class D{constructor(t,e){this.data=t,this.dialog=e,this.editorContent=null}saveAndClose(t){var e,n=this;return(e=function*(){yield t.saveContent(),n.dialog.close(n.editorContent)},function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(t){x(a,o,i,s,l,"next",t)}function l(t){x(a,o,i,s,l,"throw",t)}s(void 0)}))})()}}D.ɵfac=function(t){return new(t||D)(i.Y(o.m),i.Y(h.s))},D.ɵcmp=a.Xp({type:D,selectors:[["code-editor-dialog"]],decls:9,vars:3,consts:[[2,"height","calc(75vh - 32px)","width","calc(75vw - 20px)",3,"content","languageModel","save"],["editor",""],[1,"dynamic-flex-row","dynamic-flex-end","dynamic-margin-top-extra-small"],["type","button","type","button",1,"dynamic-btn","btn-info","dynamic-margin-right-extra-small",3,"mat-dialog-close"],["type","button","type","button",1,"dynamic-btn","dynamic-btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=s.E();l.Tg(0,"code-editor",0,1),r.N("save",(function(t){return e.editorContent=t})),l.qZ(),l.Tg(2,"div",2)(3,"button",3)(4,"span"),c._(5,"cancel"),l.qZ()(),l.Tg(6,"button",4),r.N("click",(function(){d.CH(t);const n=u.M(1);return d.Kt(e.saveAndClose(n))})),l.Tg(7,"span"),c._(8,"ok"),l.qZ()()()}2&t&&(g.Q("content",e.data.content)("languageModel",e.data.languageModel),p.x(3),g.Q("mat-dialog-close",null))},dependencies:[m.ZT,k],encapsulation:2,changeDetection:0})},53136:(t,e,n)=>{n.d(e,{y:()=>o});class o{constructor(t,e,n,o){this.language=t,this.extension=e,this.compiledCode=n,this.initialData=o}}},64297:(t,e,n)=>{n.d(e,{n:()=>i});var o=n(68753);function i(t,e){const n="object"==typeof e;return new Promise(((i,a)=>{let s,l=!1;t.subscribe({next:t=>{s=t,l=!0},error:a,complete:()=>{l?i(s):n?i(e.defaultValue):a(new o.K)}})}))}},80943:(t,e,n)=>{n.d(e,{ZT:()=>h});var o=n(31750),i=n(79440),a=n(4905),s=n(77842),l=n(72891),r=n(86357),c=n(36973),d=n(98171),u=n(85320),g=n(77417);let p=0;class h{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=v(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){(0,o.R)(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}h.ɵfac=function(t){return new(t||h)(i.Y(o.s,8),i.Y(a.SB),i.Y(g.uw))},h.ɵdir=s.lG({type:h,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&l.N("click",(function(t){return e._onButtonClick(t)})),2&t&&r.u("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.T]});class m{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+p++}ngOnInit(){this._dialogRef||(this._dialogRef=v(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)}))}}m.ɵfac=function(t){return new(t||m)(i.Y(o.s,8),i.Y(a.SB),i.Y(g.uw))},m.ɵdir=s.lG({type:m,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&d.I("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]});class f{}f.ɵfac=function(t){return new(t||f)},f.ɵdir=s.lG({type:f,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]});class y{constructor(){this.align="start"}}function v(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((t=>t.id===n.id)):null}y.ɵfac=function(t){return new(t||y)},y.ɵdir=s.lG({type:y,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(t,e){2&t&&u.ek("mat-dialog-actions-align-center","center"===e.align)("mat-dialog-actions-align-end","end"===e.align)},inputs:{align:"align"}})}}]);
//# sourceMappingURL=5987.chunk.d29e4e2e6bcf12bde403.js.map