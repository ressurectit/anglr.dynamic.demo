"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[5184],{85184:(t,e,a)=>{a.r(e),a.d(e,{RelationsWithLayoutEditorModule:()=>yt});var n=a(14392),o=a(76668),r=a(27052),i=a(68624),s=a(97212),l=a(89001),u=a(35648),d=a(66888),c=a(94761),p=a(8477),g=a(71785),h=a(97149),y=a(56454),m=a(22804),_=a(17505),v=a(44055),b=a(56179),f=a(99043),w=a(57489),x=a(57466),k=a(27049),M=a(85638),N=a(89952),C=a(77653),L=a(79440),T=a(13691),U=a(73379),Y=a(80827),D=a(41853),Q=a(72891),q=a(66794),F=a(73301),O=a(84967),Z=a(9545),R=a(86825);let W=class{constructor(t,e){this._store=t,this.history=e,this._metadata=null}get emptyMetadata(){return{id:`stackPanel-${(0,x.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}_getMetadata(t){return{layout:t}}_loadDemo(){this._metadata=M.F.demoLayoutWithRelations}};W.ɵfac=function(t){return new(t||W)(L.Y(N.U),L.Y(g.dB))},W.ɵcmp=T.Xp({type:W,selectors:[["layout-editor-view"]],features:[U._([y.z,{provide:p.qO,useFactory:t=>new m.I((e=>t.getData(e)?.layout)),deps:[N.U]},(0,h._)(),(0,b.vQ)(),(0,f.gJ)(),(0,w.hd)(),{provide:_.L,useClass:C.y}])],decls:9,vars:4,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/layout",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"button",1)(2,"span"),D._(3,"go back"),Y.qZ()(),Y.Tg(4,"load-save-new",2),Q.N("metadataChange",(function(t){let a;return e._metadata=null!==(a=null==t?null:t.layout)&&void 0!==a?a:e.emptyMetadata})),Y.qZ(),Y.Tg(5,"button",3),Q.N("click",(function(){return e._loadDemo()})),Y.Tg(6,"span"),D._(7,"demo"),Y.qZ()()(),Y._U(8,"layout-editor",4)),2&t&&(q.x(4),F.Q("store",e._store)("getMetadataCallback",e._getMetadata)("history",e.history),q.x(4),F.Q("metadata",e._metadata))},dependencies:[O.v,Z.Z,R.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([k.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",Object)],W.prototype,"_getMetadata",null),W=(0,n.gn)([(0,c.N)({path:"layout"}),(0,c.N)({path:"layout/:id"}),(0,n.w6)("design:paramtypes",[N.U,v.Y])],W);var A=a(23710),E=a(15467),z=a(70625),I=a(75990),P=a(75398),j=a(15686),B=a(4477),J=a(94727),V=a(32361),X=a(12311),$=a(77470),H=a(27635),K=a(4489),S=a(68965),G=a(31686),tt=a(60405);function et(t,e){if(1&t&&Y._U(0,"ng-option",7),2&t){const t=e.$implicit;F.Q("value",t)("text",t)}}const at=function(t){return["/relationsWithLayoutEditor/layout",t]},nt=function(t){return["/relationsWithLayoutEditor/relations",t]};let ot=class{constructor(t,e,a,n){this._store=t,this._router=e,this._relationsManager=a,this._route=n,this._available=new z.NI(""),this._metadata=null,this._availableNames=[]}ngOnInit(){this._availableNames=this._store.getStored(),this._route.params.subscribe((({id:t})=>{if(t){this._available.setValue(t);const e=this._store.getData(t);this._metadata=e?.layout,this._relationsManager.setRelations(e.relations??[])}else this._relationsManager.setRelations([]);this._available.valueChanges.subscribe((t=>{this._router.navigate(["/relationsWithLayoutEditor/preview",t],{skipLocationChange:!1,replaceUrl:!0})}))}))}ngOnDestroy(){}};ot.ɵfac=function(t){return new(t||ot)(L.Y(N.U),L.Y(A.F0),L.Y(I.N),L.Y(E.gz))},ot.ɵcmp=T.Xp({type:ot,selectors:[["layout-preview-view"]],features:[U._([{provide:p.qO,useFactory:t=>new m.I((e=>t.getData(e)?.layout)),deps:[N.U]},(0,P.AL)(),(0,b.WH)(),(0,f.qN)(),(0,w.ag)()])],decls:10,vars:9,consts:[[1,"flex-row"],[1,"margin-horizontal-small",3,"routerLink"],[1,"flex-1",3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[1,"flex-row","margin-top-big","flex-1"],[1,"flex-1","overflow-vertical-scroll"],[3,"layoutComponentRenderer"],[3,"value","text"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"a",1),D._(2,"layout"),Y.qZ(),Y.Tg(3,"a",1),D._(4,"relations"),Y.qZ(),Y.Tg(5,"ng-select",2),j.Y(6,et,1,2,"ng-option",3),Y.qZ()(),Y.Tg(7,"div",4)(8,"div",5),B.Gk(9,6),Y.qZ()()),2&t&&(q.x(1),F.Q("routerLink",J.VK(5,at,e._available.value)),q.x(2),F.Q("routerLink",J.VK(7,nt,e._available.value)),q.x(2),F.Q("formControl",e._available),q.x(1),F.Q("ngForOf",e._availableNames),q.x(3),F.Q("layoutComponentRenderer",e._metadata))},dependencies:[X.s,$.JJ,H.oH,V.y,K.x,S.w,G.v,tt.i],encapsulation:2,changeDetection:0}),ot=(0,n.gn)([(0,c.N)({path:"preview"}),(0,c.N)({path:"preview/:id"}),(0,n.w6)("design:paramtypes",[N.U,A.F0,I.N,E.gz])],ot);var rt=a(91861),it=a(80734),st=a(20809),lt=a(31166),ut=a(36159);let dt=class{constructor(t,e,a){this._store=t,this.history=e,this._layoutManager=a,this._metadata=[]}get emptyMetadata(){return[]}_getMetadata(t){return{relations:t}}_loadDemo(){this._metadata=M.F.relationsWithLayoutDemo}setMetadata(t){this._metadata=t?.relations??this.emptyMetadata,this._layoutManager.setLayout(t?.layout)}};dt.ɵfac=function(t){return new(t||dt)(L.Y(N.U),L.Y(rt.nR),L.Y(it.n))},dt.ɵcmp=T.Xp({type:dt,selectors:[["relations-editor-view"]],features:[U._([y.z,{provide:st.te,useFactory:t=>new m.I((e=>t.getData(e)?.relations)),deps:[N.U]},(0,P.$R)(),(0,w.vu)(),(0,f.Rn)(),(0,b.El)(),{provide:_.L,useClass:lt.d}])],decls:9,vars:4,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-right-extra-small"],["routePath","/relationsWithLayoutEditor/relations",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(Y.Tg(0,"div",0)(1,"button",1)(2,"span"),D._(3,"go back"),Y.qZ()(),Y.Tg(4,"load-save-new",2),Q.N("metadataChange",(function(t){return e.setMetadata(t)})),Y.qZ(),Y.Tg(5,"button",3),Q.N("click",(function(){return e._loadDemo()})),Y.Tg(6,"span"),D._(7,"demo"),Y.qZ()()(),Y._U(8,"relations-editor",4)),2&t&&(q.x(4),F.Q("store",e._store)("getMetadataCallback",e._getMetadata)("history",e.history),q.x(4),F.Q("metadata",e._metadata))},dependencies:[O.v,ut.Y,R.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([k.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Array]),(0,n.w6)("design:returntype",Object)],dt.prototype,"_getMetadata",null),dt=(0,n.gn)([(0,c.N)({path:"relations"}),(0,c.N)({path:"relations/:id"}),(0,n.w6)("design:paramtypes",[N.U,v.Y,it.n])],dt);const ct=[ot,W,dt];var pt=a(18567),gt=a(53245),ht=a(38327);let yt=class{};yt.ɵfac=function(t){return new(t||yt)},yt.ɵmod=T.oA({type:yt}),yt.ɵinj=ht.cJ({providers:[(0,gt.Y)("LAYOUT_RELATIONS_DATA")],imports:[r.e,i.U,o.Bz,u.A,s.p,d.W,pt.Qw]}),yt=(0,n.gn)([(0,l.P)(ct)],yt)}}]);
//# sourceMappingURL=5184.chunk.34ba31fec1cdbcb9887c.js.map