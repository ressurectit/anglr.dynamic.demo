(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[1973],{31203:(e,t,a)=>{"use strict";a.r(t),a.d(t,{LayoutEditorModule:()=>Y});var n=a(14392),s=a(89001),r=a(11650),o=a(40921),i=a(45529),c=a(56179),u=a(99043),d=a(57489),l=a(8477),g=a(22804),m=a(17505),p=a(30688),f=a(94761),h=a(44055),k=a(89651),y=a(57466),v=a(27049),b=a(85638),P=a(89952),w=a(79440),_=a(77842),x=a(76405),F=a(72891),C=a(41853),M=a(66794),O=a(73301),T=a(41348),N=a(71298);let Z=class{get emptyMetadata(){return{id:`stackPanel-${(0,y.Ox)(10)}`,displayName:"root",package:"basic-components",name:"stackPanel",options:{children:[]}}}constructor(e,t){this.store=e,this.history=t,this._metadata=null}_getMetadata(e){return e}_loadDemo(){this._metadata=b.F.demoLayout}};Z.ɵfac=function(e){return new(e||Z)(w.Y(P.U),w.Y(k.dB))},Z.ɵcmp=_.Xp({type:Z,selectors:[["layout-editor-view"]],decls:6,vars:4,consts:[[1,"flex-row"],["routePath","/layout/editor",3,"store","getMetadataCallback","history","metadataChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(e,t){1&e&&(x.Tg(0,"div",0)(1,"load-save-new",1),F.N("metadataChange",(function(e){let a;return t._metadata=null!==(a=e)&&void 0!==a?a:t.emptyMetadata})),x.qZ(),x.Tg(2,"button",2),F.N("click",(function(){return t._loadDemo()})),x.Tg(3,"span"),C._(4,"demo"),x.qZ()()(),x._U(5,"layout-editor",3)),2&e&&(M.x(1),O.Q("store",t.store)("getMetadataCallback",t._getMetadata)("history",t.history),M.x(4),O.Q("metadata",t._metadata))},dependencies:[T.Z,N.Q],encapsulation:2,changeDetection:0}),(0,n.gn)([v.r,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",Object)],Z.prototype,"_getMetadata",null),Z=(0,n.gn)([(0,f.N)({path:"editor"}),(0,f.N)({path:"editor/:id"}),(0,n.w6)("design:paramtypes",[P.U,h.Y])],Z);const S=[Z];var D=a(18567),U=a(53245),q=a(77653),A=a(38327);let Y=class{};Y.ɵfac=function(e){return new(e||Y)},Y.ɵmod=_.oA({type:Y}),Y.ɵinj=A.cJ({providers:[{provide:l.qO,useFactory:e=>new g.I((t=>e.getData(t))),deps:[P.U]},(0,U.Y)("LAYOUT_DATA"),(0,o.rj)(),(0,i.m_)(),(0,c.vQ)(),(0,u.gJ)(),(0,d.hd)(),(0,p.iS)(),{provide:m.L,useClass:q.y}],imports:[r.c.withProviders(),D.Qw]}),Y=(0,n.gn)([(0,s.P)(S)],Y)},38937:(e,t,a)=>{"use strict";var n;a.d(t,{Z:()=>n}),function(e){e.FormControl="FormControl",e.FormArray="FormArray",e.FormGroup="FormGroup"}(n||(n={}))},30688:(e,t,a)=>{"use strict";a.d(t,{Wm:()=>Z,sx:()=>N,Hh:()=>C,iS:()=>M,I1:()=>T,pS:()=>O});var n=a(66398),s=a(17777),r=a(70625),o=a(14389),i=a(8477),c=a(89651),u=a(91861),d=a(20809),l=a(46480),g=a(11776),m=a(38327);function p(e,t,a,n,s,r,o){try{var i=e[r](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,s)}class f{constructor(e){this._logger=e}tryToGet(e){var t,n=this;return(t=function*(){if("form-components"!==e.package)return null;try{return n._logger?.debug("FormDynamicModuleItemsProvider: trying to get item {@item}",{name:e.name,package:e.package}),yield a(54384)(`./${e.name}/type`)}catch(t){n._logger?.debug("FormDynamicModuleItemsProvider: item {@item} was not found, reason: "+t,{name:e.name,package:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function o(e){p(r,n,s,o,i,"next",e)}function i(e){p(r,n,s,o,i,"throw",e)}o(void 0)}))})()}}function h(e,t,a,n,s,r,o){try{var i=e[r](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,s)}f.ɵfac=function(e){return new(e||f)(g.LF(l.bZ,8))},f.ɵprov=m.Yz({token:f,factory:f.ɵfac});class k{constructor(e){this._logger=e}tryToGet(e){var t,n=this;return(t=function*(){try{return n._logger?.debug("FormDynamicModuleTypesProvider: trying to get types for module {@module}",{moduleName:e.package}),"form-components"===e.package?yield a.e(6311).then(a.bind(a,16311)):null}catch(t){n._logger?.debug("FormDynamicModuleTypesProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function o(e){h(r,n,s,o,i,"next",e)}function i(e){h(r,n,s,o,i,"throw",e)}o(void 0)}))})()}}function y(e,t,a,n,s,r,o){try{var i=e[r](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,s)}k.ɵfac=function(e){return new(e||k)(g.LF(l.bZ,8))},k.ɵprov=m.Yz({token:k,factory:k.ɵfac});class v{constructor(e){this._logger=e}tryToGet(e){var t,n=this;return(t=function*(){try{return n._logger?.debug("FormDynamicModuleRelationsProvider: trying to get relations types for module {@module}",{moduleName:e.package}),"form-components"===e.package?yield a.e(5737).then(a.bind(a,75737)):null}catch(t){n._logger?.debug("FormDynamicModuleRelationsProvider: module {@module} was not found, reason: "+t,{moduleName:e.package})}return null},function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function o(e){y(r,n,s,o,i,"next",e)}function i(e){y(r,n,s,o,i,"throw",e)}o(void 0)}))})()}}v.ɵfac=function(e){return new(e||v)(g.LF(l.bZ,8))},v.ɵprov=m.Yz({token:v,factory:v.ɵfac});const b={provide:i.Aw,useClass:f,multi:!0},P={provide:c.sc,useClass:k,multi:!0},w={provide:u.GP,useClass:v,multi:!0},_={provide:u.n7,useClass:f,multi:!0},x={provide:d.B6,useClass:f,multi:!0};var F=a(38937);function C(){return[b]}function M(){return[b,P,(0,o.XW)("form-components")]}function O(){return[w,_,(0,o.XW)("form-components"),...C()]}function T(){return[...C(),x]}function N(e,t,a=F.Z.FormControl,n){return t&&e?t.get(e)??Z(a,n):Z(a,n)}function Z(e,t){switch(e){case F.Z.FormArray:return new n.Oe([]);case F.Z.FormGroup:return new s.cw(t??{});default:return new r.NI(t)}}},6535:(e,t,a)=>{"use strict";a.d(t,{X:()=>F});var n=a(76405),s=a(41853),r=a(73301),o=a(66794),i=a(6427),c=a(84773),u=a(72891),d=a(43870),l=a(6845),g=a(15686),m=a(11282),p=a(79440),f=a(77842),h=a(85320),k=a(17505),y=a(12311),v=a(21651),b=a(24881),P=a(17790);function w(e,t){if(1&e&&(n.Tg(0,"option",11),s._(1),n.qZ()),2&e){const e=t.$implicit;r.Q("value",e),o.x(1),i.Oq(e)}}function _(e,t){if(1&e){const e=c.E();n.Tg(0,"div",12)(1,"div",13),s._(2),n.qZ(),n.Tg(3,"button",8),u.N("click",(function(){const t=d.CH(e).$implicit,a=l.o(2);return d.Kt(a.removePackage(t))})),n._U(4,"span",14),n.qZ()()}if(2&e){const e=t.$implicit;o.x(2),i.Oq(e)}}function x(e,t){if(1&e){const e=c.E();n.Tg(0,"div")(1,"div",0)(2,"select",5,6),g.Y(4,w,2,2,"option",7),n.qZ(),n.Tg(5,"button",8),u.N("click",(function(){d.CH(e);const t=m.M(3),a=l.o();return d.Kt(a.addPackage(a.availablePackages[t.selectedIndex]))})),n._U(6,"span",9),n.qZ()(),g.Y(7,_,5,1,"div",10),n.qZ()}if(2&e){const e=l.o();o.x(4),r.Q("ngForOf",e.availablePackages),o.x(3),r.Q("ngForOf",e.usedPackages)}}class F{constructor(e){this.packageManager=e,this.detailVisible=!1,this.usedPackages=[],this.availablePackages=[]}ngOnInit(){this.usedPackages=this.packageManager.usedPackages,this.updatedAvailablePackages()}addPackage(e){e&&(this.usedPackages=[...this.usedPackages,e],this.updatedAvailablePackages(),this.packageManager.setUsedPackages(this.usedPackages))}removePackage(e){this.usedPackages=this.usedPackages.filter((t=>t!=e)),this.updatedAvailablePackages(),this.packageManager.setUsedPackages(this.usedPackages)}updatedAvailablePackages(){this.availablePackages=this.packageManager.packages.filter((e=>!this.usedPackages.find((t=>t==e))))}}F.ɵfac=function(e){return new(e||F)(p.Y(k.L))},F.ɵcmp=f.Xp({type:F,selectors:[["package-manager"]],decls:6,vars:5,consts:[[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-right-extra-small",3,"click"],[1,"fas"],[1,"pm-header"],[4,"ngIf"],[1,"dynamic-form-control","dynamic-flex-1"],["avPkgs",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"dynamic-btn-icon","dynamic-margin-left-extra-small",3,"click"],[1,"fas","fa-plus"],["class","dynamic-flex-row dynamic-align-items-center dynamic-margin-top-small",4,"ngFor","ngForOf"],[3,"value"],[1,"dynamic-flex-row","dynamic-align-items-center","dynamic-margin-top-small"],[1,"dynamic-flex-1"],[1,"fas","fa-times"]],template:function(e,t){1&e&&(n.Tg(0,"div",0)(1,"button",1),u.N("click",(function(){return t.detailVisible=!t.detailVisible})),n._U(2,"span",2),n.qZ(),n.Tg(3,"div",3),s._(4,"packages"),n.qZ()(),g.Y(5,x,8,2,"div",4)),2&e&&(o.x(2),h.ek("fa-plus",!t.detailVisible)("fa-minus",t.detailVisible),o.x(3),r.Q("ngIf",t.detailVisible))},dependencies:[y.sg,v.O,b.YN,P.Kr],encapsulation:2,changeDetection:0})},44155:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});var n=a(27052),s=a(48659),r=a(77842),o=a(38327);class i{}i.ɵfac=function(e){return new(e||i)},i.ɵmod=r.oA({type:i}),i.ɵinj=o.cJ({imports:[n.e,s.U]})},17505:(e,t,a)=>{"use strict";a.d(t,{L:()=>c});var n=a(11776),s=a(46480),r=a(23199),o=a(86463),i=a(13457);class c{get packagesChange(){return this.packagesChangeSubject.asObservable()}get packages(){const e=[];for(const t of this.packageSources)e.push(...t.packages);return e}get usedPackages(){return this._usedPackages}set usedPackages(e){this._usedPackages=e}get usedPackagesChange(){return this.usedPackagesSubject.asObservable()}constructor(e){this.storageName=e,this._usedPackages=[],this.initSubscriptions=new r.w0,this.usedPackagesSubject=new o.x,this.packagesChangeSubject=new o.x,this.store=(0,n.f3)(s.T0),this.packageSources=(0,n.f3)(i.BG),this.usedPackages=this.store.get(e)??[];for(const e of this.packageSources)this.initSubscriptions.add(e.packagesChange.subscribe((()=>this.packagesChangeSubject.next())))}setUsedPackages(e){this._usedPackages!=e&&(this._usedPackages=e,this.store.set(this.storageName,e),this.usedPackagesSubject.next())}refresh(){for(const e of this.packageSources)e.refresh()}destroy(){this.initSubscriptions.unsubscribe()}}},54384:(e,t,a)=>{var n={"./checkbox/type":[34757,4757],"./datepicker/type":[96425,6425],"./formGroup/type":[70613,613],"./numberField/type":[90560,560],"./period/type":[13487,3487],"./radio/type":[41197,1197],"./select/type":[98746,8746],"./textField/type":[80477,477],"./textarea/type":[25552,5552]};function s(e){if(!a.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return a.e(t[1]).then((()=>a(s)))}s.keys=()=>Object.keys(n),s.id=54384,e.exports=s}}]);
//# sourceMappingURL=1973.chunk.d410d395e7193b9a0a87.js.map