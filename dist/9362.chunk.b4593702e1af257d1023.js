/*! For license information please see 9362.chunk.b4593702e1af257d1023.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9362],{51934:(t,e,n)=>{n.r(e),n.d(e,{RelationsWithEditorModule:()=>S});var o=n(14392),a=n(76668),r=n(97212),i=n(89001),s=n(68027),c=n(22654),d=n(94761),l=n(48397),u=n(85638),p=n(79440),m=n(13691),f=n(80827),g=n(41853),v=n(72891),h=n(66794),y=n(73301),_=n(84967),b=n(36159);let k=class{constructor(t){this._manager=t,this.metadata=u.F.relationsStaticWithEditorDemo}save(){u.F.relationsStaticWithEditorDemo=this._manager.getMetadata()}};k.ɵfac=function(t){return new(t||k)(p.Y(l.J))},k.ɵcmp=m.Xp({type:k,selectors:[["editor-view"]],decls:8,vars:1,consts:[[1,"flex-row"],["type","button","goBack","",1,"btn","btn-primary","margin-left-extra-small"],["type","button",1,"btn","btn-primary",3,"click"],[1,"flex-1",3,"metadata"]],template:function(t,e){1&t&&(f.Tg(0,"div",0)(1,"button",1)(2,"span"),g._(3,"go back"),f.qZ()(),f.Tg(4,"button",2),v.N("click",(function(){return e.save()})),f.Tg(5,"span"),g._(6,"save"),f.qZ()()(),f._U(7,"relations-editor",3)),2&t&&(h.x(7),y.Q("metadata",e.metadata))},dependencies:[_.v,b.Y],encapsulation:2,changeDetection:0}),k=(0,o.gn)([(0,d.N)({path:"editor"}),(0,o.w6)("design:paramtypes",[l.J])],k);var D=n(75990),w=n(32361),x=n(31619),I=n(43747);let O=class{constructor(t){this._relationsManager=t}ngOnInit(){this._relationsManager.setRelations(u.F.relationsStaticWithEditorDemo)}};O.ɵfac=function(t){return new(t||O)(p.Y(D.N))},O.ɵcmp=m.Xp({type:O,selectors:[["relations-view"]],decls:11,vars:0,consts:[[1,"margin-bottom-big"],["routerLink","/relationsWithEditor/editor"],[1,"bold"]],template:function(t,e){1&t&&(f.Tg(0,"div",0)(1,"a",1),g._(2,"editor"),f.qZ()(),f.Tg(3,"div")(4,"div",2),g._(5,"relations sample click"),f.qZ(),f._U(6,"relations-sample-click"),f.qZ(),f.Tg(7,"div")(8,"div",2),g._(9,"relations result"),f.qZ(),f._U(10,"relations-result"),f.qZ())},dependencies:[w.y,x.o,I.m],encapsulation:2,changeDetection:0}),O=(0,o.gn)([(0,d.N)({path:""}),(0,o.w6)("design:paramtypes",[D.N])],O);const C=[O,k];var F=n(18567),L=n(54870),N=n(43801),P=n(38327);class Y extends L.w{getDefinedTypes(){const t={};return t[F.mx.relationsId]=F.mx,t[F.oK.relationsId]=F.oK,t}}Y.ɵfac=function(){let t;return function(e){return(t||(t=N.n5(Y)))(e||Y)}}(),Y.ɵprov=P.Yz({token:Y,factory:Y.ɵfac});let S=class{};S.ɵfac=function(t){return new(t||S)},S.ɵmod=m.oA({type:S}),S.ɵinj=P.cJ({imports:[a.Bz,r.p,s.Q.withProviders(),c.Y.withStaticComponents(Y),F.oK,F.mx]}),S=(0,o.gn)([(0,i.P)(C)],S)},6258:(t,e,n)=>{n.d(e,{E:()=>q});var o=n(27052),a=n(989),r=n(46480),i=n(57466),s=n(38223),c=n(91861),d=n(13691);class l{transform(t,e,n){const o=n?e:`${t.itemSource.name}-${e}`;return{metadata:{id:o,displayName:o,package:t.itemSource.package,name:t.itemSource.name,relationsOptions:(0,i.l7)(!0,{},t.metadata.metaInfo?.defaultOptions),outputs:[],nodeMetadata:{coordinates:{x:0,y:0},options:null}}}}}l.ɵfac=function(t){return new(t||l)},l.ɵpipe=d.Yj({name:"toRelationsDragData",type:l,pure:!0,standalone:!0});var u=n(80827),p=n(41853),m=n(6845),f=n(66794),g=n(6427),v=n(84773),h=n(72891),y=n(43870),_=n(65589),b=n(15686),k=n(73301),D=n(4477),w=n(79440),x=n(68961),I=n(82568),O=n(48397),C=n(12311),F=n(21651),L=n(32434),N=n(99055),P=n(23208);function Y(t,e,n,o,a,r,i){try{var s=t[r](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){Y(r,o,a,i,s,"next",t)}function s(t){Y(r,o,a,i,s,"throw",t)}i(void 0)}))}}function T(t,e){if(1&t&&(u.Tg(0,"div",8),p._(1),u.qZ()),2&t){const t=m.o().$implicit;f.x(1),g.Oq(null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function M(t,e){if(1&t){const t=v.E();u.Tg(0,"div",4)(1,"div",5),h.N("cdkDragDropped",(function(){y.CH(t);const e=m.o(2);return y.Kt(e._generateNewId())})),_.AL(2,"toRelationsDragData"),u.Tg(3,"div",6),p._(4),u.qZ(),b.Y(5,T,2,1,"div",7),u.qZ()()}if(2&t){const t=e.$implicit,n=m.o(2);let o;k.Q("cdkDropListConnectedTo",n.canvasDropList),f.x(1),k.Q("cdkDragData",_.Dn(2,4,t,t.metadata.singleton?t.itemSource.name:n._newCompnentId,t.metadata.singleton)),f.x(3),g.Oq(t.metadata.singleton?t.itemSource.name:null!==(o=null==t.metadata.metaInfo?null:t.metadata.metaInfo.name)&&void 0!==o?o:t.itemSource.name),f.x(1),k.Q("ngIf",null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function Z(t,e){if(1&t&&(D.yn(0),u.Tg(1,"div",2),p._(2),u.qZ(),b.Y(3,M,6,8,"div",3),D.BQ()),2&t){const t=e.$implicit;f.x(2),g.hi("",t.key," "),f.x(1),k.Q("ngForOf",t.value)}}class q{constructor(t,e,n,o,a,r){this._moduleTypesLoader=t,this._nodesLoader=e,this._changeDetector=n,this._metadataManager=o,this._refreshObservables=a,this._logger=r,this._initSubscriptions=new s.w,this._allItems=[],this._groupedItems={},this._newCompnentId=(0,i.Ox)(16),this._isDragOverPalette=!1}ngOnInit(){var t=this;return S((function*(){if(t._refreshObservables&&Array.isArray(t._refreshObservables))for(const e of t._refreshObservables)t._initSubscriptions.add(e.subscribe((()=>t.loadNodes())));yield t.loadNodes()}))()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}loadNodes(){var t=this;return S((function*(){var e;t._allItems=[],t._groupedItems={};for(const e of["basic-components","material-components","static-components","layout-components"]){const n=(yield t._moduleTypesLoader.loadItem({package:e,name:"types"}))?.data??[];for(const o of n){const n={package:e,name:o},a=yield t._nodesLoader.loadItem(n);a?t._allItems.push({itemSource:n,metadata:a}):t._logger?.warn("NodesPaletteSAComponent: Failed to obtain layout editor metadata {@source}",n)}}t._groupedItems[""]=[];for(const n of t._allItems){const o=n.metadata.metaInfo?.group??"";(e=t._groupedItems)[o]??(e[o]=[]),t._groupedItems[o].push(n)}t._changeDetector.detectChanges()}))()}_generateNewId(){this._newCompnentId=(0,i.Ox)(16)}}q.ɵfac=function(t){return new(t||q)(w.Y(c.Bj),w.Y(c.fI),w.Y(x.s),w.Y(O.J),w.Y(c.dK,8),w.Y(r.bZ,8))},q.ɵcmp=d.Xp({type:q,selectors:[["nodes-palette"]],inputs:{canvasDropList:"canvasDropList"},standalone:!0,features:[I.j],decls:3,vars:3,consts:[[1,"flex-column"],[4,"ngFor","ngForOf"],[1,"text-spread","text-small-caps","margin-left-extra-small","margin-horizontal-small","bold"],["cdkDropList","","cdkDropListSortingDisabled","","class","palette-droplist",3,"cdkDropListConnectedTo",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",1,"palette-droplist",3,"cdkDropListConnectedTo"],["cdkDrag","",1,"editor-component","mat-elevation-z2",3,"cdkDragData","cdkDragDropped"],[1,"editor-component-name"],["class","editor-component-description",4,"ngIf"],[1,"editor-component-description"]],template:function(t,e){1&t&&(u.Tg(0,"div",0),b.Y(1,Z,4,2,"ng-container",1),_.AL(2,"keyvalue"),u.qZ()),2&t&&(f.x(1),k.Q("ngForOf",_.lc(2,1,e._groupedItems)))},dependencies:[o.e,C.s,F.O,L.N,a._,N.W,P.Z,l],styles:[".editor-component[_ngcontent-%COMP%]\n{\n    margin: 2px 10px;\n    padding: 4px 8px;\n\n    border-radius: 6px;\n    border: 1px solid #F0F0F0;\n    background-color: #FAFAFA;\n}\n\n.editor-component-name[_ngcontent-%COMP%]\n{\n    font-weight: 500;\n}\n\n.editor-component-description[_ngcontent-%COMP%]\n{\n    margin-left: 4px;\n    margin-top: 2px;\n    font-size: .8em;\n}\n\n.palette-droplist[_ngcontent-%COMP%]   layout-editor-drag-placeholder[_ngcontent-%COMP%]\n{\n    display: none;\n}"],changeDetection:0})},36159:(t,e,n)=>{n.d(e,{Y:()=>f});var o=n(989),a=n(6258),r=n(75957),i=n(13691),s=n(82568),c=n(80827),d=n(72891),l=n(11282),u=n(66794),p=n(73301),m=n(99055);class f{constructor(){this.metadata=[]}addNode(t){const e=t.container.element.nativeElement.getBoundingClientRect();t.item.data.metadata.nodeMetadata?.coordinates&&(t.item.data.metadata.nodeMetadata.coordinates.x=t.dropPoint.x-e.x,t.item.data.metadata.nodeMetadata.coordinates.y=t.dropPoint.y-e.y),this.metadata=[...this.metadata,t.item.data.metadata]}}f.ɵfac=function(t){return new(t||f)},f.ɵcmp=i.Xp({type:f,selectors:[["relations-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[s.j],decls:4,vars:2,consts:[[1,"flex-row","flex-1"],[2,"width","250px",3,"canvasDropList"],["cdkDropList","",1,"flex-1",3,"nodeDefinitions","cdkDropListDropped"],["dropList","cdkDropList"]],template:function(t,e){if(1&t&&(c.Tg(0,"div",0),c._U(1,"nodes-palette",1),c.Tg(2,"relations-canvas",2,3),d.N("cdkDropListDropped",(function(t){return e.addNode(t)})),c.qZ()()),2&t){const t=l.M(3);u.x(1),p.Q("canvasDropList",t),u.x(1),p.Q("nodeDefinitions",e.metadata)}},dependencies:[a.E,r.F,o._,m.W],styles:["[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},22654:(t,e,n)=>{n.d(e,{Y:()=>s});var o=n(36159),a=n(47432),r=n(13691),i=n(38327);class s{static withProviders(){return{ngModule:s,providers:[(0,a.TN)()]}}static withStaticComponents(t){return{ngModule:s,providers:[(0,a.hE)(t)]}}}s.ɵfac=function(t){return new(t||s)},s.ɵmod=r.oA({type:s}),s.ɵinj=i.cJ({imports:[o.Y]})},89402:(t,e,n)=>{function o(t){return!!t.__ɵɵRelationsComponent}function a(){return function(t){return t.__ɵɵRelationsComponent=!0,t}}n.d(e,{H:()=>a,O:()=>o})},56224:(t,e,n)=>{n.d(e,{X:()=>y,A:()=>_});var o=n(43939),a=n(60640),r=n(11776),i=n(86707),s=n(65569),c=n(12193),d=n(46480),l=n(20809),u=n(10439);const p={provide:l.B6,useClass:i.o,multi:!0},m={provide:l.u7,useFactory:t=>new s.$([u.j],t),deps:[[new a.Fi,d.bZ]],multi:!0},f={provide:l.TZ,useFactory:()=>new c.S((0,r.f3)(l.B6),(0,r.f3)(l.u7),y,(0,r.f3)(d.bZ,{optional:!0})??void 0)};var g=n(86485),v=n(75990),h=n(96130);const y=function(t){return!((0,o.fp)(t?.data)||!(0,o.P9)(t.data))};function _(){return[p,m,f,g.s,v.N,h.v]}},68027:(t,e,n)=>{n.d(e,{Q:()=>i});var o=n(56224),a=n(13691),r=n(38327);class i{static withProviders(){return{ngModule:i,providers:[(0,o.A)()]}}}i.ɵfac=function(t){return new(t||i)},i.ɵmod=a.oA({type:i}),i.ɵinj=r.cJ({})},14389:(t,e,n)=>{function o(t,e,n,o,a=!1){t[e]={currentValue:n,previousValue:o,firstChange:a,isFirstChange:()=>a}}n.d(e,{m:()=>o})},94761:(t,e,n)=>{n.d(e,{N:()=>a});var o=n(43939);function a(t){return function(e){const n=t;n.component=e;const a=e;return(0,o.fp)(a.routeValues)&&Object.defineProperty(e,"routeValues",{enumerable:!0,configurable:!1,writable:!1,value:[]}),a.routeValues.push(n),e}}},84967:(t,e,n)=>{n.d(e,{v:()=>s});var o=n(79440),a=n(13691),r=n(72891),i=n(55129);class s{constructor(t){this._location=t}goBack(t){t.preventDefault(),t.stopPropagation(),this._location.back()}}s.ɵfac=function(t){return new(t||s)(o.Y(i.Y))},s.ɵdir=a.lG({type:s,selectors:[["","goBack",""]],hostBindings:function(t,e){1&t&&r.N("click",(function(t){return e.goBack(t)}))}})},97212:(t,e,n)=>{n.d(e,{p:()=>r});var o=n(13691),a=n(38327);class r{}r.ɵfac=function(t){return new(t||r)},r.ɵmod=o.oA({type:r}),r.ɵinj=a.cJ({})},989:(t,e,n)=>{n.d(e,{_:()=>s});var o=n(65252),a=n(19878),r=n(13691),i=n(38327);class s{}s.ɵfac=function(t){return new(t||s)},s.ɵmod=r.oA({type:s}),s.ɵinj=i.cJ({providers:[a.v],imports:[o.Z]})},32434:(t,e,n)=>{n.d(e,{N:()=>i});var o=n(79440),a=n(55845),r=n(13691);class i{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=s}transform(t,e=s){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t),o=e!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem((t=>{this.keyValues.push({key:t.key,value:t.currentValue})}))),(n||o)&&(this.keyValues.sort(e),this.compareFn=e),this.keyValues}}function s(t,e){const n=t.key,o=e.key;if(n===o)return 0;if(void 0===n)return 1;if(void 0===o)return-1;if(null===n)return 1;if(null===o)return-1;if("string"==typeof n&&"string"==typeof o)return n<o?-1:1;if("number"==typeof n&&"number"==typeof o)return n-o;if("boolean"==typeof n&&"boolean"==typeof o)return n<o?-1:1;const a=String(n),r=String(o);return a==r?0:a<r?-1:1}i.ɵfac=function(t){return new(t||i)(o.Y(a.a,16))},i.ɵpipe=r.Yj({name:"keyvalue",type:i,pure:!1,standalone:!0})},87606:(t,e,n)=>{function o(t,e,n,o,a,r,i){try{var s=t[r](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(t){o(i,a,r,s,c,"next",t)}function c(t){o(i,a,r,s,c,"throw",t)}s(void 0)}))}}function r(t){return i.apply(this,arguments)}function i(){return(i=a((function*(t){return t instanceof Promise?yield t:t}))).apply(this,arguments)}n.d(e,{K:()=>r})}}]);
//# sourceMappingURL=9362.chunk.b4593702e1af257d1023.js.map