/*! For license information please see 887.chunk.c42ada2ce920115f091f.js.LICENSE.txt */
"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[887],{42179:(t,e,n)=>{n.r(e),n.d(e,{default:()=>dt});var a=n(27052),o=n(99055),i=n(989),r=n(46480),s=n(77842),d=n(38327);class c{}c.ɵfac=function(t){return new(t||c)},c.ɵmod=s.oA({type:c}),c.ɵinj=d.cJ({});var p=n(53633),l=n(49308),u=n(43939),_=n(38223),h=n(79440),g=n(4905),y=n(55436);class m{constructor(t){this._element=t,this._initSubscriptions=new _.w}ngOnInit(){this._observer=new ResizeObserver((t=>{for(const e of t)e.contentRect.height<=0?this._element.nativeElement.style.minHeight="30px":this._element.nativeElement.style.minHeight=""})),this._initSubscriptions.add(this._layoutComponentRendererDirective?.componentChange.subscribe((t=>{t?this._observer?.observe(t.hostView.rootNodes[0]):this._observer?.disconnect()})))}ngOnDestroy(){this._observer?.disconnect(),this._initSubscriptions.unsubscribe()}}m.ɵfac=function(t){return new(t||m)(h.Y(g.SB))},m.ɵdir=s.lG({type:m,selectors:[["","designerMinHeight",""]],contentQueries:function(t,e,n){if(1&t&&y.Su(n,l.i,7),2&t){let t;y.iG(t=y.CR())&&(e._layoutComponentRendererDirective=t.first)}},standalone:!0});var v=n(85902);function f(t,e,n,a,o,i,r){try{var s=t[i](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}class M{constructor(t,e){this._element=t,this._metadataExtractor=e}get metadata(){return this._metadata}set metadata(t){this._metadata=t,this._copyDesignerStyles()}_copyDesignerStyles(){var t,e=this;return(t=function*(){if(!e._metadata)return;const t=(yield e._metadataExtractor.extractMetadata(e._metadata))?.applyDesignerStyles;t&&t(e._metadata.options,e._element.nativeElement.style)},function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function r(t){f(i,a,o,r,s,"next",t)}function s(t){f(i,a,o,r,s,"throw",t)}r(void 0)}))})()}}M.ɵfac=function(t){return new(t||M)(h.Y(g.SB),h.Y(v.T))},M.ɵdir=s.lG({type:M,selectors:[["","copyDesignerStyles",""]],inputs:{metadata:["copyDesignerStyles","metadata"]},exportAs:["copyDesignerStyles"],standalone:!0});var D=n(22294),b=n(83434);class C{constructor(t,e){this._cdkDropList=t,this._manager=e,this._initSubscriptions=new _.w}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.pipe((0,D.b)(12)).subscribe((()=>this._setConnectedTo()))),this._setConnectedTo()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}_setConnectedTo(){const t=this._manager.flatTree.map((t=>t.component.designerDropList)).reverse().filter((t=>t!=this._cdkDropList));this._cdkDropList.connectedTo=t}}C.ɵfac=function(t){return new(t||C)(h.Y(o.W),h.Y(b.t))},C.ɵdir=s.lG({type:C,selectors:[["","cdkDropList","","connectDropLists",""]],exportAs:["connectDropLists"],standalone:!0});var w=n(53015),S=n(69307),x=n(80827),k=n(6845),T=n(73301),E=n(84773),P=n(72891),L=n(43870),Y=n(41853),O=n(4477),R=n(15686),I=n(11282),H=n(66794),Q=n(6427),A=n(68961),G=n(47098),B=n(82568),Z=n(94727),z=n(12193),q=n(21651),N=n(74445),j=n(49891),W=n(54214),$=n(36973);function U(t,e,n,a,o,i,r){try{var s=t[i](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}class V{constructor(t,e){this._target=t,this._position=e,this.flip=new N.v}get source(){return this._source}set source(t){t instanceof g.SB?this._source=t.nativeElement:this._source=t}get placement(){return this._placement}set placement(t){(0,u.HD)(t)?this._placement=W.X[t]:this._placement=t}ngOnChanges(t){((0,j.$)("source")in t||(0,j.$)("placement")in t)&&(0,u.EN)(this.source)&&this._applyPosition()}_applyPosition(){var t,e=this;return(t=function*(){const t={};e._placement&&(t.placement=e._placement);const n=yield e._position.placeElement(e._target.nativeElement,e._source,t).toPromise();!function(t){Object.assign(t.target.style,{top:"0",left:"0",transform:`translate(${t.x}px, ${t.y}px)`})}(n),n.flip&&e.flip.next()},function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function r(t){U(i,a,o,r,s,"next",t)}function s(t){U(i,a,o,r,s,"throw",t)}r(void 0)}))})()}}V.ɵfac=function(t){return new(t||V)(h.Y(g.SB),h.Y(r.Vr))},V.ɵdir=s.lG({type:V,selectors:[["","positionTo",""]],inputs:{source:["positionTo","source"],placement:"placement"},outputs:{flip:"flip"},features:[$.T]});var J=n(23208),K=n(10866),X=n(22549);function F(t,e,n,a,o,i,r){try{var s=t[i](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}function tt(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function r(t){F(i,a,o,r,s,"next",t)}function s(t){F(i,a,o,r,s,"throw",t)}r(void 0)}))}}function et(t,e){1&t&&x._U(0,"layout-editor-drag-placeholder",6)}function nt(t,e){if(1&t&&x._U(0,"layout-editor-drag-preview",7),2&t){const t=k.o();T.Q("editorMetadata",t._editorMetadata)("layoutMetadata",t._renderedType)}}function at(t,e){}function ot(t,e){if(1&t){const t=E.E();x.Tg(0,"div",11),P.N("click",(function(){L.CH(t);const e=k.o(2);return L.Kt(e._remove())})),Y._(1,"x"),x.qZ()}}function it(t,e){if(1&t&&(O.yn(0),x._U(1,"div",8),x.Tg(2,"div",9),Y._(3),x.qZ(),R.Y(4,ot,2,0,"div",10),O.BQ()),2&t){const t=k.o(),e=I.M(1);let n;H.x(2),T.Q("positionTo",e),H.x(1),Q.Oq(null!==(n=null==t._editorMetadata||null==t._editorMetadata.metaInfo?null:t._editorMetadata.metaInfo.name)&&void 0!==n?n:null==t._renderedType?null:t._renderedType.name),H.x(1),T.Q("ngIf",!!t._parent&&(null==t._parent._editorMetadata?null:t._parent._editorMetadata.removeDescendant))}}const rt=function(t,e){return{metadata:t,parentId:e}};class st extends p.h{constructor(t,e,n,a,o,i,r){super(t,e,i),this._getter=n,this._metadataExtractor=a,this._layoutEditorMetadataManager=o,this._parent=r,this._initSubscriptions=new _.w,this._metadataRead=!1,this._canDrop=!1,this._editorMetadata=null,this.canDrop=()=>this._canDrop,this._initSubscriptions.add(this._layoutEditorMetadataManager.selectedChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._layoutEditorMetadataManager.highlightedChange.subscribe((()=>this._changeDetector.detectChanges())))}get selected(){return this._layoutEditorMetadataManager.selectedComponent===this._options?.typeMetadata.id}get highlighted(){return this._layoutEditorMetadataManager.highlightedComponent===this._options?.typeMetadata.id}ngOnDestroy(){this._logger?.debug("LayoutDesignerSAComponent: Destroying component {@data}",{id:this._options?.typeMetadata.id}),this._initSubscriptions.unsubscribe(),this._options&&this._layoutEditorMetadataManager.unregisterLayoutDesignerComponent(this._options.typeMetadata.id)}_removeDescendant(t){this._options&&(this._logger?.debug("LayoutDesignerSAComponent: Removing descendant {@data}",{id:this._options.typeMetadata.id,child:t}),this._editorMetadata?.removeDescendant?.(t,this._options.typeMetadata.options),this._canDrop=this._editorMetadata?.canDropMetadata?.(this._options.typeMetadata.options)??!1,this._renderedType={...this._options.typeMetadata})}_addDescendant(t){if(!this._options)return;const e=t.item.data.parentId;this._logger?.debug("LayoutDesignerSAComponent: Adding descendant {@data}",{id:t.item.data.metadata.id,parent:this._options.typeMetadata.id}),e&&this._layoutEditorMetadataManager.getComponent(e)?._removeDescendant(t.item.data.metadata.id),this._editorMetadata?.addDescendant?.(t.item.data.metadata,this._options.typeMetadata.options,t.currentIndex),this._canDrop=this._editorMetadata?.canDropMetadata?.(this._options.typeMetadata.options)??!1,this._renderedType={...this._options.typeMetadata}}_showOverlay(t){this._logger?.verbose("LayoutDesignerComponent: Showing overlay for {@type}",{name:this._options?.typeMetadata.name,id:this._options?.typeMetadata.id}),t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.highlightComponent(this._options?.typeMetadata.id)}_hideOverlay(t){(0,u.EN)(this._parent)||(this._logger?.verbose("LayoutDesignerComponent: Hiding overlay for {@type}",{name:this._options?.typeMetadata.name,id:this._options?.typeMetadata.id}),t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.cancelHighlightedComponent())}_selectComponent(t){t.preventDefault(),t.stopPropagation(),this._options&&this._layoutEditorMetadataManager.selectComponent(this._options.typeMetadata.id)}_unselectComponent(t){t.preventDefault(),t.stopPropagation(),this._layoutEditorMetadataManager.unselectComponent()}_remove(){this._parent&&this._options&&this._parent._removeDescendant(this._options.typeMetadata.id)}_optionsSet(){var t=this;return tt((function*(){t._options&&(t._renderedType={...t._options.typeMetadata},t._layoutEditorMetadataManager.registerLayoutDesignerComponent(t,t._options.typeMetadata.id,t._parent?._options?.typeMetadata.id),yield t._readMetadata(),t._canDrop=t._editorMetadata?.canDropMetadata?.(t._options.typeMetadata.options)??!1,t._changeDetector.detectChanges())}))()}_readMetadata(){var t=this;return tt((function*(){t._options?t._metadataRead||(t._editorMetadata=yield t._metadataExtractor.extractMetadata(t._options.typeMetadata),t._metadataRead=!0):t._metadataRead=!1}))()}}st.ɵfac=function(t){return new(t||st)(h.Y(A.s),h.Y(g.SB),h.Y(z.S),h.Y(v.T),h.Y(b.t),h.Y(r.bZ,8),h.Y(st,12))},st.ɵcmp=s.Xp({type:st,selectors:[["layout-designer-component"]],viewQuery:function(t,e){if(1&t&&y.Gf(o.W,7),2&t){let t;y.iG(t=y.CR())&&(e.designerDropList=t.first)}},standalone:!0,features:[G.q,B.j],decls:6,vars:10,consts:[["cdkDrag","","cdkDropList","","designerMinHeight","","connectDropLists","",1,"designer-overlay",3,"copyDesignerStyles","cdkDragData","cdkDragDisabled","cdkDropListEnterPredicate","mouseleave","mouseover","cdkDropListDropped","click","dblclick"],["layoutDesigner",""],["class","mat-elevation-z6",4,"cdkDragPlaceholder"],["class","mat-elevation-z4",3,"editorMetadata","layoutMetadata",4,"cdkDragPreview"],[3,"layoutComponentRenderer","layoutComponentRendererDisableTransformer"],[4,"ngIf"],[1,"mat-elevation-z6"],[1,"mat-elevation-z4",3,"editorMetadata","layoutMetadata"],[1,"designer-overlay-border"],["placement","TopStart",1,"designer-overlay-title",3,"positionTo"],["class","designer-overlay-remove",3,"click",4,"ngIf"],[1,"designer-overlay-remove",3,"click"]],template:function(t,e){1&t&&(x.Tg(0,"div",0,1),P.N("mouseleave",(function(t){return e._hideOverlay(t)}))("mouseover",(function(t){return e._showOverlay(t)}))("cdkDropListDropped",(function(t){return e._addDescendant(t)}))("click",(function(t){return e._selectComponent(t)}))("dblclick",(function(t){return e._unselectComponent(t)})),R.Y(2,et,1,0,"layout-editor-drag-placeholder",2),R.Y(3,nt,1,2,"layout-editor-drag-preview",3),R.Y(4,at,0,0,"ng-template",4),R.Y(5,it,5,3,"ng-container",5),x.qZ()),2&t&&(T.Q("copyDesignerStyles",e._renderedType)("cdkDragData",Z.WL(7,rt,e._renderedType,null==e._parent||null==e._parent._renderedType?null:e._parent._renderedType.id))("cdkDragDisabled",!e._parent||(null==e._editorMetadata||null==e._editorMetadata.metaInfo?null:e._editorMetadata.metaInfo.dragDisabled))("cdkDropListEnterPredicate",e.canDrop),H.x(4),T.Q("layoutComponentRenderer",e._renderedType)("layoutComponentRendererDisableTransformer",!0),H.x(1),T.Q("ngIf",e.highlighted||e.selected))},dependencies:[a.e,q.O,c,V,i._,o.W,J.Z,K.p,X.H,w.s,S.a,m,M,C,l.i],styles:["[_nghost-%COMP%]\n{\n    display: contents;\n}\n\n.designer-overlay[_ngcontent-%COMP%]\n{\n    position: relative;\n}\n\n.designer-overlay-border[_ngcontent-%COMP%]\n{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border: 1px solid #009dd8;\n    pointer-events: none;\n}\n\n.designer-overlay-title[_ngcontent-%COMP%]\n{\n    position: absolute;\n    background-color: #009dd8;\n    color: white;\n    font-weight: 500;\n    z-index: 500;\n    padding: 2px 6px;\n    pointer-events: none;\n}\n\n.designer-overlay-remove[_ngcontent-%COMP%]\n{\n    position: absolute;\n    right: -6px;\n    top: -6px;\n    border-radius: 50%;\n    background-color: #009dd8;\n    padding: 2px 7px;\n    opacity: .75;\n    color: #fff;\n    cursor: pointer;\n}"],changeDetection:0});const dt=st},53633:(t,e,n)=>{n.d(e,{h:()=>d});var a=n(46480),o=n(79440),i=n(68961),r=n(4905),s=n(77842);class d{constructor(t,e,n){this._changeDetector=t,this._element=e,this._logger=n}get options(){return this._options}set options(t){this._options=t,this._optionsSet()}invalidateVisuals(){this._changeDetector.detectChanges()}_optionsSet(){}}d.ɵfac=function(t){return new(t||d)(o.Y(i.s),o.Y(r.SB),o.Y(a.bZ,8))},d.ɵdir=s.lG({type:d})},989:(t,e,n)=>{n.d(e,{_:()=>s});var a=n(65252),o=n(56481),i=n(77842),r=n(38327);class s{}s.ɵfac=function(t){return new(t||s)},s.ɵmod=i.oA({type:s}),s.ɵinj=r.cJ({providers:[o.v],imports:[a.Z]})},87606:(t,e,n)=>{function a(t,e,n,a,o,i,r){try{var s=t[i](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function s(t){a(r,o,i,s,d,"next",t)}function d(t){a(r,o,i,s,d,"throw",t)}s(void 0)}))}}function i(t){return r.apply(this,arguments)}function r(){return(r=o((function*(t){return t instanceof Promise?yield t:t}))).apply(this,arguments)}n.d(e,{K:()=>i})}}]);
//# sourceMappingURL=887.chunk.c42ada2ce920115f091f.js.map