"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[671],{80671:(t,n,e)=>{e.r(n),e.d(n,{ComponentInputsRelationsEditorMetadata:()=>T});var o=e(27052),i=e(93551),a=e(52580),s=e(85478),r=e(57466),c=e(64297),p=e(72385),u=e(84773),d=e(76405),l=e(41853),f=e(72891),m=e(43870),g=e(6845),v=e(66794),h=e(6427),y=e(73301),b=e(79440),w=e(68961),k=e(4905),x=e(77842),_=e(47098),C=e(82568),O=e(15686),S=e(47826),E=e(12311);function N(t,n,e,o,i,a,s){try{var r=t[a](s),c=r.value}catch(t){return void e(t)}r.done?n(c):Promise.resolve(c).then(o,i)}function q(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function s(t){N(a,o,i,s,r,"next",t)}function r(t){N(a,o,i,s,r,"throw",t)}s(void 0)}))}}function D(t,n){if(1&t){const t=u.E();d.Tg(0,"div",9)(1,"div",10)(2,"div"),l._(3),d.qZ(),d.Tg(4,"button",11),f.N("click",(function(n){const e=m.CH(t).$implicit,o=g.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.configureEndpoint(e))})),d._U(5,"span",12),d.qZ(),d.Tg(6,"button",13),f.N("click",(function(n){const e=m.CH(t).$implicit,o=g.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.removeEndpoint(e))})),d._U(7,"span",14),d.qZ()(),d._U(8,"relation-node-output",15),d.qZ()}if(2&t){const t=n.$implicit,e=g.o();v.x(3),h.Oq(t.name),v.x(5),y.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e)}}class P extends i.M{get endpoints(){var t,n;return this.metadata?((t=this.metadata).relationsOptions??(t.relationsOptions={inputs:[]}),(n=this.metadata.relationsOptions).inputs??(n.inputs=[])):[]}constructor(t,n,e){super(t,n),this.dialog=e}addEndpoint(){var t=this;return q((function*(){const n={name:"",defaultValue:null,skipInit:!1,allowSkipInit:!0};(yield t.configureEndpoint(n))&&(t.endpoints.push(n),t.history.getNewState())}))()}removeEndpoint(t){const n=this.endpoints.indexOf(t);n>=0&&(this.endpoints.splice(n,1),this.history.getNewState())}configureEndpoint(t){var n=this;return q((function*(){const e=JSON.parse(JSON.stringify(t)),o=yield(0,c.n)(n.dialog.open(p.b,{title:"configure component input",width:"60vw",data:t}).afterClosed());return o?n.history.getNewState():(0,r.l7)(t,e),o??!1}))()}}P.ɵfac=function(t){return new(t||P)(b.Y(w.s),b.Y(k.SB),b.Y(S.J))},P.ɵcmp=x.Xp({type:P,selectors:[["component-inputs-node"]],standalone:!0,features:[_.q,C.j],decls:9,vars:3,consts:[["name","component inputs",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"outputs"],["class","output",4,"ngFor","ngForOf"],[1,"dynamic-flex-row","dynamic-flex-end"],["type","button",1,"dynamic-btn-icon","dynamic-margin-right-extra-small",3,"click"],[1,"fas","fa-plus"],[1,"output"],[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-horizontal-extra-small",3,"click"],[1,"fas","fa-cog"],["type","button",1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"],[3,"parentCoordiantes","zoomLevel","name","parent"]],template:function(t,n){1&t&&(d._U(0,"relations-node-header",0),d.Tg(1,"div",1)(2,"div",2),d._U(3,"div",3),d.Tg(4,"div",4),O.Y(5,D,9,5,"div",5),d.Tg(6,"div",6)(7,"button",7),f.N("click",(function(t){return t.preventDefault(),t.stopPropagation(),n.addEndpoint()})),d._U(8,"span",8),d.qZ()()()()()),2&t&&(y.Q("parent",n)("destroySubject",n.destroySubject),v.x(5),y.Q("ngForOf",n.endpoints))},dependencies:[o.e,E.sg,a.e,s.n],encapsulation:2,changeDetection:0});class T{constructor(){this.metaInfo={name:"Component inputs",description:"Definition of relations component inputs",group:"Component"},this.nodeDefinition=P,Object.freeze(this)}}}}]);
//# sourceMappingURL=671.chunk.8855a281f42a1833468d.js.map