"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[9950],{29950:(t,n,e)=>{e.r(n),e.d(n,{TriggerRelationsEditorMetadata:()=>Z});var o=e(27052),i=e(72385),a=e(93551),r=e(52580),s=e(60901),d=e(85478),p=e(57466),c=e(64297),u=e(84773),l=e(76405),g=e(41853),f=e(72891),m=e(43870),v=e(6845),h=e(66794),y=e(73301),b=e(6427),_=e(79440),w=e(68961),x=e(4905),O=e(77842),k=e(47098),q=e(82568),T=e(15686),z=e(47826),C=e(12311);function S(t,n,e,o,i,a,r){try{var s=t[a](r),d=s.value}catch(t){return void e(t)}s.done?n(d):Promise.resolve(d).then(o,i)}function E(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function r(t){S(a,o,i,r,s,"next",t)}function s(t){S(a,o,i,r,s,"throw",t)}r(void 0)}))}}function P(t,n){if(1&t){const t=u.E();l.Tg(0,"div",4),l._U(1,"relation-node-input",12),l.Tg(2,"div",7)(3,"div"),g._(4),l.qZ(),l.Tg(5,"button",13),f.N("click",(function(n){const e=m.CH(t).$implicit,o=v.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.configureEndpoint(e))})),l._U(6,"span",14),l.qZ(),l.Tg(7,"button",15),f.N("click",(function(n){const e=m.CH(t).$implicit,o=v.o();return n.preventDefault(),n.stopPropagation(),m.Kt(o.removeEndpoint(e))})),l._U(8,"span",16),l.qZ()()()}if(2&t){const t=n.$implicit,e=v.o();h.x(1),y.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e),h.x(3),b.Oq(t.name)}}function L(t,n){if(1&t&&(l.Tg(0,"div",17)(1,"div"),g._(2),l.qZ(),l._U(3,"relation-node-output",12),l.qZ()),2&t){const t=n.$implicit,e=v.o();h.x(2),b.Oq(t.name),h.x(1),y.Q("parentCoordiantes",e.nodePosition)("zoomLevel",e.zoomLevel)("name",t.name)("parent",e)}}class N extends a.M{get endpoints(){var t,n;return this.metadata?((t=this.metadata).relationsOptions??(t.relationsOptions={endpoints:[]}),(n=this.metadata.relationsOptions).endpoints??(n.endpoints=[])):[]}constructor(t,n,e){super(t,n),this.dialog=e}addEndpoint(){var t=this;return E((function*(){const n={name:"",defaultValue:null,skipInit:!0,allowSkipInit:!0};(yield t.configureEndpoint(n))&&(t.endpoints.push(n),t.history.getNewState())}))()}removeEndpoint(t){const n=this.endpoints.indexOf(t);n>=0&&(this.endpoints.splice(n,1),this.history.getNewState())}configureEndpoint(t){var n=this;return E((function*(){const e=JSON.parse(JSON.stringify(t)),o=yield(0,c.n)(n.dialog.open(i.b,{title:"configure endpoint",width:"60vw",data:t}).afterClosed());return o?n.history.getNewState():(0,p.l7)(t,e),o??!1}))()}}N.ɵfac=function(t){return new(t||N)(_.Y(w.s),_.Y(x.SB),_.Y(z.J))},N.ɵcmp=O.Xp({type:N,selectors:[["trigger-node"]],standalone:!0,features:[k.q,q.j],decls:14,vars:7,consts:[["name","sync values",3,"parent","destroySubject"],[1,"node-content"],[1,"inputs-outputs"],[1,"inputs"],[1,"input"],["name","trigger",3,"parentCoordiantes","zoomLevel","parent"],["class","input",4,"ngFor","ngForOf"],[1,"dynamic-flex-row"],["type","button",1,"dynamic-btn-icon","dynamic-margin-left-extra-small",3,"click"],[1,"fas","fa-plus"],[1,"outputs"],["class","output",4,"ngFor","ngForOf"],[3,"parentCoordiantes","zoomLevel","name","parent"],["type","button",1,"dynamic-btn-icon","dynamic-margin-horizontal-extra-small",3,"click"],[1,"fas","fa-cog"],["type","button",1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"],[1,"output"]],template:function(t,n){1&t&&(l._U(0,"relations-node-header",0),l.Tg(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._U(5,"relation-node-input",5),l.Tg(6,"div"),g._(7,"trigger"),l.qZ()(),T.Y(8,P,9,5,"div",6),l.Tg(9,"div",7)(10,"button",8),f.N("click",(function(t){return t.preventDefault(),t.stopPropagation(),n.addEndpoint()})),l._U(11,"span",9),l.qZ()()(),l.Tg(12,"div",10),T.Y(13,L,4,5,"div",11),l.qZ()()()),2&t&&(y.Q("parent",n)("destroySubject",n.destroySubject),h.x(5),y.Q("parentCoordiantes",n.nodePosition)("zoomLevel",n.zoomLevel)("parent",n),h.x(3),y.Q("ngForOf",n.endpoints),h.x(5),y.Q("ngForOf",n.endpoints))},dependencies:[o.e,C.sg,r.e,s.P,d.n],encapsulation:2,changeDetection:0});class Z{constructor(){this.metaInfo={name:"Trigger",description:"Allows sending data on trigger input",group:"Data"},this.nodeDefinition=N,Object.freeze(this)}}}}]);
//# sourceMappingURL=9950.chunk.fb34008a925fd21a9ae7.js.map