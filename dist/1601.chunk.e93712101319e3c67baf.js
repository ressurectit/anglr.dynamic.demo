"use strict";(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[1601],{77653:(t,e,n)=>{n.d(e,{y:()=>r});var i=n(17505),a=n(38327);class r extends i.L{constructor(){super("LAYOUT_PACKAGES_STORE")}}r.ɵfac=function(t){return new(t||r)},r.ɵprov=a.Yz({token:r,factory:r.ɵfac})},35218:(t,e,n)=>{n.d(e,{Z:()=>pe});var i=n(35375),a=n(60405),r=n(44155),o=n(49891),s=n(23199),d=n(27052),c=n(46480),l=n(57466),p=n(77842);class u{transform(t){return{metadata:{id:"",displayName:"",package:t.itemSource.package,name:t.itemSource.name,options:(0,l.l7)(!0,{},t.metadata.metaInfo?.defaultOptions)},parentId:null,index:null}}}u.ɵfac=function(t){return new(t||u)},u.ɵpipe=p.Yj({name:"toLayoutDragData",type:u,pure:!0,standalone:!0});var h=n(71785),g=n(10219),m=n(80827),f=n(41853),v=n(6845),y=n(66794),b=n(6427),D=n(84773),w=n(72891),C=n(43870),P=n(65589),_=n(15686),E=n(73301),x=n(4477),I=n(79440),T=n(68961),S=n(82568),O=n(17505),M=n(85902),A=n(12311),Y=n(21651),N=n(32434),k=n(74445),F=n(4905),z=n(88364),Z=n(48759),q=n(98906),R=n(52053);let L;class Q{constructor(t,e,n,i,a){this.dnd=t,this.paletteItemElement=e,this.draggingSvc=n,this.bus=i,this.zone=a,this.initSubscriptions=new s.w0,this.drag=this.dnd.dragSource("METADATA",{beginDrag:()=>{this.draggingSvc.setDragging(!0);const t=(0,l.l7)(!0,{},this.dragData);if(t.metadata){const e=`${t.metadata.name}-${(0,l.Ox)(16)}`;t.metadata.id=e,t.metadata.displayName=e}return{dragData:t}},endDrag:t=>{if(t.didDrop()){const e=t.getItem(),n=t.getDropResult();if(!e)return;e.dragData.index=n.index,this.bus.setDropData({data:e.dragData,id:n.id}),this.itemDrop.emit()}this.bus.setDropPlaceholderPreview(null),this.draggingSvc.setDragging(!1)}},this.initSubscriptions),this.itemDrop=new k.v,this.connectDragToItem()}ngOnInit(){if(!this.dragData)throw new Error("DndCoreDesignerDirective: missing drag data!")}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.itemConnection?.unsubscribe(),this.itemConnection=null,this.dragPreviewConnection?.unsubscribe(),this.dragPreviewConnection=null}connectDragToItem(){this.zone.runOutsideAngular((()=>{this.itemConnection?.unsubscribe(),this.itemConnection=this.drag.connectDragSource(this.paletteItemElement.nativeElement,{dropEffect:"copy"}),this.dragPreviewConnection=this.drag.connectDragPreview((L||(L=new Image,L.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),L))}))}}function $(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){$(r,i,a,o,s,"next",t)}function s(t){$(r,i,a,o,s,"throw",t)}o(void 0)}))}}function B(t,e){if(1&t&&(m.Tg(0,"div",8),f._(1),m.qZ()),2&t){const t=v.o().$implicit;y.x(1),b.Oq(null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function X(t,e){if(1&t){const t=D.E();m.Tg(0,"div",4)(1,"div",5),w.N("itemDrop",(function(){C.CH(t);const e=v.o(2);return C.Kt(e.refreshPipe=!e.refreshPipe)})),P.AL(2,"toLayoutDragData"),m.Tg(3,"div",6),f._(4),m.qZ(),_.Y(5,B,2,1,"div",7),m.qZ()()}if(2&t){const t=e.$implicit;let n;y.x(1),E.Q("dndCorePaletteItem",P.lc(2,3,t)),y.x(3),b.Oq(null!==(n=null==t.metadata.metaInfo?null:t.metadata.metaInfo.name)&&void 0!==n?n:t.itemSource.name),y.x(1),E.Q("ngIf",null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function G(t,e){if(1&t&&(x.yn(0),m.Tg(1,"div",2),f._(2),m.qZ(),_.Y(3,X,6,5,"div",3),x.BQ()),2&t){const t=e.$implicit;y.x(2),b.hi("",t.key," "),y.x(1),E.Q("ngForOf",t.value)}}Q.ɵfac=function(t){return new(t||Q)(I.Y(Z.f),I.Y(F.SB),I.Y(q.z),I.Y(R.E),I.Y(z.R))},Q.ɵdir=p.lG({type:Q,selectors:[["","dndCorePaletteItem",""]],inputs:{dragData:["dndCorePaletteItem","dragData"]},outputs:{itemDrop:"itemDrop"}});class U{constructor(t,e,n,i,a,r){this.moduleTypesLoader=t,this.changeDetector=e,this.packageManager=n,this.metadataExtractor=i,this._refreshObservables=a,this.logger=r,this.initSubscriptions=new s.w0,this.allItems=[],this.groupedItems={},this.refreshPipe=!1}ngOnInit(){var t=this;return j((function*(){if(t.initSubscriptions.add(t.packageManager.usedPackagesChange.subscribe((()=>t.initItems()))),t._refreshObservables&&Array.isArray(t._refreshObservables))for(const e of t._refreshObservables)t.initSubscriptions.add(e.subscribe((()=>t.initItems())));yield t.initItems()}))()}ngOnDestroy(){this.initSubscriptions.unsubscribe()}initItems(){var t=this;return j((function*(){var e;t.groupedItems={},t.allItems=[];for(const e of t.packageManager.usedPackages){const n=(yield t.moduleTypesLoader.loadItem({package:e,name:"types"}))?.data??[];for(const i of n){const n={package:e,name:i},a=yield t.metadataExtractor.extractMetadata(n);a?t.allItems.push({itemSource:n,metadata:a}):t.logger?.warn("ComponentsPaletteSAComponent: Failed to obtain layout editor metadata {@source}",n)}}t.groupedItems[""]=[];for(const n of t.allItems){const i=n.metadata.metaInfo?.group??"";(e=t.groupedItems)[i]??(e[i]=[]),t.groupedItems[i].push(n)}t.changeDetector.detectChanges()}))()}}U.ɵfac=function(t){return new(t||U)(I.Y(h.QT),I.Y(T.s),I.Y(O.L),I.Y(M.T),I.Y(h.dK,8),I.Y(c.bZ,8))},U.ɵcmp=p.Xp({type:U,selectors:[["components-palette"]],standalone:!0,features:[S.j],decls:3,vars:3,consts:[[1,"dynamic-flex-column"],[4,"ngFor","ngForOf"],[1,"dynamic-text-spread","dynamic-text-small-caps","dynamic-margin-left-extra-small","dynamic-margin-horizontal-small","dynamic-bold"],["class","palette-droplist",4,"ngFor","ngForOf"],[1,"palette-droplist"],[1,"editor-component","mat-elevation-z2",3,"dndCorePaletteItem","itemDrop"],[1,"editor-component-name"],["class","editor-component-description",4,"ngIf"],[1,"editor-component-description"]],template:function(t,e){1&t&&(m.Tg(0,"div",0),_.Y(1,G,4,2,"ng-container",1),P.AL(2,"keyvalue"),m.qZ()),2&t&&(y.x(1),E.Q("ngForOf",P.lc(2,1,e.groupedItems)))},dependencies:[d.e,A.s,Y.O,N.N,g.N,Q,u],encapsulation:2,changeDetection:0});var H=n(63789),K=n(2032),V=n(45069),J=n(49414),W=n(17868),tt=n(98246),et=n(27173),nt=n(55436),it=n(11282),at=n(94727),rt=n(86357),ot=n(85320),st=n(83434),dt=n(26938),ct=n(43649),lt=n(41623),pt=n(44214),ut=n(48936),ht=n(43939),gt=n(27049),mt=n(16114),ft=n(95176);class vt{constructor(t,e,n,i,a,r,o,d,c){this.dnd=t,this.designerElement=e,this.draggingSvc=n,this.manager=i,this.bus=a,this.zone=r,this.injector=o,this._manager=d,this.document=c,this.initSubscriptions=new s.w0,this.placeholderDrop=this.dnd.dropTarget(["TREE_COMPONENT"],{canDrop:()=>!0,drop:t=>{const e=t.getItem();let n=this.bus.dropPlaceholderPreviewIndex;return e&&(0,ht.EN)(e.dragData.index)&&(0,ht.EN)(n)&&n>e.dragData.index&&n--,{index:n,id:this.metadata?.id}}},this.initSubscriptions),this.containerDrop=this.dnd.dropTarget(["TREE_COMPONENT"],{canDrop:t=>this.canDropAncestors(this.metadata.id,t.getItem()?.dragData.metadata?.id)[0]&&t.isOver({shallow:!0}),drop:t=>{const[e,n]=this.getFixedDropCoordinates(t,!1);return{index:e,id:n}},hover:t=>{if(t.isOver({shallow:!0})){const[e,n]=this.getDropCoordinates(t,!1);if((0,ht.fp)(e)||(0,ht.fp)(n))return;this.bus.setDropPlaceholderPreview({index:e,parentId:n,placeholder:{height:0,width:0}})}}},this.initSubscriptions),this.drag=this.dnd.dragSource("TREE_COMPONENT",{beginDrag:()=>(this.draggingSvc.setDragging(!0),this.designerElement.nativeElement.classList.add("is-dragged"),{dragData:this.dragData}),canDrag:()=>!this.dragDisabled,endDrag:t=>{if(this.designerElement.nativeElement.classList.remove("is-dragged"),t.didDrop()){const e=t.getItem(),n=t.getDropResult();if(!e)return;e.dragData.index=n.index,this.bus.setDropData({data:e.dragData,id:n.id})}this.bus.setDropPlaceholderPreview(null),this.draggingSvc.setDragging(!1)}},this.initSubscriptions),this.dropzone=this.dnd.dropTarget(["TREE_COMPONENT"],{canDrop:t=>(this.canDrop&&!this.hasAncestor(this.metadata.id,t.getItem()?.dragData.metadata?.id)||this.canDropAncestors(this.metadata.id,t.getItem()?.dragData.metadata?.id)[0])&&t.isOver({shallow:!0}),drop:t=>{const[e,n]=this.getFixedDropCoordinates(t,this.canDrop);return{index:e,id:n}},hover:t=>{if(t.isOver({shallow:!0})&&(this._manager.dragOverComponent(this.metadata.id),t.canDrop())){const[e,n]=this.getDropCoordinates(t,this.canDrop);if((0,ht.fp)(e)||(0,ht.fp)(n))return;this.bus.setDropPlaceholderPreview({index:e,parentId:n,placeholder:{height:0,width:0}})}}},this.initSubscriptions),this.dragDisabled=!1,this.dropMetadata=new k.v,this.connectDropToContainer()}get metadata(){if(!this.dragData.metadata)throw new Error("DndCoreTreeItemDirective: invalid drag data without metadata!");return this.dragData.metadata}get canDrop(){return this.manager.getComponent(this.metadata.id)?.canDrop??!1}ngOnInit(){if(!this.dropzoneElement)throw new Error("DndCoreDesignerDirective: missing dropzone element!");if(!this.containerElement)throw new Error("DndCoreDesignerDirective: missing container element!");if(!this.dragData)throw new Error("DndCoreDesignerDirective: missing drag data!");this.initSubscriptions.add(this.bus.dropDataChange.pipe((0,mt.h)((t=>t.id===this.metadata.id))).subscribe((t=>this.dropMetadata.emit(t.data)))),this.initSubscriptions.add(this.bus.oldDropPlaceholderPreviewChange.pipe((0,mt.h)((t=>t.parentId===this.metadata.id))).subscribe((()=>{this.placeholderPreviewElement?.remove(),this.placeholderPreviewElement=null}))),this.initSubscriptions.add(this.bus.newDropPlaceholderPreviewChange.pipe((0,mt.h)((t=>t.parentId===this.metadata.id))).subscribe(this.showPlaceholderPreview))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.placeholderConnection?.unsubscribe(),this.placeholderConnection=null,this.containerConnection?.unsubscribe(),this.containerConnection=null}getDropCoordinates(t,e){if(e)return this.getDropCoordinatesForChildren(t);const[n,i,a]=this.canDropAncestors(this.metadata.id,t.getItem()?.dragData.metadata?.id);if(!n||(0,ht.fp)(i))return[null,null];const r=this.manager.getComponent(i),o=this.manager.getComponent(a)?.index??0,s=t.getItem();return s&&(0,ht.EN)(s.dragData.index)&&s.dragData.metadata?.id===this.metadata.id?[s.dragData.index,s.dragData.parentId??""]:r?[o+this.getIndexIncrement(t),i]:[null,null]}getDropCoordinatesForChildren(t){const e=t=>{const e=t.children[0]?.getBoundingClientRect(),n=e?.y;return n+e?.height/2};if(!this.containerElement)return[null,null];let n=0;const i=t.getClientOffset();if(!i)return[null,null];const a=i.y;for(let t=0;t<this.containerElement.children.length;t++){const i=this.containerElement.children[t];if(!i.classList.contains("drag-placeholder")){if(a<=e(i))return[n,this.metadata.id];n++}}return[n,this.metadata.id]}getFixedDropCoordinates(t,e){const[n,i]=this.getDropCoordinates(t,e);let a=n;const r=t.getItem();return r&&(0,ht.EN)(a)&&(0,ht.EN)(r.dragData.index)&&i===r.dragData.parentId&&a>r.dragData.index&&a--,[a,i]}getIndexIncrement(t){const e=this.dropzoneElement.getBoundingClientRect(),n=t.getClientOffset();return n?n.y-e.y<=e.height/2?0:1:0}showPlaceholderPreview(t){this.containerElement&&(this.placeholderPreviewElement??(this.placeholderPreviewElement=this.document.createElement("div")),this.placeholderPreviewElement.classList.add("drag-placeholder"),this.placeholderPreviewElement.remove(),this.connectDropToPlaceholder(),this.containerElement.insertBefore(this.placeholderPreviewElement,this.containerElement.children[t.index]))}connectDropToPlaceholder(){this.zone.runOutsideAngular((()=>{this.placeholderConnection?.unsubscribe(),this.placeholderPreviewElement&&(this.placeholderConnection=this.placeholderDrop.connectDropTarget(this.placeholderPreviewElement))}))}connectDropToContainer(){this.zone.runOutsideAngular((()=>{this.containerConnection?.unsubscribe(),this.containerConnection=this.containerDrop.connectDropTarget(this.designerElement.nativeElement)}))}canDropAncestors(t,e){(0,ht.fp)(t)&&(t=this.metadata.id);const n=this.manager.getComponentDef(t);return!n?.parent||(0,ht.EN)(e)&&this.hasAncestor(n.component.id,e)?[!1,null,t]:n.parent.component.canDrop?[!0,n.parent.component.id,t]:this.canDropAncestors(n.parent.component.id,e)}hasAncestor(t,e){if(!e)return!1;const n=this.manager.getComponentDef(t);return n?.component?.id===e||!!n?.parent&&this.hasAncestor(n.parent.component?.id,e)}}function yt(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}function bt(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return bt=function(t){this.s=t,this.n=t.next},bt.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new bt(t)}function Dt(t,e){if(1&t&&m._U(0,"span",10),2&t){const t=v.o();E.Q("ngClass",t.open?"fa-chevron-down":"fa-chevron-right")}}function wt(t,e){if(1&t&&(m.Tg(0,"div",11),m._U(1,"components-tree-item",12),m.qZ()),2&t){const t=e.$implicit,n=e.index,i=v.o();y.x(1),E.Q("data",t)("parentId",null==i.data?null:i.data.id)("index",n)}}vt.ɵfac=function(t){return new(t||vt)(I.Y(Z.f),I.Y(F.SB),I.Y(q.z),I.Y(st.t),I.Y(R.E),I.Y(z.R),I.Y(ft.z),I.Y(st.t),I.Y(ut.K))},vt.ɵdir=p.lG({type:vt,selectors:[["","dndCoreTreeItem",""]],inputs:{dropzoneElement:"dropzoneElement",containerElement:"containerElement",dragData:["dndCoreTreeItem","dragData"],dragDisabled:"dragDisabled"},outputs:{dropMetadata:"dropMetadata"},exportAs:["dndCoreTreeItem"]}),(0,K.gn)([gt.r,(0,K.w6)("design:type",Function),(0,K.w6)("design:paramtypes",[Object]),(0,K.w6)("design:returntype",void 0)],vt.prototype,"showPlaceholderPreview",null);const Ct=function(t,e,n){return{metadata:t,parentId:e,index:n}};class Pt{constructor(t,e,n,i){this._manager=t,this._changeDetector=e,this._draggingSvc=n,this.iteratorSvc=i,this._initSubscriptions=new s.w0,this.children=[],this.index=0,this.open=!0}get hasChildren(){return!!this.children&&this.children.length>0}get dragDisabled(){return!this.parentId||!this.data||!0===this._manager.getComponent(this.data.id)?.dragDisabled}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.subscribe((()=>{this.initChildren()}))),this._initSubscriptions.add(this._manager.selectedChange.subscribe((()=>{this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.highlightedChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._manager.displayNameChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._manager.draggedOverComponentChange.subscribe((()=>this._handleDragOver()))),this.initChildren()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}toggle(){this.open=!this.open}expand(t){if(!t)return this.open=!0,!0;if(this.data?.id===t)return!0;if(this.hasChildren)for(const e of this._childrenNodes?.toArray())if(e.expand(t))return this.expand(),!0;return!1}addDescendant(t){this.data&&this._manager.getComponent(this.data.id)?.addDescendant(t)}expandAll(){this._childrenNodes?.forEach((t=>t.expandAll())),this.expand(),this._changeDetector.detectChanges()}collapse(){this.open=!1}collapseAll(){this._childrenNodes?.forEach((t=>t.collapseAll())),this.collapse(),this._changeDetector.detectChanges()}initChildren(){var t,e=this;return(t=function*(){if(e.children=[],e.data){var t,n=!1,i=!1;try{for(var a,r=function(t){var e,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new bt(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(e.iteratorSvc.getChildrenIteratorFor(e.data));n=!(a=yield r.next()).done;n=!1){const t=a.value;e.children.push(t.metadata)}}catch(e){i=!0,t=e}finally{try{n&&null!=r.return&&(yield r.return())}finally{if(i)throw t}}}e._changeDetector.detectChanges()},function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){yt(r,i,a,o,s,"next",t)}function s(t){yt(r,i,a,o,s,"throw",t)}o(void 0)}))})()}highlight(t,e){t.preventDefault(),t.stopPropagation(),this._manager.highlightComponent(e)}_handleDragOver(){if(this._manager.draggedOverComponent!=this.data?.id)return this.dragOverSubscription?.unsubscribe(),void(this.dragOverSubscription=null);this.open||(this.dragOverSubscription=(0,tt.H)(500).subscribe((()=>{this.expand(),this._changeDetector.detectChanges()})))}_cancelHighlight(t){t.preventDefault(),t.stopPropagation(),this._manager.cancelHighlightedComponent()}}Pt.ɵfac=function(t){return new(t||Pt)(I.Y(st.t),I.Y(T.s),I.Y(q.z),I.Y(dt.$))},Pt.ɵcmp=p.Xp({type:Pt,selectors:[["components-tree-item"]],viewQuery:function(t,e){if(1&t&&nt.Gf(Pt,5),2&t){let t;nt.iG(t=nt.CR())&&(e._childrenNodes=t)}},hostBindings:function(t,e){1&t&&w.N("mouseleave",(function(t){return e._cancelHighlight(t)}))},inputs:{data:"data",index:"index",parentId:"parentId",open:"open"},exportAs:["componentsTreeItem"],standalone:!0,features:[S.j],decls:12,vars:23,consts:[[3,"dndCoreTreeItem","dropzoneElement","containerElement","dragDisabled","dragSource","noHTML5Preview","dropMetadata"],["dndCoreTree","dndCoreTreeItem","dropzone",""],[1,"designer-dropzone",3,"dropTarget"],[1,"flex","dynamic-align-items-center",3,"ngClass"],["type","button","mat-icon-button","",3,"disabled","click"],["class","fa",3,"ngClass",4,"ngIf"],[3,"mouseover","click"],[1,"node-children"],["childrenContainer",""],["class","node-child",4,"ngFor","ngForOf"],[1,"fa",3,"ngClass"],[1,"node-child"],[3,"data","parentId","index"]],template:function(t,e){if(1&t&&(m.Tg(0,"div",0,1),w.N("dropMetadata",(function(t){return e.addDescendant(t)})),m.Tg(3,"div",2)(4,"div",3)(5,"button",4),w.N("click",(function(){return e.toggle()})),_.Y(6,Dt,1,1,"span",5),m.qZ(),m.Tg(7,"div",6),w.N("mouseover",(function(t){return e.highlight(t,null==e.data?null:e.data.id)}))("click",(function(){return e._manager.selectComponent(null==e.data?null:e.data.id)})),f._(8),m.qZ()(),m.Tg(9,"div",7,8),_.Y(11,wt,2,3,"div",9),m.qZ()()()),2&t){const t=it.M(1),n=it.M(2),i=it.M(10);E.Q("dndCoreTreeItem",at.kE(19,Ct,e.data,e.parentId,e.index))("dropzoneElement",n)("containerElement",i)("dragDisabled",e.dragDisabled)("dragSource",t.drag)("noHTML5Preview",!0),y.x(3),E.Q("dropTarget",t.dropzone),y.x(1),E.Q("ngClass",e.hasChildren?"nested-node-tree":"node-tree"),y.x(1),E.Q("disabled",!e.hasChildren),rt.u("aria-label","Toggle"),y.x(1),E.Q("ngIf",e.hasChildren),y.x(1),ot.ek("selected",(null==e.data?null:e.data.id)===e._manager.selectedComponent)("highlighted",(null==e.data?null:e.data.id)===e._manager.highlightedComponent),y.x(1),b.Oq((null==e.data?null:e.data.displayName)||(null==e.data?null:e.data.id)),y.x(1),ot.ek("hidden",!e.open),y.x(2),E.Q("ngForOf",e.children)}},dependencies:[Pt,d.e,ct.m,A.s,Y.O,H.o,lt.l,W.c8,pt.$d,pt.Li,g.N,vt,et.c],encapsulation:2,changeDetection:0}),(0,K.gn)([(0,V.C)(10),(0,J.S)(),(0,K.w6)("design:type",Function),(0,K.w6)("design:paramtypes",[]),(0,K.w6)("design:returntype",Promise)],Pt.prototype,"initChildren",null);var _t=n(73379);function Et(t,e){if(1&t){const t=D.E();m.Tg(0,"div",1)(1,"button",2),w.N("click",(function(){C.CH(t);const e=v.o();return C.Kt(null==e.rootTreeItem?null:e.rootTreeItem.collapseAll())})),m._U(2,"span",3),m.qZ(),m.Tg(3,"button",4),w.N("click",(function(){C.CH(t);const e=v.o();return C.Kt(null==e.rootTreeItem?null:e.rootTreeItem.expandAll())})),m._U(4,"span",5),m.qZ(),m._U(5,"components-tree-item",6),m.qZ()}if(2&t){const t=v.o();y.x(5),E.Q("data",t.root)}}class xt{constructor(t,e){this._manager=t,this._changeDetector=e,this._initSubscriptions=new s.w0}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.subscribe((()=>{this.root=this._manager.getMetadata(),this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.selectedChange.subscribe((()=>{this.rootTreeItem?.expand(this._manager.selectedComponent),this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.highlightedChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._manager.displayNameChange.subscribe((()=>this._changeDetector.detectChanges()))),this.root=this._manager.getMetadata()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}}xt.ɵfac=function(t){return new(t||xt)(I.Y(st.t),I.Y(T.s))},xt.ɵcmp=p.Xp({type:xt,selectors:[["components-tree"]],viewQuery:function(t,e){if(1&t&&nt.Gf(Pt,5),2&t){let t;nt.iG(t=nt.CR())&&(e.rootTreeItem=t.first)}},standalone:!0,features:[_t._([q.z,R.E]),S.j],decls:1,vars:1,consts:[["class","component-tree",4,"ngIf"],[1,"component-tree"],["type","button","mat-icon-button","","aria-label","Collapse all",3,"click"],[1,"fa","fa-minus-square"],["type","button","mat-icon-button","","aria-label","Expand all",3,"click"],[1,"fa","fa-plus-square"],[3,"data"]],template:function(t,e){1&t&&_.Y(0,Et,6,1,"div",0),2&t&&E.Q("ngIf",e.root)},dependencies:[d.e,Y.O,H.o,lt.l,Pt],encapsulation:2,changeDetection:0});var It=n(70625),Tt=n(48659),St=n(71791),Ot=n(14389),Mt=n(39163),At=n(5348),Yt=n(77880),Nt=n(59951),kt=n(38327);class Ft{}Ft.ɵfac=function(t){return new(t||Ft)},Ft.ɵmod=p.oA({type:Ft}),Ft.ɵinj=kt.cJ({imports:[d.e,Mt.z,Nt.i,Yt.j,At.A]});class zt{constructor(t,e,n){this.document=t,this.element=e,this.ngZone=n,this.lastXCoordinate=null,this.size=new k.v}dragStart(t){this.ngZone.runOutsideAngular((()=>{this.document.addEventListener("mousemove",this.drag),this.document.addEventListener("mouseup",this.dragEnd)})),this.element.nativeElement.classList.add("hovering"),t.stopImmediatePropagation(),t.preventDefault(),this.lastXCoordinate=t.clientX}drag(t){(0,ht.fp)(this.lastXCoordinate)||(this.size.emit(t.clientX-this.lastXCoordinate),t.stopImmediatePropagation(),t.preventDefault(),this.lastXCoordinate=t.clientX)}dragEnd(t){this.ngZone.runOutsideAngular((()=>{this.document.removeEventListener("mousemove",this.drag),this.document.removeEventListener("mouseup",this.dragEnd)})),this.element.nativeElement.classList.remove("hovering"),t.stopImmediatePropagation(),t.preventDefault(),this.lastXCoordinate=null}}zt.ɵfac=function(t){return new(t||zt)(I.Y(ut.K),I.Y(F.SB),I.Y(z.R))},zt.ɵdir=p.lG({type:zt,selectors:[["","widthResizer",""]],hostBindings:function(t,e){1&t&&w.N("mousedown",(function(t){return e.dragStart(t)}))},outputs:{size:"size"},standalone:!0}),(0,K.gn)([gt.r,(0,K.w6)("design:type",Function),(0,K.w6)("design:paramtypes",[MouseEvent]),(0,K.w6)("design:returntype",void 0)],zt.prototype,"drag",null),(0,K.gn)([gt.r,(0,K.w6)("design:type",Function),(0,K.w6)("design:paramtypes",[MouseEvent]),(0,K.w6)("design:returntype",void 0)],zt.prototype,"dragEnd",null);var Zt=n(43671),qt=n(49280),Rt=n(77470),Lt=n(27635),Qt=n(8215),$t=n(36973);function jt(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}class Bt{constructor(t,e){this._viewContainerRef=t,this._logger=e,this._componentRef=null,this.propertiesMetadata=null}ngOnChanges(){var t,e=this;return(t=function*(){if(e._logger?.debug("PropertiesControlRendererDirective: rendering properties control {@type}",{type:e.type?.name}),e.ngOnDestroy(),e._viewContainerRef.clear(),e.type){const t=e._viewContainerRef.injector;if(e._componentRef=e._viewContainerRef.createComponent(e.type,{injector:t}),e._componentRef){const t=e._componentRef.instance;t.propertiesMetadata=e.propertiesMetadata,t.form=e.form,yield t.initialize(),t.invalidateVisuals()}}},function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){jt(r,i,a,o,s,"next",t)}function s(t){jt(r,i,a,o,s,"throw",t)}o(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("PropertiesControlRendererDirective: destroying properties control {@type}",{type:this.type?.name}),this._componentRef?.destroy(),this._componentRef=null)}}function Xt(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}function Gt(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){Xt(r,i,a,o,s,"next",t)}function s(t){Xt(r,i,a,o,s,"throw",t)}o(void 0)}))}}function Ut(t,e){if(1&t){const t=D.E();m.Tg(0,"div",2)(1,"button",3),w.N("click",(function(){C.CH(t);const e=v.o();return C.Kt(e.toggleCollapsed())})),m.Tg(2,"span",4),f._(3,"properties"),m.qZ()()()}}function Ht(t,e){if(1&t&&(x.yn(0),x.Gk(1,18),x.BQ()),2&t){const t=e.$implicit,n=v.o().$implicit;y.x(1),E.Q("propertiesControl",t)("form",n.form)("propertiesMetadata",n.metadata)}}function Kt(t,e){if(1&t&&(x.yn(0),_.Y(1,Ht,2,3,"ng-container",17),x.BQ()),2&t){const t=e.$implicit;y.x(1),E.Q("ngForOf",t.controls)}}function Vt(t,e){if(1&t&&(x.yn(0),m.Tg(1,"div",11)(2,"div",12)(3,"label",13),f._(4,"type"),m.qZ(),m.Tg(5,"div",14),f._(6),m.qZ(),m.Tg(7,"label",13),f._(8,"id"),m.qZ(),m.Tg(9,"div",14),f._(10),m.qZ(),m.Tg(11,"label",13),f._(12,"display name"),m.qZ(),m._U(13,"input",15),m.qZ()(),m.Tg(14,"div",16),_.Y(15,Kt,2,1,"ng-container",17),m.qZ(),x.BQ()),2&t){const t=v.o(2);let e;y.x(6),b.Oq(null!==(e=null==t.metadata||null==t.metadata.metaInfo?null:t.metadata.metaInfo.name)&&void 0!==e?e:null==t.component.options||null==t.component.options.typeMetadata?null:t.component.options.typeMetadata.name),y.x(4),b.Oq(null==t.component.options||null==t.component.options.typeMetadata?null:t.component.options.typeMetadata.id),y.x(3),E.Q("formControl",t.displayName),y.x(2),E.Q("ngForOf",t.propertiesData)}}function Jt(t,e){if(1&t){const t=D.E();x.yn(0),m.Tg(1,"div",5)(2,"div",6)(3,"div",7),f._(4,"properties"),m.qZ(),m.Tg(5,"button",8),w.N("click",(function(){C.CH(t);const e=v.o();return C.Kt(e.toggleCollapsed())})),m._U(6,"span",9),m.qZ()(),_.Y(7,Vt,16,4,"ng-container",1),m.qZ(),m.Tg(8,"div",10),w.N("size",(function(e){C.CH(t);const n=v.o();return C.Kt(n.updateSize(e))})),m.qZ(),x.BQ()}if(2&t){const t=v.o();y.x(1),ot.Ud("width",t.state.width,"px"),y.x(6),E.Q("ngIf",t.component)}}Bt.ɵfac=function(t){return new(t||Bt)(I.Y(Qt.s_),I.Y(c.bZ,8))},Bt.ɵdir=p.lG({type:Bt,selectors:[["","propertiesControl",""]],inputs:{form:"form",propertiesMetadata:"propertiesMetadata",type:["propertiesControl","type"]},features:[$t.T]});const Wt="PROPERTIES_EDITOR_STATE";class te{constructor(t,e,n,i,a,r,o,d){this.manager=t,this.metadataExtractor=e,this.propertyExtractor=n,this.formModelBuilder=i,this.changeDetector=a,this.storage=r,this.history=o,this.logger=d,this.initSubscriptions=new s.w0,this.optionsFormSubscription=null,this.lastComponentId=null,this.lastComponent=null,this.component=null,this.metadata=null,this.displayName=new It.NI(null),this.propertiesData=[],this.state={opened:!1,width:350}}ngOnInit(){var t=this;return Gt((function*(){const e=t.storage.get(Wt);e&&(t.state=e),t.initSubscriptions.add(t.manager.layoutChange.subscribe((()=>t.initProperties()))),t.initSubscriptions.add(t.manager.selectedChange.subscribe((()=>t.initProperties()))),t.displayName.valueChanges.subscribe(function(){var e=Gt((function*(e){if(t.component?.options?.typeMetadata&&(0,ht.EN)(e)){t.component.options.typeMetadata.displayName=e;const n={};(0,Ot.mv)(n,"options",t.component.options,t.component.options),t.component.options=t.component.options,yield t.component.ngOnChanges?.(n),t.manager.displayNameUpdated(),t.history.getNewState()}}));return function(t){return e.apply(this,arguments)}}()),yield t.initProperties()}))()}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.optionsFormSubscription?.unsubscribe(),this.optionsFormSubscription=null}toggleCollapsed(){this.state.opened=!this.state.opened,this.storage.set(Wt,this.state)}updateSize(t){this.state.width-=t,this.storage.set(Wt,this.state),this.changeDetector.detectChanges()}initProperties(){var t=this;return Gt((function*(){if((0,ht.EN)(t.manager.selectedComponent)){const e=t.manager.getComponent(t.manager.selectedComponent);if(t.lastComponent==e&&t.lastComponentId==t.manager.selectedComponent)return;t.lastComponent=e,t.lastComponentId=t.manager.selectedComponent,e?(t.component=e,yield t.getMetadata()):t.hide()}else t.hide()}))()}getMetadata(){var t=this;return Gt((function*(){if(t.optionsFormSubscription?.unsubscribe(),t.optionsFormSubscription=new s.w0,t.propertiesData=[],t.component?.options?.typeMetadata){if(t.displayName.setValue(t.component.options.typeMetadata.displayName||t.component.options.typeMetadata.id,{emitEvent:!1}),t.metadata=yield t.metadataExtractor.extractMetadata(t.component.options?.typeMetadata),t.metadata||(t.logger?.error("PropertiesEditorSAComponent: unable to get metadata {@source}",{package:t.component.options?.typeMetadata.package,name:t.component.options?.typeMetadata.name}),t.hide()),t.metadata?.metaInfo?.optionsMetadata?.propertiesMetadata?.length)for(const e of t.metadata?.metaInfo?.optionsMetadata?.propertiesMetadata)t.initDynamicProperty(e);if(t.component){const e=t.manager.getParent(t.component.id);if(e?.options?.typeMetadata){const n=yield t.metadataExtractor.extractMetadata(e.options?.typeMetadata);if(n?.metaInfo?.optionsMetadata?.childPropertiesMetadata?.length)for(const e of n?.metaInfo?.optionsMetadata?.childPropertiesMetadata)t.initDynamicProperty(e)}}}else t.hide();t.changeDetector.detectChanges()}))()}hide(){this.lastComponent=null,this.lastComponentId=null,this.component=null,this.metadata=null,this.propertiesData=[],this.optionsFormSubscription?.unsubscribe(),this.optionsFormSubscription=null,this.changeDetector.detectChanges()}initDynamicProperty(t){var e=this;const n=this.formModelBuilder.build(new t.modelType(this.component?.options?.typeMetadata.options)),i=this.propertyExtractor.extract(t.modelType);this.optionsFormSubscription&&(this.optionsFormSubscription.add(n.valueChanges.subscribe(function(){var t=Gt((function*(t){if(e.component?.options?.typeMetadata){(0,l.l7)(!0,e.component.options.typeMetadata.options,t);const n={};(0,Ot.mv)(n,"options",e.component.options,e.component.options),e.component.options=e.component.options,yield e.component.ngOnChanges?.(n),e.component.invalidateVisuals(),e.history.getNewState()}}));return function(e){return t.apply(this,arguments)}}())),this.propertiesData.push({form:n,metadata:i,controls:t.propertiesControls}))}}te.ɵfac=function(t){return new(t||te)(I.Y(st.t),I.Y(M.T),I.Y(Zt.L),I.Y(St.p),I.Y(T.s),I.Y(c.T0),I.Y(h.dB),I.Y(c.bZ,8))},te.ɵcmp=p.Xp({type:te,selectors:[["properties-editor"]],standalone:!0,features:[_t._([St.p]),S.j],decls:2,vars:2,consts:[["class","properties-toolbar",4,"ngIf"],[4,"ngIf"],[1,"properties-toolbar"],["type","button",1,"dynamic-btn-icon","props-buttons",3,"click"],[1,"dynamic-text-vertical"],[1,"properties-main"],[1,"header"],[1,"header-title"],["type","button",1,"dynamic-btn-icon",3,"click"],[1,"fas","fa-times"],["widthResizer","",1,"properties-resizer",3,"size"],[1,"static-properties"],[1,"properties-form-group"],[1,"properties-control-label"],[1,"properties-form-static"],["type","text",1,"properties-form-control",3,"formControl"],[1,"dynamic-thin-scrollbar","properties-controls"],[4,"ngFor","ngForOf"],[3,"propertiesControl","form","propertiesMetadata"]],template:function(t,e){1&t&&(_.Y(0,Ut,4,0,"div",0),_.Y(1,Jt,9,3,"ng-container",1)),2&t&&(E.Q("ngIf",!e.state.opened),y.x(1),E.Q("ngIf",e.state.opened))},dependencies:[d.e,A.s,Y.O,Tt.U,qt.Fj,Rt.JJ,Lt.oH,Ft,Bt,zt],encapsulation:2,changeDetection:0}),(0,K.gn)([(0,V.C)(10),(0,J.S)(),(0,K.w6)("design:type",Function),(0,K.w6)("design:paramtypes",[]),(0,K.w6)("design:returntype",Promise)],te.prototype,"initProperties",null);var ee=n(43259);class ne{}ne.ɵfac=function(t){return new(t||ne)},ne.ɵcmp=p.Xp({type:ne,selectors:[["layout-editor-drag-preview"]],inputs:{layoutMetadata:"layoutMetadata"},standalone:!0,features:[S.j],decls:4,vars:2,consts:[[1,"dynamic-semi-bold"],[1,"dynamic-margin-left-extra-small","dynamic-small-text"]],template:function(t,e){1&t&&(m.Tg(0,"span",0),f._(1),m.qZ(),m.Tg(2,"span",1),f._(3),m.qZ()),2&t&&(y.x(1),b.Oq(null==e.layoutMetadata?null:e.layoutMetadata.name),y.x(2),b.hi("#",(null==e.layoutMetadata?null:e.layoutMetadata.displayName)||(null==e.layoutMetadata?null:e.layoutMetadata.id),""))},encapsulation:2,changeDetection:0});var ie=n(56454),ae=n(93802);class re{constructor(t){this.template=t}static ngTemplateContextGuard(t,e){return!0}}re.ɵfac=function(t){return new(t||re)(I.Y(ae.Rg))},re.ɵdir=p.lG({type:re,selectors:[["","dndCorePreviewTemplate",""]],inputs:{type:["dndCorePreviewTemplateType","type"]}});class oe{constructor(t,e){this.viewContainer=t,this.dnd=e,this.initSubscriptions=new s.w0}ngOnInit(){this.initSubscriptions.add(this.dnd.dragLayer(this.initSubscriptions).listen((t=>({dragging:t.isDragging(),item:t.getItem(),coordinates:t.getClientOffset(),type:t.getItemType()}))).subscribe((t=>{t.dragging?t.item&&(this.dragPreviewElement??(this.dragPreviewElement=this.renderDragPreview(t.item)),this.dragPreviewElement&&(this.dragPreviewElement.style.position="fixed",this.dragPreviewElement.style.top=`${t.coordinates?.y}px`,this.dragPreviewElement.style.left=`${t.coordinates?.x}px`,this.dragPreviewElement.style.zIndex="21312")):this.removeDragPreview()})))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.removeDragPreview()}renderDragPreview(t){return this.dndCorePreviewTemplate?(this.dragPreviewView=this.viewContainer.createEmbeddedView(this.dndCorePreviewTemplate,{$implicit:t}),this.dragPreviewElement=this.dragPreviewView.rootNodes[0],this.dragPreviewView.detectChanges(),this.dragPreviewElement??null):null}removeDragPreview(){this.dragPreviewElement?.remove(),this.dragPreviewView?.destroy(),this.dragPreviewElement=null,this.dragPreviewView=null}}oe.ɵfac=function(t){return new(t||oe)(I.Y(Qt.s_),I.Y(Z.f))},oe.ɵcmp=p.Xp({type:oe,selectors:[["dnd-core-drag-preview"]],contentQueries:function(t,e,n){if(1&t&&nt.Su(n,re,7,ae.Rg),2&t){let t;nt.iG(t=nt.CR())&&(e.dndCorePreviewTemplate=t.first)}},decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0});var se=n(6535),de=n(2538),ce=n(75464);function le(t,e){if(1&t&&m._U(0,"layout-editor-drag-preview",6),2&t){const t=e.$implicit;E.Q("layoutMetadata",t.dragData.metadata)}}class pe{constructor(t,e,n){this.history=t,this.changeDetector=e,this.hotkeys=n,this.initSubscriptions=new s.w0,this.metadata=null,n?.init()}ngOnInit(){this.initSubscriptions.add(this.history.pop.subscribe((t=>{this.metadata=t,this.changeDetector.detectChanges()}))),this.hotkeys&&(this.initSubscriptions.add(this.hotkeys.undo.subscribe((()=>this.history.undo()))),this.initSubscriptions.add(this.hotkeys.redo.subscribe((()=>this.history.redo()))))}ngOnChanges(t){(0,o.$)("metadata")in t&&(this.history.clean(),this.metadata&&this.history.setInitialState(this.metadata))}ngOnDestroy(){this.initSubscriptions.unsubscribe(),this.hotkeys?.destroy()}}pe.ɵfac=function(t){return new(t||pe)(I.Y(h.dB),I.Y(T.s),I.Y(ie.z,8))},pe.ɵcmp=p.Xp({type:pe,selectors:[["layout-editor"]],inputs:{metadata:"metadata"},standalone:!0,features:[_t._([ee.NX,R.E]),$t.T,S.j],decls:12,vars:1,consts:[[1,"dynamic-flex-row","dynamic-margin-top-big","dynamic-flex-1"],["label","Hierarchy"],["label","Palette"],[1,"dynamic-flex-1","layout-content","dynamic-thin-scrollbar"],[3,"layoutComponentRenderer"],["class","mat-elevation-z4",3,"layoutMetadata",4,"dndCorePreviewTemplate"],[1,"mat-elevation-z4",3,"layoutMetadata"]],template:function(t,e){1&t&&(m.Tg(0,"div",0)(1,"mat-tab-group")(2,"mat-tab",1),m._U(3,"components-tree"),m.qZ(),m.Tg(4,"mat-tab",2),m._U(5,"package-manager")(6,"components-palette"),m.qZ()(),m.Tg(7,"div",3),x.Gk(8,4),m.qZ(),m._U(9,"properties-editor"),m.qZ(),m.Tg(10,"dnd-core-drag-preview"),_.Y(11,le,1,1,"layout-editor-drag-preview",5),m.qZ()),2&t&&(y.x(8),E.Q("layoutComponentRenderer",e.metadata))},dependencies:[xt,U,te,g.N,oe,re,ne,a.i,r.F,se.X,i.N,de.SP,ce.u],styles:["[_nghost-%COMP%]{display: flex;}"],changeDetection:0})},43259:(t,e,n)=>{n.d(e,{G5:()=>x,Nc:()=>P,TA:()=>_,NX:()=>E,r4:()=>I,f4:()=>O,DN:()=>S,qF:()=>T});var i=n(60640),a=n(11776),r=n(65569),o=n(44677),s=n(12193),d=n(13457),c=n(44055),l=n(8477),p=n(46480),u=n(38327);function h(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}class g{constructor(t){this._logger=t}tryToGet(t){var e,i=this;return(e=function*(){if("@anglr/dynamic/layout-editor"!=t.package)return null;try{if(i._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),"layout-designer"==t.name)return yield Promise.all([n.e(8282),n.e(9210)]).then(n.bind(n,45800))}catch(e){i._logger?.warn("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found, reason:"+e,{name:t.name,package:t.package})}return i._logger?.debug("LayoutDesignerDynamicModuleItemsProvider: item {@item} was not found",{name:t.name,package:t.package}),null},function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(t){h(r,i,a,o,s,"next",t)}function s(t){h(r,i,a,o,s,"throw",t)}o(void 0)}))})()}}g.ɵfac=function(t){return new(t||g)(a.LF(p.bZ,8))},g.ɵprov=u.Yz({token:g,factory:g.ɵfac});var m=n(83434),f=n(71785),v=n(22528),y=n(94596),b=n(97149),D=n(9142);function w(t,e,n,i,a,r,o){try{var s=t[r](o),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(i,a)}const C=function(){var t,e=(t=function*(t,e){const n=yield(0,o.L)(t,e),i=yield(0,D.k)(t,e),a=n?.data;if(e?.debug("layoutDesignerTypeExtractor: trying to extract default dynamic data"),!a?.layoutEditorDesignerType)return null;const r=yield a?.layoutEditorDesignerType;return r?{data:r,childExtensions:i?.childExtensions,extensions:i?.extensions}:null},function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function o(t){w(r,i,a,o,s,"next",t)}function s(t){w(r,i,a,o,s,"throw",t)}o(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),P={provide:l.gM,useFactory:t=>new r.$([C],t),deps:[[new i.Fi,p.bZ]],multi:!0},_={provide:l.Aw,useClass:g,multi:!0},E={provide:l.xM,useValue:v.U},x={provide:f.FX,useFactory:t=>new r.$([o.L],t),deps:[[new i.Fi,p.bZ]],multi:!0},I={provide:f.RI,useValue:[y.$]},T={provide:f.QT,useFactory:()=>new s.S((0,a.f3)(f.sc),(0,a.f3)(f.FX),b.G,(0,a.f3)(p.bZ,{optional:!0})??void 0,!0)},S={provide:d.Qh,useExisting:m.t},O={provide:f.dB,useClass:c.Y}},22528:(t,e,n)=>{n.d(e,{U:()=>i});const i=function(t){return{id:`${t.id}-designer`,package:"@anglr/dynamic/layout-editor",name:"layout-designer",options:{typeMetadata:t}}}},94596:(t,e,n)=>{n.d(e,{$:()=>i});const i=Symbol("LayoutPropertyMetadata")},97149:(t,e,n)=>{n.d(e,{G:()=>u,_:()=>p});var i=n(2991),a=n(43939),r=n(43259),o=n(85902),s=n(43671),d=n(83434),c=n(98906),l=n(26938);function p(t=!0){return[...t?[r.Nc]:[],...(0,i._)(),r.TA,r.G5,r.r4,r.qF,o.T,s.L,d.t,c.z,l.$,r.f4,r.DN]}const u=function(t){return!((0,a.fp)(t?.data)||!Array.isArray(t.data))}},11650:(t,e,n)=>{n.d(e,{c:()=>d});var i=n(99109),a=n(35218),r=n(97149),o=n(77842),s=n(38327);class d{static withProviders(t=!0){return{ngModule:d,providers:[(0,r._)(t)]}}}d.ɵfac=function(t){return new(t||d)},d.ɵmod=o.oA({type:d}),d.ɵinj=s.cJ({imports:[a.Z,i.u]})},59951:(t,e,n)=>{n.d(e,{i:()=>c});var i=n(27052),a=n(48659),r=n(5348),o=n(25626),s=n(77842),d=n(38327);class c{}c.ɵfac=function(t){return new(t||c)},c.ɵmod=s.oA({type:c}),c.ɵinj=d.cJ({imports:[i.e,a.U,r.A,o.F]})},43671:(t,e,n)=>{n.d(e,{L:()=>d});var i=n(46480),a=n(57466),r=n(71785),o=n(11776),s=n(38327);class d{constructor(t,e){this._layoutPropertiesSymbols=t,this._logger=e}extract(t){if(!t)return null;this._logger?.debug(`LayoutEditorPropertyMetadataExtractor: Trying to extract properties metadata '${t.name}'`);const e={};for(const n of this._layoutPropertiesSymbols){const i=Reflect.get(t.prototype,n);(0,a.l7)(!0,e,i)}return e}}d.ɵfac=function(t){return new(t||d)(o.LF(r.RI),o.LF(i.bZ,8))},d.ɵprov=s.Yz({token:d,factory:d.ɵfac})}}]);
//# sourceMappingURL=1601.chunk.e93712101319e3c67baf.js.map