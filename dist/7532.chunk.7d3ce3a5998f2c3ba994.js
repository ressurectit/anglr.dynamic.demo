(self.webpackChunkng_universal_demo=self.webpackChunkng_universal_demo||[]).push([[7532],{84635:(t,e,n)=>{var o={"./button/type":[38206,8206],"./gridPanel/type":[49,49],"./gridPanelCell/type":[9918,9918],"./sampleChange/type":[89354,9354],"./sampleSource/type":[51133,1133],"./stackPanel/type":[14433,4433],"./textBlock/type":[2252,2252]};function a(t){if(!n.o(o,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((()=>n(a)))}a.keys=()=>Object.keys(o),a.id=84635,t.exports=a},53245:(t,e,n)=>{"use strict";n.d(e,{Y:()=>i});var o=n(46480),a=n(89952);function i(t){return{provide:a.U,useFactory:e=>new a.U(e,t),deps:[o.T0]}}},89952:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});class o{constructor(t,e){this._storage=t,this._storeKey=e}setData(t,e){const n=this._storage.get(this._storeKey)??{};n[t]=e,this._storage.set(this._storeKey,n)}getData(t){return this._storage.get(this._storeKey)?.[t]??null}removeData(t){const e=this._storage.get(this._storeKey)??{};delete e[t],this._storage.set(this._storeKey,e)}getStored(){const t=this._storage.get(this._storeKey)??{};return Object.keys(t)}}},41733:(t,e,n)=>{"use strict";n.d(e,{O:()=>K});var o=n(27052),a=n(989),i=n(46480),r=n(57466),s=n(43939),c=n(38223),l=n(13691);class d{transform(t,e){const n=`${t.itemSource.name}-${e}`;return{metadata:{id:n,displayName:n,package:t.itemSource.package,name:t.itemSource.name,options:(0,r.l7)(!0,{},t.metadata.metaInfo?.defaultOptions)},parentId:null}}}d.ɵfac=function(t){return new(t||d)},d.ɵpipe=l.Yj({name:"toLayoutDragData",type:d,pure:!0,standalone:!0});var p=n(69307),u=n(53015),m=n(4820),h=n(80827),g=n(65589),_=n(6845),f=n(73301),y=n(41853),v=n(66794),C=n(6427),b=n(84773),D=n(72891),x=n(43870),M=n(15686),O=n(4477),T=n(79440),k=n(68961),w=n(82568),I=n(85902),L=n(83434),P=n(12311),E=n(21651),S=n(32434),R=n(99055),F=n(23208),A=n(10866),Y=n(22549);function N(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function U(t,e){1&t&&h._U(0,"layout-editor-drag-placeholder",10)}function Q(t,e){if(1&t&&(h._U(0,"layout-editor-drag-preview",11),g.AL(1,"toLayoutDragData")),2&t){const t=_.o().$implicit,e=_.o(2);f.Q("editorMetadata",t.metadata)("layoutMetadata",g.xi(1,2,t,e._newCompnentId).metadata)}}function q(t,e){if(1&t&&(h.Tg(0,"div",12),y._(1),h.qZ()),2&t){const t=_.o().$implicit;v.x(1),C.Oq(null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function Z(t,e){if(1&t){const t=b.E();h.Tg(0,"div",4)(1,"div",5),D.N("cdkDragDropped",(function(){x.CH(t);const e=_.o(2);return x.Kt(e._generateNewId())}))("cdkDragEnded",(function(){x.CH(t);const e=_.o().$implicit,n=_.o();return x.Kt(n._onDragEnded(e.key))}))("cdkDragStarted",(function(e){const n=x.CH(t).$implicit,o=_.o().$implicit,a=_.o();return x.Kt(a._onDragStarted(e,o.key,n))})),g.AL(2,"toLayoutDragData"),M.Y(3,U,1,0,"layout-editor-drag-placeholder",6),M.Y(4,Q,2,5,"layout-editor-drag-preview",7),h.Tg(5,"div",8),y._(6),h.qZ(),M.Y(7,q,2,1,"div",9),h.qZ()()}if(2&t){const t=e.$implicit,n=_.o(2);let o;f.Q("cdkDropListConnectedTo",n._designerDropLists),v.x(1),f.Q("cdkDragData",g.xi(2,4,t,n._newCompnentId)),v.x(5),C.Oq(null!==(o=null==t.metadata.metaInfo?null:t.metadata.metaInfo.name)&&void 0!==o?o:t.itemSource.name),v.x(1),f.Q("ngIf",null==t.metadata.metaInfo?null:t.metadata.metaInfo.description)}}function z(t,e){if(1&t&&(O.yn(0),h.Tg(1,"div",2),y._(2),h.qZ(),M.Y(3,Z,8,7,"div",3),O.BQ()),2&t){const t=e.$implicit;v.x(2),C.hi("",t.key," "),v.x(1),f.Q("ngForOf",t.value)}}class K{constructor(t,e,n,o,a){this._moduleTypesLoader=t,this._changeDetector=e,this._metadataExtractor=n,this._metadataManager=o,this._logger=a,this._initSubscriptions=new c.w,this._allItems=[],this._groupedItems={},this._designerDropLists=[],this._newCompnentId=(0,r.Ox)(16),this._isDragOverPalette=!1}ngOnInit(){var t,e=this;return(t=function*(){var t;e._initSubscriptions.add(e._metadataManager.layoutChange.subscribe((()=>e._getDesignerDropLists()))),e._getDesignerDropLists();for(const t of["basic-components","material-components"]){const n=(yield e._moduleTypesLoader.loadItem({package:t,name:"types"}))?.data??[];for(const o of n){const n={package:t,name:o},a=yield e._metadataExtractor.extractMetadata(n);a?e._allItems.push({itemSource:n,metadata:a}):e._logger?.warn("ComponentsPaletteSAComponent: Failed to obtain layout editor metadata {@source}",n)}}e._groupedItems[""]=[];for(const n of e._allItems){const o=n.metadata.metaInfo?.group??"";(t=e._groupedItems)[o]??(t[o]=[]),e._groupedItems[o].push(n)}e._changeDetector.detectChanges()},function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){N(i,o,a,r,s,"next",t)}function s(t){N(i,o,a,r,s,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}_generateNewId(){this._newCompnentId=(0,r.Ox)(16)}_onDragEnded(t){(0,s.EN)(t)&&(this._groupedItems[t]=[...this._groupedItems[t].filter((t=>!t.temp))])}_onDragStarted(t,e,n){const o=t.source.dropContainer.getSortedItems().findIndex((e=>e.data?.metadata?.id===t.source.data?.metadata?.id));(0,s.EN)(o)&&this._groupedItems[e]?.splice(o+1,0,{...n,temp:!0})}_getDesignerDropLists(){this._designerDropLists=this._metadataManager.flatTree.map((t=>t.component.id)).reverse()}}K.ɵfac=function(t){return new(t||K)(T.Y(m.QT),T.Y(k.s),T.Y(I.T),T.Y(L.t),T.Y(i.bZ,8))},K.ɵcmp=l.Xp({type:K,selectors:[["components-palette"]],standalone:!0,features:[w.j],decls:3,vars:3,consts:[[1,"flex-column"],[4,"ngFor","ngForOf"],[1,"text-spread","text-small-caps","margin-left-extra-small","margin-horizontal-small","bold"],["cdkDropList","","cdkDropListSortingDisabled","","class","palette-droplist",3,"cdkDropListConnectedTo",4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",1,"palette-droplist",3,"cdkDropListConnectedTo"],["cdkDrag","",1,"editor-component","mat-elevation-z2",3,"cdkDragData","cdkDragDropped","cdkDragEnded","cdkDragStarted"],["class","mat-elevation-z6",4,"cdkDragPlaceholder"],["class","mat-elevation-z4",3,"editorMetadata","layoutMetadata",4,"cdkDragPreview"],[1,"editor-component-name"],["class","editor-component-description",4,"ngIf"],[1,"mat-elevation-z6"],[1,"mat-elevation-z4",3,"editorMetadata","layoutMetadata"],[1,"editor-component-description"]],template:function(t,e){1&t&&(h.Tg(0,"div",0),M.Y(1,z,4,2,"ng-container",1),g.AL(2,"keyvalue"),h.qZ()),2&t&&(v.x(1),f.Q("ngForOf",g.lc(2,1,e._groupedItems)))},dependencies:[o.e,P.s,E.O,S.N,a._,R.W,F.Z,A.p,Y.H,u.s,p.a,d],styles:[".editor-component[_ngcontent-%COMP%]\n{\n    margin: 2px 10px;\n    padding: 4px 8px;\n\n    border-radius: 6px;\n    border: 1px solid #F0F0F0;\n    background-color: #FAFAFA;\n}\n\n.editor-component-name[_ngcontent-%COMP%]\n{\n    font-weight: 500;\n}\n\n.editor-component-description[_ngcontent-%COMP%]\n{\n    margin-left: 4px;\n    margin-top: 2px;\n    font-size: .8em;\n}\n\n.palette-droplist[_ngcontent-%COMP%]   layout-editor-drag-placeholder[_ngcontent-%COMP%]\n{\n    display: none;\n}"],changeDetection:0})},71378:(t,e,n)=>{"use strict";n.d(e,{D:()=>U});var o=n(27052),a=n(63789),i=n(989),r=n(38223),s=n(63152),c=n(84773),l=n(80827),d=n(72891),p=n(43870),u=n(6845),m=n(86357),h=n(66794),g=n(73301),_=n(94727),f=n(15686),y=n(85320),v=n(79440),C=n(68961),b=n(13691),D=n(55436),x=n(82568),M=n(41853),O=n(6427),T=n(83434),k=n(43649),w=n(12311),I=n(21651),L=n(41623),P=n(99055),E=n(23208);function S(t,e){if(1&t){const t=c.E();l.Tg(0,"button",4),d.N("click",(function(){p.CH(t);const e=u.o();return p.Kt(e.toggle())})),l._U(1,"span",5),l.qZ()}if(2&t){const t=u.o();m.u("aria-label","Toggle"),h.x(1),g.Q("ngClass",t.open?"fa-chevron-down":"fa-chevron-right")}}const R=function(t,e){return{metadata:t,parentId:e}};function F(t,e){if(1&t&&(l.Tg(0,"div",8),l._U(1,"components-tree-item",9),l.qZ()),2&t){const t=e.$implicit;g.Q("cdkDragData",_.WL(3,R,null==t.component.options?null:t.component.options.typeMetadata,null==t.parent||null==t.parent.component?null:t.parent.component.id))("cdkDragDisabled",t.component.dragDisabled),h.x(1),g.Q("data",t)}}function A(t,e){if(1&t){const t=c.E();l.Tg(0,"div",6),d.N("cdkDropListDropped",(function(e){p.CH(t);const n=u.o();return p.Kt(null==n.data||null==n.data.component?null:n.data.component.addDescendant(e))})),f.Y(1,F,2,6,"div",7),l.qZ()}if(2&t){const t=u.o();y.ek("hidden",!t.open),g.Q("cdkDropListEnterPredicate",t._canDrop)("id","component-tree-"+(null==t.data||null==t.data.component||null==t.data.component.options||null==t.data.component.options.typeMetadata?null:t.data.component.options.typeMetadata.id)),h.x(1),g.Q("ngForOf",null==t.data?null:t.data.children)}}class Y{constructor(t,e){this._manager=t,this._changeDetector=e,this._initSubscriptions=new r.w,this.open=!0,this._canDrop=()=>this.data?.component?.canDrop()??!1}get hasChildren(){return!!this.data?.children&&this.data?.children.length>0}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.subscribe((()=>{this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.selectedChange.subscribe((()=>{this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.highlightedChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._manager.displayNameChange.subscribe((()=>this._changeDetector.detectChanges())))}ngOnDestroy(){this._initSubscriptions.unsubscribe()}toggle(){this.open=!this.open}expand(t){if(!t)return this.open=!0,!0;if(this.data?.component?.options?.typeMetadata?.id===t)return!0;if(this.hasChildren)for(const e of this._childrenNodes?.toArray())if(e.expand(t))return this.expand(),!0;return!1}expandAll(){this._childrenNodes?.forEach((t=>t.expandAll())),this.expand(),this._changeDetector.detectChanges()}collapse(){this.open=!1}collapseAll(){this._childrenNodes?.forEach((t=>t.collapseAll())),this.collapse(),this._changeDetector.detectChanges()}highlight(t,e){t.preventDefault(),t.stopPropagation(),this._manager.highlightComponent(e)}_cancelHighlight(t){t.preventDefault(),t.stopPropagation(),this._manager.cancelHighlightedComponent()}}function N(t,e){if(1&t){const t=c.E();l.Tg(0,"div",1)(1,"button",2),d.N("click",(function(){p.CH(t);const e=u.o();return p.Kt(null==e.rootTreeItem?null:e.rootTreeItem.collapseAll())})),l._U(2,"span",3),l.qZ(),l.Tg(3,"button",4),d.N("click",(function(){p.CH(t);const e=u.o();return p.Kt(null==e.rootTreeItem?null:e.rootTreeItem.expandAll())})),l._U(4,"span",5),l.qZ(),l._U(5,"components-tree-item",6),l.qZ()}if(2&t){const t=u.o();h.x(5),g.Q("data",t.root)}}Y.ɵfac=function(t){return new(t||Y)(v.Y(T.t),v.Y(C.s))},Y.ɵcmp=b.Xp({type:Y,selectors:[["components-tree-item"]],viewQuery:function(t,e){if(1&t&&D.Gf(Y,5),2&t){let t;D.iG(t=D.CR())&&(e._childrenNodes=t)}},hostBindings:function(t,e){1&t&&d.N("mouseleave",(function(t){return e._cancelHighlight(t)}))},inputs:{data:"data",open:"open"},exportAs:["componentsTreeItem"],standalone:!0,features:[x.j],decls:5,vars:8,consts:[[1,"flex","align-items-center",3,"ngClass"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"mouseover","click"],["class","node-children","cdkDropList","","connectDropLists","","connectDropListsPrefix","component-tree-",3,"cdkDropListEnterPredicate","id","hidden","cdkDropListDropped",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"fa",3,"ngClass"],["cdkDropList","","connectDropLists","","connectDropListsPrefix","component-tree-",1,"node-children",3,"cdkDropListEnterPredicate","id","cdkDropListDropped"],["cdkDrag","","class","node-child",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"node-child",3,"cdkDragData","cdkDragDisabled"],[3,"data"]],template:function(t,e){1&t&&(l.Tg(0,"div",0),f.Y(1,S,2,2,"button",1),l.Tg(2,"div",2),d.N("mouseover",(function(t){return e.highlight(t,null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.id)}))("click",(function(){return e._manager.selectComponent(null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.id)})),M._(3),l.qZ()(),f.Y(4,A,2,5,"div",3)),2&t&&(g.Q("ngClass",e.hasChildren?"nested-node-tree":"node-tree"),h.x(1),g.Q("ngIf",e.hasChildren),h.x(1),y.ek("selected",(null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.id)===e._manager.selectedComponent)("highlighted",(null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.id)===e._manager.highlightedComponent),h.x(1),O.Oq((null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.displayName)||(null==e.data||null==e.data.component||null==e.data.component.options||null==e.data.component.options.typeMetadata?null:e.data.component.options.typeMetadata.id)),h.x(1),g.Q("ngIf",e.hasChildren||e._canDrop()))},dependencies:[Y,o.e,k.m,w.s,I.O,a.o,L.l,i._,P.W,E.Z,s.z],styles:["[_nghost-%COMP%]\n{\n    display: block;\n}\n\n.highlighted[_ngcontent-%COMP%]\n{\n    text-shadow: 0 0 2px #666;\n}\n\n.selected[_ngcontent-%COMP%]\n{\n    text-shadow: 0 0 2px #009cd7;\n}\n\n.node-tree[_ngcontent-%COMP%], .nested-node-tree[_ngcontent-%COMP%]\n{\n    min-height: 48px;\n}\n\n.node-children[_ngcontent-%COMP%] \n{\n  padding-left: 20px;\n  min-height: 10px;\n}\n\n.node-child[_ngcontent-%COMP%]\n{\n    padding-left: 20px;\n}"],changeDetection:0});class U{constructor(t,e){this._manager=t,this._changeDetector=e,this._initSubscriptions=new r.w}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.subscribe((()=>{this.root=this._manager.root,this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.selectedChange.subscribe((()=>{this.rootTreeItem?.expand(this._manager.selectedComponent),this._changeDetector.detectChanges()}))),this._initSubscriptions.add(this._manager.highlightedChange.subscribe((()=>this._changeDetector.detectChanges()))),this._initSubscriptions.add(this._manager.displayNameChange.subscribe((()=>this._changeDetector.detectChanges()))),this.root=this._manager.root}ngOnDestroy(){this._initSubscriptions.unsubscribe()}hasChild(t){return!!t.children&&t.children.length>0}}U.ɵfac=function(t){return new(t||U)(v.Y(T.t),v.Y(C.s))},U.ɵcmp=b.Xp({type:U,selectors:[["components-tree"]],viewQuery:function(t,e){if(1&t&&D.Gf(Y,5),2&t){let t;D.iG(t=D.CR())&&(e.rootTreeItem=t.first)}},standalone:!0,features:[x.j],decls:1,vars:1,consts:[["class","component-tree",4,"ngIf"],[1,"component-tree"],["mat-icon-button","","aria-label","Collapse all",3,"click"],[1,"fa","fa-minus-square"],["mat-icon-button","","aria-label","Expand all",3,"click"],[1,"fa","fa-plus-square"],[3,"data"]],template:function(t,e){1&t&&f.Y(0,N,6,1,"div",0),2&t&&g.Q("ngIf",e.root)},dependencies:[o.e,I.O,a.o,L.l,i._,Y],styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background-color: #fafafa;\n    border-right: 1px solid #ccc;\n}"],changeDetection:0})},69307:(t,e,n)=>{"use strict";n.d(e,{a:()=>i});var o=n(13691),a=n(82568);class i{}i.ɵfac=function(t){return new(t||i)},i.ɵcmp=o.Xp({type:i,selectors:[["layout-editor-drag-placeholder"]],standalone:!0,features:[a.j],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background: #0096cca2;\n    min-height: 10px;\n    width: 85%;\n    margin-left: auto;\n    margin-right: auto;\n    border-radius: 4px;\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}"],changeDetection:0})},53015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var o=n(13691),a=n(82568),i=n(80827),r=n(41853),s=n(66794),c=n(6427);class l{}l.ɵfac=function(t){return new(t||l)},l.ɵcmp=o.Xp({type:l,selectors:[["layout-editor-drag-preview"]],inputs:{editorMetadata:"editorMetadata",layoutMetadata:"layoutMetadata"},standalone:!0,features:[a.j],decls:4,vars:2,consts:[[1,"semi-bold"],[1,"margin-left-extra-small","small-text"]],template:function(t,e){if(1&t&&(i.Tg(0,"span",0),r._(1),i.qZ(),i.Tg(2,"span",1),r._(3),i.qZ()),2&t){let t;s.x(1),c.Oq(null!==(t=null==e.editorMetadata||null==e.editorMetadata.metaInfo?null:e.editorMetadata.metaInfo.name)&&void 0!==t?t:null==e.layoutMetadata?null:e.layoutMetadata.name),s.x(2),c.hi("#",(null==e.layoutMetadata?null:e.layoutMetadata.displayName)||(null==e.layoutMetadata?null:e.layoutMetadata.id),"")}},styles:["[_nghost-%COMP%]\n{\n    display: block;\n    background-color: #eee;\n    border-radius: 6px;\n    padding: 3px 8px;\n}"],changeDetection:0})},21813:(t,e,n)=>{"use strict";n.d(e,{M:()=>H});var o=n(27052),a=n(70625),i=n(68624),r=n(46480),s=n(71791),c=n(14389),l=n(43939),d=n(87606),p=n(57466),u=n(38223),m=n(39163),h=n(77880),g=n(59951),_=n(13691),f=n(38327);class y{}y.ɵfac=function(t){return new(t||y)},y.ɵmod=_.oA({type:y}),y.ɵinj=f.cJ({imports:[o.e,m.z,g.i,h.j]});var v=n(4477),C=n(6845),b=n(66794),D=n(73301),x=n(15686),M=n(80827),O=n(41853),T=n(6427),k=n(79440),w=n(68961),I=n(73379),L=n(82568),P=n(83434),E=n(85902),S=n(43671),R=n(12311),F=n(21651),A=n(49280),Y=n(77470),N=n(27635),U=n(15783),Q=n(36973);function q(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class Z{constructor(t,e){this._viewContainerRef=t,this._logger=e,this._componentRef=null,this.propertiesMetadata=null}ngOnChanges(){var t,e=this;return(t=function*(){if(e._logger?.debug("PropertiesControlRendererDirective: rendering properties control {@type}",{type:e.type?.name}),e.ngOnDestroy(),e._viewContainerRef.clear(),e.type){const t=e._viewContainerRef.injector;if(e._componentRef=e._viewContainerRef.createComponent(e.type,{injector:t}),e._componentRef){const t=e._componentRef.instance;t.propertiesMetadata=e.propertiesMetadata,t.form=e.form,yield(0,d.K)(t.initialize()),t.invalidateVisuals()}}},function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){q(i,o,a,r,s,"next",t)}function s(t){q(i,o,a,r,s,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("PropertiesControlRendererDirective: destroying properties control {@type}",{type:this.type?.name}),this._componentRef?.destroy(),this._componentRef=null)}}function z(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){z(i,o,a,r,s,"next",t)}function s(t){z(i,o,a,r,s,"throw",t)}r(void 0)}))}}function $(t,e){if(1&t&&(v.yn(0),v.Gk(1,8),v.BQ()),2&t){const t=e.$implicit,n=C.o().$implicit;b.x(1),D.Q("propertiesControl",t)("form",n.form)("propertiesMetadata",n.metadata)}}function j(t,e){if(1&t&&(v.yn(0),x.Y(1,$,2,3,"ng-container",7),v.BQ()),2&t){const t=e.$implicit;b.x(1),D.Q("ngForOf",t.controls)}}function X(t,e){if(1&t&&(M.Tg(0,"div",1)(1,"div",2),O._(2,"Properties "),M.Tg(3,"span",3),O._(4),M.qZ()(),M.Tg(5,"div",4)(6,"label",5),O._(7,"Display name"),M.qZ(),M._U(8,"input",6),M.qZ(),x.Y(9,j,2,1,"ng-container",7),M.qZ()),2&t){const t=C.o();let e;b.x(4),T.As("",null!==(e=null==t._metadata||null==t._metadata.metaInfo?null:t._metadata.metaInfo.name)&&void 0!==e?e:null==t._component||null==t._component.options||null==t._component.options.typeMetadata?null:t._component.options.typeMetadata.name," - ",null==t._component||null==t._component.options||null==t._component.options.typeMetadata?null:t._component.options.typeMetadata.id,""),b.x(4),D.Q("formControl",t._displayName),b.x(1),D.Q("ngForOf",t._propertiesData)}}Z.ɵfac=function(t){return new(t||Z)(k.Y(U.s_),k.Y(r.bZ,8))},Z.ɵdir=_.lG({type:Z,selectors:[["","propertiesControl",""]],inputs:{form:"form",propertiesMetadata:"propertiesMetadata",type:["propertiesControl","type"]},features:[Q.T]});class H{constructor(t,e,n,o,i,r){this._manager=t,this._metadataExtractor=e,this._propertyExtractor=n,this._formModelBuilder=o,this._changeDetector=i,this._logger=r,this._initSubscriptions=new u.w,this._optionsFormSubscription=null,this._visible=!1,this._component=null,this._metadata=null,this._displayName=new a.NI(null),this._propertiesData=[]}ngOnInit(){var t=this;this._initSubscriptions.add(this._manager.layoutChange.subscribe((()=>this._initProperties()))),this._initSubscriptions.add(this._manager.selectedChange.subscribe((()=>this._initProperties()))),this._displayName.valueChanges.subscribe(function(){var e=K((function*(e){if(t._component?.options?.typeMetadata&&(0,l.EN)(e)){t._component.options.typeMetadata.displayName=e;const n={};(0,c.m)(n,"options",t._component.options,t._component.options),t._component.options=t._component.options,yield(0,d.K)(t._component.ngOnChanges?.(n)),t._manager.displayNameUpdated()}}));return function(t){return e.apply(this,arguments)}}()),this._initProperties()}ngOnDestroy(){this._initSubscriptions.unsubscribe(),this._optionsFormSubscription?.unsubscribe(),this._optionsFormSubscription=null}_initProperties(){var t=this;return K((function*(){if((0,l.EN)(t._manager.selectedComponent)){t._visible=!0;const e=t._manager.getComponent(t._manager.selectedComponent);e?(t._visible=!0,t._component=e,yield t._getMetadata()):t._hide()}else t._hide()}))()}_getMetadata(){var t=this;return K((function*(){if(t._component?.options?.typeMetadata){if(t._displayName.setValue(t._component.options.typeMetadata.displayName||t._component.options.typeMetadata.id,{emitEvent:!1}),t._metadata=yield t._metadataExtractor.extractMetadata(t._component.options?.typeMetadata),t._metadata||(t._logger?.error("PropertiesEditorSAComponent: unable to get metadata {@source}",{package:t._component.options?.typeMetadata.package,name:t._component.options?.typeMetadata.name}),t._hide()),t._optionsFormSubscription?.unsubscribe(),t._optionsFormSubscription=new u.w,t._propertiesData=[],t._metadata?.metaInfo?.optionsMetadata?.propertiesMetadata?.length)for(const e of t._metadata?.metaInfo?.optionsMetadata?.propertiesMetadata){const n=t._formModelBuilder.build(new e.modelType(t._component?.options?.typeMetadata.options)),o=t._propertyExtractor.extract(e.modelType);t._optionsFormSubscription.add(n.valueChanges.subscribe(function(){var e=K((function*(e){if(t._component?.options?.typeMetadata){(0,p.l7)(!0,t._component.options.typeMetadata.options,e);const n={};(0,c.m)(n,"options",t._component.options,t._component.options),t._component.options=t._component.options,yield(0,d.K)(t._component.ngOnChanges?.(n)),t._component.invalidateVisuals()}}));return function(t){return e.apply(this,arguments)}}())),t._propertiesData.push({form:n,metadata:o,controls:e.propertiesControls})}if(t._component){const e=t._manager.getParent(t._component.id);if(e?.options?.typeMetadata){const n=yield t._metadataExtractor.extractMetadata(e.options?.typeMetadata);if(n?.metaInfo?.optionsMetadata?.childPropertiesMetadata?.length)for(const e of n?.metaInfo?.optionsMetadata?.childPropertiesMetadata){const n=t._formModelBuilder.build(new e.modelType(t._component?.options?.typeMetadata.options)),o=t._propertyExtractor.extract(e.modelType);t._optionsFormSubscription.add(n.valueChanges.subscribe(function(){var e=K((function*(e){if(t._component?.options?.typeMetadata){(0,p.l7)(!0,t._component.options.typeMetadata.options,e);const n={};(0,c.m)(n,"options",t._component.options,t._component.options),t._component.options=t._component.options,yield(0,d.K)(t._component.ngOnChanges?.(n)),t._component.invalidateVisuals()}}));return function(t){return e.apply(this,arguments)}}())),t._propertiesData.push({form:n,metadata:o,controls:e.propertiesControls})}}}}else t._hide();t._changeDetector.detectChanges()}))()}_hide(){this._visible=!1,this._component=null,this._metadata=null,this._propertiesData=[],this._optionsFormSubscription?.unsubscribe(),this._optionsFormSubscription=null,this._changeDetector.detectChanges()}}H.ɵfac=function(t){return new(t||H)(k.Y(P.t),k.Y(E.T),k.Y(S.L),k.Y(s.p),k.Y(w.s),k.Y(r.bZ,8))},H.ɵcmp=_.Xp({type:H,selectors:[["properties-editor"]],standalone:!0,features:[I._([s.p]),L.j],decls:1,vars:1,consts:[["class","properties-main",4,"ngIf"],[1,"properties-main"],[1,"header"],[1,"bold"],[1,"form-group"],[1,"control-label"],["type","text",1,"form-control",3,"formControl"],[4,"ngFor","ngForOf"],[3,"propertiesControl","form","propertiesMetadata"]],template:function(t,e){1&t&&x.Y(0,X,10,4,"div",0),2&t&&D.Q("ngIf",e._visible)},dependencies:[o.e,R.s,F.O,i.U,A.Fj,Y.JJ,N.oH,y,Z],styles:["[_nghost-%COMP%]\n{\n    display: flex;\n    flex-direction: column;\n}\n\n.properties-main[_ngcontent-%COMP%]\n{\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    min-height: 0;\n    border: 1px solid #bbb;\n    background-color: #F5F5F5;\n}\n\n.header[_ngcontent-%COMP%]\n{\n    padding: 2px 8px;\n    background-color: #bbb;\n}\n\n.form-group[_ngcontent-%COMP%]\n{\n    margin: 4px 6px 0;\n}"],changeDetection:0})},63152:(t,e,n)=>{"use strict";n.d(e,{z:()=>l});var o=n(38223),a=n(22294),i=n(79440),r=n(13691),s=n(99055),c=n(83434);class l{constructor(t,e){this._cdkDropList=t,this._manager=e,this._initSubscriptions=new o.w,this._connectDropListsPrefix=""}set connectDropListsPrefix(t){this._connectDropListsPrefix=t,this._setConnectedTo()}get connectDropListsPrefix(){return this._connectDropListsPrefix??""}ngOnInit(){this._initSubscriptions.add(this._manager.layoutChange.pipe((0,a.b)(12)).subscribe((()=>this._setConnectedTo()))),this._setConnectedTo()}ngOnDestroy(){this._initSubscriptions.unsubscribe()}_setConnectedTo(){const t=this._manager.flatTree.filter((t=>t.component.canDrop())).map((t=>this.connectDropListsPrefix+t.component.id)).reverse().filter((t=>t!=this._cdkDropList.id));this._cdkDropList.connectedTo=t}}l.ɵfac=function(t){return new(t||l)(i.Y(s.W),i.Y(c.t))},l.ɵdir=r.lG({type:l,selectors:[["","cdkDropList","","connectDropLists",""]],inputs:{connectDropListsPrefix:"connectDropListsPrefix"},exportAs:["connectDropLists"],standalone:!0})},4820:(t,e,n)=>{"use strict";n.d(e,{RI:()=>v,Yh:()=>C,FX:()=>b,QT:()=>x,sc:()=>D});var o=n(40296),a=n(39273),i=n(43801),r=n(13691),s=n(47098),c=n(80827),l=n(65589),d=n(73301),p=n(49280),u=n(77470),m=n(27635),h=n(61939);class g extends a.L{}g.ɵfac=function(){let t;return function(e){return(t||(t=i.n5(g)))(e||g)}}(),g.ɵcmp=r.Xp({type:g,selectors:[["input-string"]],features:[s.q],decls:2,vars:3,consts:[["type","text",1,"form-control",3,"formControl"]],template:function(t,e){1&t&&(c._U(0,"input",0),l.AL(1,"asRequired")),2&t&&d.Q("formControl",l.lc(1,1,e._control))},dependencies:[p.Fj,u.JJ,m.oH,h.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var _=n(70983);class f extends a.L{}f.ɵfac=function(){let t;return function(e){return(t||(t=i.n5(f)))(e||f)}}(),f.ɵcmp=r.Xp({type:f,selectors:[["input-boolean"]],features:[s.q],decls:2,vars:3,consts:[["type","checkbox",1,"form-control",3,"formControl"]],template:function(t,e){1&t&&(c._U(0,"input",0),l.AL(1,"asRequired")),2&t&&d.Q("formControl",l.lc(1,1,e._control))},dependencies:[_.W,u.JJ,m.oH,h.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var y=n(21147);const v=new o.O("LAYOUT_EDITOR_PROPERTY_METADATA_PROPERTIES"),C=new o.O("LAYOUT_EDITOR_PROPERTY_TYPE_CONTROLS",{providedIn:"root",factory:()=>({inputString:g,inputBoolean:f,selectValue:y.f})}),b=new o.O("LAYOUT_MODULE_TYPES_DATA_EXTRACTORS"),D=new o.O("LAYOUT_MODULE_TYPES_PROVIDERS"),x=new o.O("LAYOUT_MODULE_TYPES_LOADER")},39273:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var o=n(87606),a=n(79440),i=n(68961),r=n(13691);function s(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){s(i,o,a,r,c,"next",t)}function c(t){s(i,o,a,r,c,"throw",t)}r(void 0)}))}}class l{constructor(t){this._changeDetector=t,this._initialized=!1,this.values=[]}get control(){return this._control}set control(t){this._control=t,this._controlSet()}ngOnInit(){var t=this;return c((function*(){t._initialized||(t._initialized=!0,yield(0,o.K)(t._initialize()))}))()}initialize(){var t=this;return c((function*(){yield(0,o.K)(t.ngOnInit())}))()}invalidateVisuals(){this._changeDetector.detectChanges()}_initialize(){}_controlSet(){}}l.ɵfac=function(t){return new(t||l)(a.Y(i.s))},l.ɵdir=r.lG({type:l,inputs:{control:"control",values:"values"}})},21147:(t,e,n)=>{"use strict";n.d(e,{f:()=>v});var o=n(39273),a=n(80827),i=n(73301),r=n(43801),s=n(13691),c=n(47098),l=n(65589),d=n(15686),p=n(66794),u=n(12311),m=n(24881),h=n(17790),g=n(77470),_=n(27635),f=n(61939);function y(t,e){if(1&t&&a._U(0,"option",2),2&t){const t=e.$implicit;i.Q("value",t)("text",t)}}class v extends o.L{}v.ɵfac=function(){let t;return function(e){return(t||(t=r.n5(v)))(e||v)}}(),v.ɵcmp=s.Xp({type:v,selectors:[["select-value"]],features:[c.q],decls:3,vars:4,consts:[[3,"formControl"],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"]],template:function(t,e){1&t&&(a.Tg(0,"select",0),l.AL(1,"asRequired"),d.Y(2,y,1,2,"option",1),a.qZ()),2&t&&(i.Q("formControl",l.lc(1,2,e._control)),p.x(2),i.Q("ngForOf",e.values))},dependencies:[u.s,m.YN,h.Kr,m.EJ,g.JJ,_.oH,f.i],styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0})},59951:(t,e,n)=>{"use strict";n.d(e,{i:()=>l});var o=n(27052),a=n(68624),i=n(5348),r=n(25626),s=n(13691),c=n(38327);class l{}l.ɵfac=function(t){return new(t||l)},l.ɵmod=s.oA({type:l}),l.ɵinj=c.cJ({imports:[o.e,a.U,i.A,r.F]})},85902:(t,e,n)=>{"use strict";n.d(e,{T:()=>c});var o=n(8477),a=n(46480),i=n(11776),r=n(38327);function s(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class c{constructor(t,e){this._loader=t,this._logger=e,this._cache={}}extractMetadata(t){var e,n=this;return(e=function*(){const e=`${t.package}-${t.name}`;if(n._cache[e])return n._cache[e];const o=yield n._loader.loadItem(t);if(!o)return null;const a=o.data;if(!a.layoutEditorMetadata)return n._logger?.warn("LayoutEditorMetadataExtractor: Missing metadata! ",{package:t.package,name:t.name}),null;n._logger?.debug("LayoutEditorMetadataExtractor: Reading metadata! ",{package:t.package,name:t.name});const i=yield a.layoutEditorMetadata;return Object.freeze(i),n._cache[e]=i,i},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(t){s(i,o,a,r,c,"next",t)}function c(t){s(i,o,a,r,c,"throw",t)}r(void 0)}))})()}}c.ɵfac=function(t){return new(t||c)(i.LF(o.Vl),i.LF(a.bZ,8))},c.ɵprov=r.Yz({token:c,factory:c.ɵfac})},83434:(t,e,n)=>{"use strict";n.d(e,{t:()=>c});var o=n(46480),a=n(43939),i=n(53682),r=n(11776),s=n(38327);class c{constructor(t){this._logger=t,this._components={},this._rootComponentId=null,this._selectedComponent=null,this._highlightedComponent=null,this._layoutChange=new i.xQ,this._selectedChange=new i.xQ,this._highlightedChange=new i.xQ,this._displayNameChanges=new i.xQ,this._flatTree=null}get selectedComponent(){return this._selectedComponent}get highlightedComponent(){return this._highlightedComponent}get root(){return(0,a.fp)(this._rootComponentId)?null:this._components[this._rootComponentId]}get layoutChange(){return this._layoutChange.asObservable()}get selectedChange(){return this._selectedChange.asObservable()}get highlightedChange(){return this._highlightedChange.asObservable()}get displayNameChange(){return this._displayNameChanges.asObservable()}get flatTree(){return this._flatTree??(this._flatTree=this._buildFlatTree())}selectComponent(t){this._selectedComponent=t??null,this._selectedChange.next()}unselectComponent(){this._selectedComponent=null,this._selectedChange.next()}highlightComponent(t){this._highlightedComponent=t??null,this._highlightedChange.next()}cancelHighlightedComponent(){this._highlightedComponent=null,this._highlightedChange.next()}registerLayoutDesignerComponent(t,e,n){if((0,a.fp)(n)&&(this._rootComponentId=e),this._components[e])return this._logger?.error(`LayoutEditorMetadataManager: Component with id ${e} is already registered!`),!1;const o=n?this._components[n]:null,i={component:t,parent:o,children:[]};return this._components[e]=i,o&&o.children.splice(o.children.length,0,i),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Registering component {@id}",e),!0}getComponent(t){return this._components[t]?.component??null}getParent(t){return this._components[t]?.parent?.component??null}unregisterLayoutDesignerComponent(t){const e=this._components[t];if(delete this._components[t],e?.parent){const t=e.parent.children.indexOf(e);e.parent.children.splice(t,1)}t===this._rootComponentId&&(this._rootComponentId=null),this._flatTree=null,this._layoutChange.next(),this._logger?.debug("LayoutEditorMetadataManager: Unregistering component {@id}",t)}displayNameUpdated(){this._displayNameChanges.next()}getMetadata(){return(0,a.fp)(this._rootComponentId)||!this._components[this._rootComponentId]?null:this._components[this._rootComponentId].component.options?.typeMetadata??null}_buildFlatTree(){if((0,a.fp)(this._rootComponentId))return[];const t=this._components[this._rootComponentId];return t?this._buildFlatTreeForComponent(t):[]}_buildFlatTreeForComponent(t){let e=[t];for(const n of t.children)e=e.concat(this._buildFlatTreeForComponent(n));return e}}c.ɵfac=function(t){return new(t||c)(r.LF(o.bZ,8))},c.ɵprov=s.Yz({token:c,factory:c.ɵfac})},43671:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var o=n(46480),a=n(57466),i=n(4820),r=n(11776),s=n(38327);class c{constructor(t,e){this._layoutPropertiesSymbols=t,this._logger=e}extract(t){if(!t)return null;this._logger?.debug(`LayoutEditorPropertyMetadataExtractor: Trying to extract properties metadata '${t.name}'`);const e={};for(const n of this._layoutPropertiesSymbols){const o=Reflect.get(t.prototype,n);(0,a.l7)(!0,e,o)}return e}}c.ɵfac=function(t){return new(t||c)(r.LF(i.RI),r.LF(o.bZ,8))},c.ɵprov=s.Yz({token:c,factory:c.ɵfac})},60405:(t,e,n)=>{"use strict";n.d(e,{i:()=>x});var o,a=n(74445),i=n(95176),r=n(46480),s=n(14389),c=n(49891),l=n(87606),d=n(43939);!function(t){t[t.ShowNotFound=0]="ShowNotFound",t[t.Ignore=1]="Ignore",t[t.ThrowError=2]="ThrowError"}(o||(o={}));class p{constructor(t){this.missingTypeBehavior=o.ShowNotFound,(0,d.EN)(t)&&(this.missingTypeBehavior=t)}}var u=n(13691),m=n(82568),h=n(80827),g=n(41853);class _{}_.ɵfac=function(t){return new(t||_)},_.ɵcmp=u.Xp({type:_,selectors:[["not-found-layout-type"]],standalone:!0,features:[m.j],decls:5,vars:0,consts:[[1,"fas","fa-minus-circle"]],template:function(t,e){1&t&&(h.Tg(0,"div"),h._U(1,"span",0),h.Tg(2,"span"),g._(3,"NOT FOUND"),h.qZ(),h._U(4,"span",0),h.qZ())},styles:["[_nghost-%COMP%]{display: block;}"],changeDetection:0});var f=n(8477),y=n(79440),v=n(15783),C=n(73379),b=n(36973);function D(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class x{constructor(t,e,n,o,i,r){this._viewContainerRef=t,this._loader=e,this._childExtensions=n,this._options=o,this._metadataTransformer=i,this._logger=r,this._componentRef=null,this.componentMetadata=null,this.disableTransformer=!1,this.componentChange=new a.v,this._options&&this._options instanceof p||(this._options=new p)}get component(){return this._componentRef?this._componentRef.instance:null}get componentRef(){return this._componentRef}ngOnChanges(t){var e,n=this;return(e=function*(){if(n._logger?.debug("LayoutComponentRendererSADirective: rendering component {@id}",{id:n.componentMetadata?.id}),n.ngOnDestroy(),n._viewContainerRef.clear(),(0,c.$)("componentMetadata")in t&&n.componentMetadata){const t=n.customInjector??n._viewContainerRef.injector;let e=n.componentMetadata;n._metadataTransformer&&!n.disableTransformer&&(e=n._metadataTransformer(n.componentMetadata,t));const a=yield n._loader.loadItem(e);if(!a){switch(n._logger?.warn("LayoutComponentRendererSADirective: Unable to find layout component type {@type}",{name:e.name,package:e.package}),n._options?.missingTypeBehavior){default:n._viewContainerRef.createComponent(_);break;case o.Ignore:break;case o.ThrowError:throw new Error(`LayoutComponentRendererSADirective: Unable to find layout component type Name: ${e.name} Package: ${e.package}`)}return}const r=i.z.create({parent:t,providers:[{provide:f.X5,useValue:a.childExtensions}]});n._componentRef=n._viewContainerRef.createComponent(a.data,{injector:r}),n._logger?.debug("LayoutComponentRendererSADirective: component rendered {@id}",{id:e?.id});const c=n.component;if(c){c.registerExtensions([...n._childExtensions?.map((t=>new t(e)))??[],...a?.extensions?.map((t=>new t(e)))??[]]);const t={};(0,s.m)(t,"options",e.options,c.options,!0),n._logger?.debug("LayoutComponentRendererSADirective: setting options for component {@id}",{id:e?.id}),c.options=e.options,n._logger?.debug("LayoutComponentRendererSADirective: setting changes for component {@id}",{id:e?.id}),yield(0,l.K)(c.ngOnChanges?.(t)),n._logger?.debug("LayoutComponentRendererSADirective: initializing component {@id}",{id:e?.id}),yield(0,l.K)(c.ngOnInit?.()),n._logger?.debug("LayoutComponentRendererSADirective: invalidating component visuals {@id}",{id:e?.id}),c.invalidateVisuals(),n._componentRef.changeDetectorRef.markForCheck(),n.componentChange.next(n._componentRef)}}},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(t){D(i,o,a,r,s,"next",t)}function s(t){D(i,o,a,r,s,"throw",t)}r(void 0)}))})()}ngOnDestroy(){this._componentRef&&(this._logger?.debug("LayoutComponentRendererSADirective: destroying component {@id}",{id:this.componentMetadata?.id,designer:this.disableTransformer}),this._componentRef?.destroy(),this._componentRef=null,this.componentChange.next(null))}}x.ɵfac=function(t){return new(t||x)(y.Y(v.s_),y.Y(f.Vl),y.Y(f.X5,12),y.Y(p,8),y.Y(f.xM,8),y.Y(r.bZ,8))},x.ɵdir=u.lG({type:x,selectors:[["","layoutComponentRenderer",""]],inputs:{componentMetadata:["layoutComponentRenderer","componentMetadata"],customInjector:["layoutComponentRendererInjector","customInjector"],disableTransformer:["layoutComponentRendererDisableTransformer","disableTransformer"]},outputs:{componentChange:"layoutComponentRendererComponentChange"},exportAs:["layoutComponentRenderer"],standalone:!0,features:[C._([{provide:f.X5,useValue:null}]),b.T]})},8477:(t,e,n)=>{"use strict";n.d(e,{Aw:()=>s,Vl:()=>c,X5:()=>i,gM:()=>r,xM:()=>a});var o=n(40296);const a=new o.O("LAYOUT_COMPONENT_TRANSFORM"),i=new o.O("LAYOUT_COMPONENT_CHILD_EXTENSIONS"),r=new o.O("LAYOUT_COMPONENTS_MODULE_DATA_EXTRACTORS"),s=new o.O("LAYOUT_COMPONENTS_MODULE_PROVIDERS"),c=new o.O("LAYOUT_COMPONENTS_LOADER")},14389:(t,e,n)=>{"use strict";function o(t,e,n,o,a=!1){t[e]={currentValue:n,previousValue:o,firstChange:a,isFirstChange:()=>a}}n.d(e,{m:()=>o})},51509:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var o=n(46480),a=n(11776),i=n(38327);function r(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class s{constructor(t){this._logger=t}tryToGet(t){var e,o=this;return(e=function*(){if("basic-components"!=t.package&&"@anglr/dynamic/basic-components"!=t.package)return null;try{return o._logger?.debug("BasicComponentsDynamicModuleItemsProvider: trying to get item {@item}",{name:t.name,package:t.package}),yield n(84635)(`./${t.name}/type`)}catch(e){o._logger?.debug("BasicComponentsDynamicModuleItemsProvider: item {@item} was not found, reason: "+e,{name:t.name,package:t.package})}return null},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(t){r(i,o,a,s,c,"next",t)}function c(t){r(i,o,a,s,c,"throw",t)}s(void 0)}))})()}}s.ɵfac=function(t){return new(t||s)(a.LF(o.bZ,8))},s.ɵprov=i.Yz({token:s,factory:s.ɵfac})},12193:(t,e,n)=>{"use strict";n.d(e,{S:()=>i});var o=n(87606);function a(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class i{constructor(t,e,n,o){this._providers=t,this._extractors=e,this._validatorFn=n,this._logger=o,this._cachedDynamicItems={},Array.isArray(this._providers)||(this._logger?.error("DynamicItemLoader: missing providers!"),this._providers=[]),Array.isArray(this._extractors)||(this._logger?.error("DynamicItemLoader: missing extractors!"),this._extractors=[])}loadItem(t){var e,n=this;return(e=function*(){let e=null;const a=`${t.package}-${t.name}`;if(a in n._cachedDynamicItems)return n._logger?.verbose("DynamicItemLoader: Loading from cache {@source}",{name:t.name,package:t.package}),n._cachedDynamicItems[a];for(const a of n._providers){const n=a.tryToGet(t);if(e=n?yield(0,o.K)(n):null,e)break}if(!e)return n._logger?.debug("DynamicItemLoader: Failed to get dynamic module {@source}",{name:t.name,package:t.package}),null;for(const o of n._extractors){const i=yield o.tryToExtract(e);if(i)return n._cachedDynamicItems[a]=n._validatorFn(i)?i:null,n._cachedDynamicItems[a]||n._logger?.warn("DynamicItemLoader: Found dynamic item {@source} is not of requested type",{name:t.name,package:t.package}),n._cachedDynamicItems[a]}return n._logger?.debug("DynamicItemLoader: Failed to extract dynamic item {@source}",{name:t.name,package:t.package}),n._cachedDynamicItems[a]=null,null},function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function s(t){a(r,o,i,s,c,"next",t)}function c(t){a(r,o,i,s,c,"throw",t)}s(void 0)}))})()}}},65569:(t,e,n)=>{"use strict";n.d(e,{$:()=>s});var o=n(57466),a=n(87606),i=n(43939);function r(t,e,n,o,a,i,r){try{var s=t[i](r),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,a)}class s{constructor(t,e){this._extractorFunctions=t,this._logger=e,Array.isArray(this._extractorFunctions)||(this._logger?.error("DynamicModuleDataExtractor: missing extractor functions!"),this._extractorFunctions=[])}tryToExtract(t){var e,n=this;return(e=function*(){const e={};for(const i of n._extractorFunctions)(0,o.l7)(!0,e,yield(0,a.K)(i(t,n._logger)));return(0,i.Qr)(e)?null:e},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(t){r(i,o,a,s,c,"next",t)}function c(t){r(i,o,a,s,c,"throw",t)}s(void 0)}))})()}}}}]);
//# sourceMappingURL=7532.chunk.7d3ce3a5998f2c3ba994.js.map