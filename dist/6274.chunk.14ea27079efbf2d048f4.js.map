{"version":3,"file":"6274.chunk.14ea27079efbf2d048f4.js","mappings":"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","sources":["webpack://ng-universal-demo/../material-components/src/dynamicItems/tab/tab.metadata.ts","webpack://ng-universal-demo/../material-components/src/dynamicItems/tab/tab.component.html","webpack://ng-universal-demo/../material-components/src/dynamicItems/tab/tab.component.ts","webpack://ng-universal-demo/../material-components/src/dynamicItems/tab/type.ts","webpack://ng-universal-demo/../relations/src/extensions/relationsRegistration/relationsRegistration.extension.ts"],"sourcesContent":["import {DynamicMetadataLoader} from '@anglr/dynamic';\nimport {LayoutEditorMetadataDescriptor} from '@anglr/dynamic/layout-editor';\nimport {RelationsEditorMetadataDescriptor} from '@anglr/dynamic/relations-editor';\n\nimport {MaterialTabComponentOptions} from './tab.options';\n\n/**\n * Material tab layout metadata loader\n */\nexport const MaterialTabLayoutMetadataLoader: DynamicMetadataLoader<LayoutEditorMetadataDescriptor<MaterialTabComponentOptions>> = async () => new (await import('./metadata/tab.layoutMetadata')).MaterialTabLayoutEditorMetadata();\n\n/**\n * Material tab relations metadata loader\n */\nexport const MaterialTabRelationsMetadataLoader: DynamicMetadataLoader<RelationsEditorMetadataDescriptor> = async () => new (await import('./metadata/tab.relationsMetadata')).MaterialTabRelationsEditorMetadata();\n","<ng-container *ngFor=\"let type of options?.children\">\n    <ng-template [layoutComponentRenderer]=\"type\"></ng-template>\n</ng-container>","import {Component, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef, Injector, Inject, Optional, Input} from '@angular/core';\nimport {MAT_TAB, MatTab, MatTabsModule} from '@angular/material/tabs';\nimport {CommonModule} from '@angular/common';\nimport {LayoutComponent, LayoutComponentBase, LayoutComponentRendererSADirective} from '@anglr/dynamic/layout';\nimport {DescendantsGetter, LayoutEditorMetadata} from '@anglr/dynamic/layout-editor';\nimport {RelationsEditorMetadata} from '@anglr/dynamic/relations-editor';\nimport {RelationsComponent} from '@anglr/dynamic/relations';\nimport {HostDisplayBlockStyle} from '@anglr/common';\n\nimport {MaterialTabComponentOptions} from './tab.options';\nimport {MaterialTabLayoutMetadataLoader, MaterialTabRelationsMetadataLoader} from './tab.metadata';\nimport {MATERIAL_TAB_GROUP} from '../tabGroup/tabGroup.component';\n\n/**\n * Component used for displaying toggle panel layout\n */\n@Component(\n{\n    selector: 'material-tab',\n    templateUrl: 'tab.component.html',\n    styles: [HostDisplayBlockStyle],\n    standalone: true,\n    imports:\n    [\n        CommonModule,\n        MatTabsModule,\n        LayoutComponentRendererSADirective,\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\n@DescendantsGetter<MaterialTabComponentOptions>(options => options?.children ?? [])\n@LayoutEditorMetadata(MaterialTabLayoutMetadataLoader)\n@RelationsEditorMetadata(MaterialTabRelationsMetadataLoader)\nexport class MaterialTabSAComponent extends LayoutComponentBase<MaterialTabComponentOptions> implements LayoutComponent<MaterialTabComponentOptions>, RelationsComponent\n{\n    //######################### private properties #########################\n\n    /**\n     * Indication whether tab is visible\n     */\n    private _visible: boolean|null|undefined;\n\n    //######################### public properties #########################\n\n    /**\n     * Material tab relation options\n     */\n    public relationsOptions: any;\n\n    /**\n     * Material tab index in parent tab group\n     */\n    public tabGroupIndex: number|null|undefined;\n\n    //######################### public properties - inputs #########################\n\n    /**\n     * Indication whether tab is visible\n     */\n    @Input()\n    public set visible(visible: boolean|null|undefined)\n    {\n        this._visible = visible;\n        if (this.visible)\n        {\n            this.showTab();\n        }\n        else\n        {\n            this.hideTab();\n        }\n    }\n    public get visible(): boolean|null|undefined\n    {\n        return this._visible;\n    }\n\n    //######################### constructor #########################\n    constructor(changeDetector: ChangeDetectorRef,\n                componentElement: ElementRef<HTMLElement>,\n                injector: Injector,\n                @Inject(MATERIAL_TAB_GROUP) @Optional() private _closestTabGroup: any,\n                @Inject(MAT_TAB) @Optional() private _closestTab: MatTab)\n    {\n        super(changeDetector, componentElement, injector);\n    }\n\n    //######################### protected - overrides #########################\n\n    /**\n     * @inheritdoc\n     */\n    protected override onOptionsSet(): void\n    {}\n\n    /**\n     * Hides tab content\n     */\n    protected hideTab()\n    {\n        if (this._closestTab)\n        {\n            this._closestTab.disabled = true;\n        }\n            \n        this._closestTabGroup?.onHideTab(this.tabGroupIndex);\n    }\n\n    /**\n     * Shows tab content\n     */\n    protected showTab()\n    {\n        if (this._closestTab)\n        {\n            this._closestTab.disabled = false;\n        }\n\n        this._closestTabGroup?.onShowTab();\n    }\n}","import {ComponentStylingExtension} from '@anglr/dynamic/layout';\nimport {RelationsRegistrationExtension} from '@anglr/dynamic/relations';\n\nimport {MaterialTabSAComponent} from './tab.component';\n\nexport default MaterialTabSAComponent;\n\nexport const extensions = [ComponentStylingExtension, RelationsRegistrationExtension];","import {DynamicItemExtension, DynamicItemExtensionBase} from '@anglr/dynamic';\n\nimport {RelationsComponent} from '../../interfaces';\nimport {RelationsComponentManager, RelationsProcessor} from '../../services';\n\n/**\n * Extension that allows registration of component for relations\n */\nexport class RelationsRegistrationExtension extends DynamicItemExtensionBase<unknown, RelationsComponent> implements DynamicItemExtension<unknown, RelationsComponent>\n{\n    //######################### protected properties #########################\n\n    /**\n     * Instance of relations processor\n     */\n    protected relationsProcessor: RelationsProcessor|null = null;\n\n    /**\n     * Instance of component manager\n     */\n    protected componentManager: RelationsComponentManager|null = null;\n\n    //######################### public methods - overrides #########################\n\n    /**\n     * @inheritdoc\n     */\n    protected override async onInit(): Promise<void>\n    {\n        if(!this.injector || !this.metadata || !this.instance)\n        {\n            return;\n        }\n\n        this.relationsProcessor ??= this.injector.get(RelationsProcessor, null);\n        this.componentManager ??= this.injector.get(RelationsComponentManager, null);\n\n        if(!this.relationsProcessor || !this.componentManager)\n        {\n            return;\n        }\n\n        this.componentManager.registerComponent(this.metadata.id, this.instance);\n        await this.relationsProcessor.initialized;\n        this.relationsProcessor.updateRelations(this.metadata.id);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected override onDestroy(): void\n    {\n        if(!this.relationsProcessor || !this.componentManager || !this.metadata)\n        {\n            return;\n        }\n\n        this.relationsProcessor.destroyComponent(this.metadata.id);\n        this.componentManager.unregisterComponent(this.metadata.id);\n    }\n}"],"names":["MaterialTabLayoutMetadataLoader","_ref","_asyncToGenerator","MaterialTabLayoutEditorMetadata","apply","arguments","MaterialTabRelationsMetadataLoader","_ref2","MaterialTabRelationsEditorMetadata","i0","MaterialTabSAComponent_ng_container_0_ng_template_1_Template","type_r1","MaterialTabSAComponent","LayoutComponentBase","visible","this","_visible","showTab","hideTab","constructor","changeDetector","componentElement","injector","_closestTabGroup","_closestTab","super","onOptionsSet","disabled","onHideTab","tabGroupIndex","onShowTab","MATERIAL_TAB_GROUP","MAT_TAB","selectors","inputs","standalone","features","decls","vars","consts","template","rf","ctx","MaterialTabSAComponent_ng_container_0_Template","options","children","CommonModule","i1","MatTabsModule","LayoutComponentRendererSADirective","styles","changeDetection","__decorate","DescendantsGetter","LayoutEditorMetadata","RelationsEditorMetadata","ChangeDetectorRef","ElementRef","Injector","Object","MatTab","extensions","ComponentStylingExtension","RelationsRegistrationExtension","DynamicItemExtensionBase","relationsProcessor","componentManager","onInit","_this","metadata","instance","get","RelationsProcessor","RelationsComponentManager","registerComponent","id","initialized","updateRelations","onDestroy","destroyComponent","unregisterComponent"],"sourceRoot":""}